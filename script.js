const _0x90c6a6=_0x3f71;(function(_0x3232cd,_0x4d573d){const _0x43d93a=_0x3f71,_0x459b7c=_0x3232cd();while(!![]){try{const _0xcd279f=parseInt(_0x43d93a(0x1b5))/0x1*(-parseInt(_0x43d93a(0x3c9))/0x2)+parseInt(_0x43d93a(0x28f))/0x3*(-parseInt(_0x43d93a(0x43d))/0x4)+-parseInt(_0x43d93a(0x22f))/0x5*(-parseInt(_0x43d93a(0x286))/0x6)+-parseInt(_0x43d93a(0x171))/0x7*(parseInt(_0x43d93a(0x30e))/0x8)+-parseInt(_0x43d93a(0x360))/0x9+-parseInt(_0x43d93a(0x1f5))/0xa+parseInt(_0x43d93a(0x2e2))/0xb;if(_0xcd279f===_0x4d573d)break;else _0x459b7c['push'](_0x459b7c['shift']());}catch(_0x392e46){_0x459b7c['push'](_0x459b7c['shift']());}}}(_0x5e19,0xd33bd));const SUPABASE_URL=_0x90c6a6(0x3c0),SUPABASE_ANON_KEY=_0x90c6a6(0x31a),supabase=window[_0x90c6a6(0x125)][_0x90c6a6(0x1e0)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,projects=[],tasks=[],employees=[],filteredProjects=[],currentProjectId=null,currentEditingTaskId=null,currentReportData=null;function hasManagerOrBossPermissions(_0x485eca){const _0x3eef03=_0x90c6a6;return _0x485eca&&(_0x485eca['role']===_0x3eef03(0x162)||_0x485eca[_0x3eef03(0x278)]==='boss');}function isBoss(_0x160e8f){const _0x4c1e43=_0x90c6a6;return _0x160e8f&&_0x160e8f[_0x4c1e43(0x278)]===_0x4c1e43(0x136);}function showProjectsView(){const _0x14a681=_0x90c6a6;document[_0x14a681(0x1ad)](_0x14a681(0x13f))['style']['display']='',document[_0x14a681(0x1ad)](_0x14a681(0x27e))[_0x14a681(0x107)]['display']=_0x14a681(0x11c),currentProjectId=null,stopCountdownUpdates(),updateDashboard(),updateUserInterface();}function openGuestContentPage(){const _0x3a6b86=_0x90c6a6;window[_0x3a6b86(0x14e)](_0x3a6b86(0x36e),_0x3a6b86(0x2c0));}function showTasksView(_0xf9e837){const _0x1d48a2=_0x90c6a6;document[_0x1d48a2(0x1ad)](_0x1d48a2(0x13f))['style'][_0x1d48a2(0x3c8)]=_0x1d48a2(0x11c),document['getElementById'](_0x1d48a2(0x27e))[_0x1d48a2(0x107)][_0x1d48a2(0x3c8)]='',currentProjectId=_0xf9e837,startCountdownUpdates();const _0x590506=projects['find'](_0x43f6ba=>_0x43f6ba['id']===_0xf9e837);_0x590506&&(document['getElementById'](_0x1d48a2(0x397))['textContent']=_0x590506['name']),updateProjectLinkButtons(),renderTasksTable(),setupTaskFilters(),initializeBetaTasks(),renderBetaTasksTable(),updateUserInterface();}document[_0x90c6a6(0x102)](_0x90c6a6(0x151),function(){initializeApp();});function initializeApp(){const _0x56487c=_0x90c6a6,_0x2e6d73=localStorage[_0x56487c(0x118)]('currentUser');_0x2e6d73?(currentUser=JSON[_0x56487c(0x1c4)](_0x2e6d73),updateUserInterface(),loadDataFromSupabase(),setupEventListeners(),setupRealtimeSubscriptions()):(showLoginModal(),hideAllContent());}async function loadDataFromSupabase(){const _0xf222d8=_0x90c6a6;try{const {data:_0x14a0ca,error:_0x3fa087}=await supabase[_0xf222d8(0x19c)](_0xf222d8(0x20d))[_0xf222d8(0x23f)]('*');if(_0x3fa087)throw _0x3fa087;window[_0xf222d8(0x3a5)]=_0x14a0ca||[],employees=window[_0xf222d8(0x3a5)][_0xf222d8(0x3e1)](_0x189223=>_0x189223[_0xf222d8(0x278)]===_0xf222d8(0x219));const _0x516440=window[_0xf222d8(0x3a5)][_0xf222d8(0x3e1)](_0xa1f4a0=>_0xa1f4a0[_0xf222d8(0x278)]===_0xf222d8(0x162)||_0xa1f4a0['role']==='boss');updateManagerFilter(_0x516440),await loadProjects(),await loadTasks(),renderProjectsTable(),syncWordCountFromTaskContentInBackground(),window[_0xf222d8(0x3a5)]&&window[_0xf222d8(0x3a5)][_0xf222d8(0x276)]>0x0&&currentUser&&currentUser[_0xf222d8(0x278)]!=='guest'?loadLeaderboardsInBackground():console['log'](_0xf222d8(0x2ed)),loadNotificationsInBackground(),updateDashboard(),updateUserInterface(),updateAssigneeDropdowns(),setupBetaTaskFilters(),showProjectsView(),setupRealtimeSubscriptions();}catch(_0x59c195){console[_0xf222d8(0x381)]('Error\x20loading\x20data\x20from\x20Supabase:',_0x59c195),showNotification(_0xf222d8(0x104),_0xf222d8(0x381));}}async function loadProjects(){const _0x377d1f=_0x90c6a6;try{let _0x32549a=supabase[_0x377d1f(0x19c)](_0x377d1f(0x2fc))[_0x377d1f(0x23f)](_0x377d1f(0x1f7));const {data:_0x4095e2,error:_0x4c5653}=await _0x32549a;if(_0x4c5653)throw _0x4c5653;projects=_0x4095e2||[],filteredProjects=[...projects],renderProjectsTable();}catch(_0x3e040e){console[_0x377d1f(0x381)](_0x377d1f(0x3c1),_0x3e040e),showNotification(_0x377d1f(0xf9),_0x377d1f(0x381));}}async function loadTasks(_0x4ea41c=null){const _0x3f2f4f=_0x90c6a6;try{let _0x201f2f=supabase['from'](_0x3f2f4f(0x1a7))[_0x3f2f4f(0x23f)]('*');_0x4ea41c&&(_0x201f2f=_0x201f2f['eq']('project_id',_0x4ea41c));const {data:_0x19ded3,error:_0x10214e}=await _0x201f2f;if(_0x10214e)throw _0x10214e;tasks=_0x19ded3||[];try{localStorage[_0x3f2f4f(0x2ca)](_0x3f2f4f(0x1a7),JSON['stringify'](tasks));}catch(_0x5725cb){console[_0x3f2f4f(0x2de)](_0x3f2f4f(0x425),_0x5725cb);}renderTasksTable(),renderProjectsTable();}catch(_0x3ebb5b){console[_0x3f2f4f(0x381)](_0x3f2f4f(0x139),_0x3ebb5b),showNotification(_0x3f2f4f(0x234),_0x3f2f4f(0x381));}}function setupRealtimeSubscriptions(){const _0xf9931=_0x90c6a6;supabase['channel'](_0xf9931(0x2fc))['on'](_0xf9931(0x435),{'event':'*','schema':'public','table':_0xf9931(0x2fc)},_0x35433e=>{const _0xe294d8=_0xf9931;loadProjects(),showNotification(_0xe294d8(0x306),_0xe294d8(0x1bb));})[_0xf9931(0x2da)](),supabase[_0xf9931(0x34a)](_0xf9931(0x1a7))['on'](_0xf9931(0x435),{'event':'*','schema':_0xf9931(0x31c),'table':_0xf9931(0x1a7)},_0x4b8f63=>{const _0x4565ee=_0xf9931;if(currentProjectId&&_0x4b8f63[_0x4565ee(0x30d)]){const _0x26c531=tasks[_0x4565ee(0x27f)](_0x42bb14=>_0x42bb14['id']===_0x4b8f63[_0x4565ee(0x30d)]['id']);_0x26c531!==-0x1&&(tasks[_0x26c531]={...tasks[_0x26c531],..._0x4b8f63['new']}),updateTaskUIInRealTime(_0x4b8f63[_0x4565ee(0x30d)]),renderTasksTable(),renderBetaTasksTable();}})[_0xf9931(0x2da)]();}function updateTaskUIInRealTime(_0xf18f18){const _0x3311df=_0x90c6a6;try{const _0x25fa0e=tasks['findIndex'](_0xf6c56b=>_0xf6c56b['id']===_0xf18f18['id']);_0x25fa0e!==-0x1&&(tasks[_0x25fa0e]={...tasks[_0x25fa0e],..._0xf18f18});const _0x4ebcbf=document[_0x3311df(0x2a4)]('tr[data-task-id=\x22'+_0xf18f18['id']+'\x22]');if(_0x4ebcbf){const _0x3af904=_0x4ebcbf['querySelector'](_0x3311df(0x168)),_0x55332e=_0x4ebcbf[_0x3311df(0x2a4)](_0x3311df(0x166));_0x3af904&&_0xf18f18[_0x3311df(0x298)]&&(_0x3af904[_0x3311df(0x3d9)]=_0x3311df(0x13b)+_0xf18f18[_0x3311df(0x298)][_0x3311df(0x391)]()+_0x3311df(0x218)),_0x55332e&&_0xf18f18[_0x3311df(0x39f)]&&(_0x55332e['innerHTML']=_0x3311df(0x43e)+_0xf18f18[_0x3311df(0x39f)][_0x3311df(0x391)]()+_0x3311df(0x218)),console[_0x3311df(0x21c)](_0x3311df(0x2e6)+_0xf18f18['name']+_0x3311df(0xf8)+_0xf18f18[_0x3311df(0x298)]+_0x3311df(0x316)+_0xf18f18[_0x3311df(0x39f)]+_0x3311df(0xfb));}}catch(_0x5e6356){console[_0x3311df(0x2de)](_0x3311df(0x13c),_0x5e6356);}}async function login(){const _0x455ecc=_0x90c6a6,_0x51badb=document['getElementById'](_0x455ecc(0x3c5))[_0x455ecc(0x3fe)],_0x3744f1=document[_0x455ecc(0x1ad)]('loginPassword')[_0x455ecc(0x3fe)];if(!_0x51badb||!_0x3744f1){showNotification(_0x455ecc(0x30a),_0x455ecc(0x381));return;}try{const {data:_0x3b9f45,error:_0x3cf3bc}=await supabase[_0x455ecc(0x26b)][_0x455ecc(0x35f)]({'email':_0x51badb,'password':_0x3744f1});if(_0x3cf3bc)throw _0x3cf3bc;const {data:_0x1bf498,error:_0x237d85}=await supabase['from'](_0x455ecc(0x20d))[_0x455ecc(0x23f)]('*')['eq'](_0x455ecc(0x2c3),_0x51badb)[_0x455ecc(0x1b2)]();if(_0x237d85)throw _0x237d85;currentUser=_0x1bf498,localStorage[_0x455ecc(0x2ca)]('currentUser',JSON['stringify'](_0x1bf498));const _0x2de784=bootstrap[_0x455ecc(0x34c)][_0x455ecc(0x314)](document[_0x455ecc(0x1ad)]('loginModal'));_0x2de784[_0x455ecc(0x105)](),updateUserInterface(),loadDataFromSupabase(),showNotification(_0x455ecc(0x406)+_0x1bf498[_0x455ecc(0x1e8)]+'!',_0x455ecc(0x14f)),document[_0x455ecc(0x1ad)](_0x455ecc(0x3fc))[_0x455ecc(0x3a8)]();}catch(_0x2831fa){console[_0x455ecc(0x381)](_0x455ecc(0x2b5),_0x2831fa),showNotification('Email\x20hoặc\x20mật\x20khẩu\x20không\x20đúng','error');}}function logout(){const _0x3a2aad=_0x90c6a6;currentUser=null,localStorage[_0x3a2aad(0x140)](_0x3a2aad(0x371)),updateUserInterface(),showNotification(_0x3a2aad(0x2a8),_0x3a2aad(0x1bb));}function updateUserInterface(){const _0x55264d=_0x90c6a6,_0x48a3bc=document['getElementById'](_0x55264d(0x371)),_0x2f0ca0=document['getElementById'](_0x55264d(0x2f8)),_0x3eea00=document[_0x55264d(0x1ad)]('addTaskBtn'),_0x1f6c54=document[_0x55264d(0x1ad)]('viewEmployeesBtn'),_0x3dbcad=document[_0x55264d(0x1ad)](_0x55264d(0x188)),_0x467fc4=document['getElementById']('mainContent');if(currentUser){_0x48a3bc[_0x55264d(0x3ea)]=currentUser[_0x55264d(0x1e8)],_0x2f0ca0[_0x55264d(0x107)][_0x55264d(0x3c8)]=hasManagerOrBossPermissions(currentUser)?'inline-block':_0x55264d(0x11c);const _0x4c117e=document[_0x55264d(0x1ad)](_0x55264d(0x27e)),_0x32570c=_0x4c117e&&_0x4c117e[_0x55264d(0x107)][_0x55264d(0x3c8)]!==_0x55264d(0x11c);_0x3eea00['style'][_0x55264d(0x3c8)]=hasManagerOrBossPermissions(currentUser)&&_0x32570c?_0x55264d(0x28a):_0x55264d(0x11c);const _0x45deca=document[_0x55264d(0x1ad)]('projectsView'),_0x23928e=_0x45deca&&_0x45deca[_0x55264d(0x107)]['display']!==_0x55264d(0x11c);updateRateMembersButton(),_0x1f6c54['style'][_0x55264d(0x3c8)]=hasManagerOrBossPermissions(currentUser)?'inline-block':_0x55264d(0x11c);const _0x2bb915=document[_0x55264d(0x1ad)](_0x55264d(0x29f));_0x2bb915&&(_0x2bb915[_0x55264d(0x107)]['display']=hasManagerOrBossPermissions(currentUser)?_0x55264d(0x28a):_0x55264d(0x11c));const _0x3f76af=document['getElementById'](_0x55264d(0x39b));_0x3f76af&&(_0x3f76af[_0x55264d(0x107)]['display']=hasManagerOrBossPermissions(currentUser)?_0x55264d(0x28a):_0x55264d(0x11c));const _0x18decd=document[_0x55264d(0x1ad)]('editAnnouncementBtn');_0x18decd&&(_0x18decd['style'][_0x55264d(0x3c8)]=hasManagerOrBossPermissions(currentUser)?'block':_0x55264d(0x11c));updateRateMembersButton();if(_0x467fc4)_0x467fc4[_0x55264d(0x107)][_0x55264d(0x3c8)]=_0x55264d(0x112);if(_0x3dbcad)_0x3dbcad['style']['display']=_0x55264d(0x11c);updateAssigneeDropdowns(),loadLeaderboards();}else{_0x48a3bc[_0x55264d(0x3ea)]=_0x55264d(0x345),_0x2f0ca0[_0x55264d(0x107)][_0x55264d(0x3c8)]='none',_0x3eea00[_0x55264d(0x107)][_0x55264d(0x3c8)]=_0x55264d(0x11c),_0x1f6c54[_0x55264d(0x107)][_0x55264d(0x3c8)]=_0x55264d(0x11c);const _0x1a1aa9=document[_0x55264d(0x1ad)](_0x55264d(0x29f));_0x1a1aa9&&(_0x1a1aa9['style'][_0x55264d(0x3c8)]=_0x55264d(0x11c));const _0x5ae7e5=document[_0x55264d(0x1ad)]('rateMembersBtn');_0x5ae7e5&&(_0x5ae7e5[_0x55264d(0x107)][_0x55264d(0x3c8)]=_0x55264d(0x11c));if(_0x467fc4)_0x467fc4[_0x55264d(0x107)][_0x55264d(0x3c8)]='none';_0x3dbcad&&(_0x3dbcad[_0x55264d(0x107)][_0x55264d(0x3c8)]='block',_0x3dbcad[_0x55264d(0x3d9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3><i\x20class=\x22fas\x20fa-lock\x20text-warning\x22></i>\x20Yêu\x20cầu\x20đăng\x20nhập</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x22>Vui\x20lòng\x20đăng\x20nhập\x20để\x20truy\x20cập\x20hệ\x20thống\x20quản\x20lý\x20dự\x20án.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x22\x20onclick=\x22showLoginModal()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-in-alt\x20me-2\x22></i>Đăng\x20nhập\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}async function addProject(){const _0x3f83eb=_0x90c6a6,_0x2a9840=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x36d))[_0x3f83eb(0x3fe)],_0x27b8a9=document['getElementById']('projectDescription')['value'],_0x2f4d62=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x277))[_0x3f83eb(0x3fe)],_0x56fa1a=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x1b6))[_0x3f83eb(0x3fe)],_0x59cbae=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x296))[_0x3f83eb(0x3fe)],_0x7ef915=document['getElementById']('projectRuleLink')[_0x3f83eb(0x3fe)],_0x1cb047=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x410))[_0x3f83eb(0x3fe)],_0x4bdf91=document[_0x3f83eb(0x1ad)](_0x3f83eb(0x3b1))[_0x3f83eb(0x3fe)];if(!_0x2a9840){showNotification(_0x3f83eb(0x2ce),_0x3f83eb(0x381));return;}try{const {data:_0x38a863,error:_0x968ec2}=await supabase[_0x3f83eb(0x19c)]('projects')['insert']([{'name':_0x2a9840,'description':_0x27b8a9,'status':_0x2f4d62,'manager_id':_0x56fa1a||currentUser['id'],'story_link':_0x59cbae||null,'rule_link':_0x7ef915||null,'bnv_link':_0x1cb047||null,'dialogue_link':_0x4bdf91||null,'created_at':new Date()[_0x3f83eb(0x217)]()}])[_0x3f83eb(0x23f)]();if(_0x968ec2)throw _0x968ec2;const _0x150100=bootstrap[_0x3f83eb(0x34c)]['getInstance'](document[_0x3f83eb(0x1ad)](_0x3f83eb(0x289)));_0x150100[_0x3f83eb(0x105)](),showNotification(_0x3f83eb(0x26a),'success'),_0x38a863&&_0x38a863[0x0]&&await applyBulkRatesForNewProject(_0x38a863[0x0]['id']),document['getElementById'](_0x3f83eb(0x1f0))['reset']();}catch(_0x17e9bd){console[_0x3f83eb(0x381)](_0x3f83eb(0x28b),_0x17e9bd),showNotification(_0x3f83eb(0x12e),_0x3f83eb(0x381));}}function canOperateOnProject(_0xe582fc){const _0x185834=_0x90c6a6;if(!currentUser)return![];if(isBoss(currentUser))return!![];if(currentUser[_0x185834(0x278)]===_0x185834(0x162))return currentUser['id']===_0xe582fc[_0x185834(0x30f)];return![];}function canOperateOnTask(_0x460027){const _0x4bcd87=_0x90c6a6;if(!currentUser)return![];if(isBoss(currentUser))return!![];if(currentUser[_0x4bcd87(0x278)]===_0x4bcd87(0x162)){const _0x1389e5=projects[_0x4bcd87(0x419)](_0x470134=>_0x470134['id']===_0x460027[_0x4bcd87(0x283)]);return _0x1389e5&&currentUser['id']===_0x1389e5['manager_id'];}if(currentUser['role']==='employee')return currentUser['id']===_0x460027[_0x4bcd87(0x2bd)];return![];}function getEditableFields(_0x3b9a9c,_0x34d6ff){const _0x22c547=_0x90c6a6,_0x4f5d08={'rv':{'manager':['name',_0x22c547(0x265),_0x22c547(0x1a8),_0x22c547(0x3c7),_0x22c547(0x259),'dialogue_chars',_0x22c547(0x298),_0x22c547(0x39f),_0x22c547(0x1b0),_0x22c547(0x1a0),_0x22c547(0x2bd)],'employee':[_0x22c547(0x259),_0x22c547(0x280),_0x22c547(0x298),'notes'],'boss':['name',_0x22c547(0x265),_0x22c547(0x1a8),_0x22c547(0x3c7),_0x22c547(0x259),_0x22c547(0x280),_0x22c547(0x298),_0x22c547(0x39f),'rate',_0x22c547(0x1a0),_0x22c547(0x2bd)]},'beta':{'manager':[_0x22c547(0x1e8),'description',_0x22c547(0x1a8),_0x22c547(0x3c7),_0x22c547(0x398),_0x22c547(0x22c),_0x22c547(0x1cb),'beta_rate',_0x22c547(0x2bd)],'employee':['beta_link',_0x22c547(0x22c),_0x22c547(0x1cb)],'boss':[_0x22c547(0x1e8),_0x22c547(0x265),'deadline',_0x22c547(0x3c7),_0x22c547(0x398),_0x22c547(0x22c),_0x22c547(0x1cb),_0x22c547(0x297),'assignee_id']}};return _0x4f5d08[_0x3b9a9c]?.[_0x34d6ff]||[];}function isFieldEditable(_0x16362e){const _0x1785da=_0x90c6a6;if(!currentUser||!currentTaskType)return![];const _0x2734f0=getEditableFields(currentTaskType,currentUser[_0x1785da(0x278)]);return _0x2734f0[_0x1785da(0x1ac)](_0x16362e);}async function editProject(_0x1f7798){const _0x2f8150=_0x90c6a6,_0x40d3a7=projects[_0x2f8150(0x419)](_0xac904d=>_0xac904d['id']===_0x1f7798);if(!_0x40d3a7)return;if(!canOperateOnProject(_0x40d3a7)){showNotification(_0x2f8150(0xff),'error');return;}document['getElementById'](_0x2f8150(0x3dc))[_0x2f8150(0x3fe)]=_0x40d3a7['id'],document[_0x2f8150(0x1ad)]('projectName')[_0x2f8150(0x3fe)]=_0x40d3a7[_0x2f8150(0x1e8)],document[_0x2f8150(0x1ad)]('projectDescription')[_0x2f8150(0x3fe)]=_0x40d3a7['description']||'',document[_0x2f8150(0x1ad)](_0x2f8150(0x277))[_0x2f8150(0x3fe)]=_0x40d3a7[_0x2f8150(0x329)],document[_0x2f8150(0x1ad)](_0x2f8150(0x296))[_0x2f8150(0x3fe)]=_0x40d3a7[_0x2f8150(0x110)]||'',document[_0x2f8150(0x1ad)](_0x2f8150(0x372))[_0x2f8150(0x3fe)]=_0x40d3a7[_0x2f8150(0x3c2)]||'',document[_0x2f8150(0x1ad)](_0x2f8150(0x410))[_0x2f8150(0x3fe)]=_0x40d3a7['bnv_link']||'',document[_0x2f8150(0x1ad)]('projectDialogueLink')['value']=_0x40d3a7[_0x2f8150(0x229)]||'',document[_0x2f8150(0x1ad)](_0x2f8150(0x3bb))[_0x2f8150(0x3ea)]=_0x2f8150(0x20b),await populateManagerDropdown(),document['getElementById'](_0x2f8150(0x1b6))[_0x2f8150(0x3fe)]=_0x40d3a7[_0x2f8150(0x30f)]||'';const _0x2803d3=new bootstrap[(_0x2f8150(0x34c))](document['getElementById']('projectModal'));_0x2803d3['show'](),await setupBulkRateFunctionality(_0x40d3a7['id']);}async function setupBulkRateFunctionality(_0x290c56){const _0x2c6810=_0x90c6a6,_0x5d80bb=document[_0x2c6810(0x1ad)](_0x2c6810(0x2b7)),_0x5c7e06=document[_0x2c6810(0x1ad)](_0x2c6810(0x307)),_0x296707=document[_0x2c6810(0x1ad)]('projectEmployeeSelect');_0x5d80bb[_0x2c6810(0x102)](_0x2c6810(0x415),function(){const _0x836e17=_0x2c6810;this['value']===_0x836e17(0x120)?(_0x5c7e06[_0x836e17(0x107)][_0x836e17(0x3c8)]=_0x836e17(0x112),populateProjectEmployeeDropdown(_0x290c56)):_0x5c7e06[_0x836e17(0x107)][_0x836e17(0x3c8)]=_0x836e17(0x11c);}),_0x5d80bb[_0x2c6810(0x3fe)]==='individual'&&await populateProjectEmployeeDropdown(_0x290c56);}async function populateProjectEmployeeDropdown(_0x1b5dba){const _0x2f77a0=_0x90c6a6,_0x3c40f5=document[_0x2f77a0(0x1ad)](_0x2f77a0(0x34f));let _0x1d25a5=[];if(_0x1b5dba){const _0x5eec05=tasks[_0x2f77a0(0x3e1)](_0x149972=>_0x149972[_0x2f77a0(0x283)]===_0x1b5dba),_0x565081=[...new Set(_0x5eec05[_0x2f77a0(0x1d4)](_0x2303f9=>_0x2303f9[_0x2f77a0(0x2bd)])['filter'](_0x5dd163=>_0x5dd163))];_0x1d25a5=window[_0x2f77a0(0x3a5)]['filter'](_0x396fc5=>_0x565081['includes'](_0x396fc5['id']));}else _0x1d25a5=window[_0x2f77a0(0x3a5)][_0x2f77a0(0x3e1)](_0x3107c3=>_0x3107c3['role']==='employee');_0x3c40f5[_0x2f77a0(0x3d9)]='',_0x1d25a5['forEach'](_0x4c32f2=>{const _0x555c93=_0x2f77a0,_0x5660e6=document[_0x555c93(0x195)](_0x555c93(0x156));_0x5660e6[_0x555c93(0x3fe)]=_0x4c32f2['id'],_0x5660e6[_0x555c93(0x3ea)]=_0x4c32f2[_0x555c93(0x1e8)]+'\x20('+_0x4c32f2['role']+')',_0x3c40f5['appendChild'](_0x5660e6);});}async function applyBulkRates(){const _0x42d6fa=_0x90c6a6,_0x81a204=parseInt(document[_0x42d6fa(0x1ad)](_0x42d6fa(0x3dc))['value']),_0x52b146=parseFloat(document[_0x42d6fa(0x1ad)](_0x42d6fa(0x257))[_0x42d6fa(0x3fe)])||0x0,_0x37e2ad=parseFloat(document[_0x42d6fa(0x1ad)]('projectBetaRate')[_0x42d6fa(0x3fe)])||0x0,_0x17f09e=document[_0x42d6fa(0x1ad)](_0x42d6fa(0x2b7))[_0x42d6fa(0x3fe)],_0x4c2c8e=Array[_0x42d6fa(0x19c)](document[_0x42d6fa(0x1ad)]('projectEmployeeSelect')[_0x42d6fa(0x25b)])['map'](_0x5c47b5=>_0x5c47b5[_0x42d6fa(0x3fe)]);if(_0x52b146===0x0&&_0x37e2ad===0x0){showNotification(_0x42d6fa(0x228),_0x42d6fa(0x381));return;}if(_0x17f09e===_0x42d6fa(0x120)&&_0x4c2c8e[_0x42d6fa(0x276)]===0x0){showNotification('Vui\x20lòng\x20chọn\x20ít\x20nhất\x20một\x20nhân\x20viên','error');return;}try{let _0x24a339=tasks['filter'](_0x6e61f8=>_0x6e61f8[_0x42d6fa(0x283)]===_0x81a204);_0x17f09e===_0x42d6fa(0x120)&&(_0x24a339=_0x24a339['filter'](_0x1f9481=>_0x4c2c8e[_0x42d6fa(0x1ac)](_0x1f9481[_0x42d6fa(0x2bd)])));if(_0x24a339[_0x42d6fa(0x276)]===0x0){showNotification(_0x42d6fa(0x20f),_0x42d6fa(0x1bb));return;}const _0x5f126f=0xa;for(let _0x40d815=0x0;_0x40d815<_0x24a339[_0x42d6fa(0x276)];_0x40d815+=_0x5f126f){const _0x5ea842=_0x24a339[_0x42d6fa(0x281)](_0x40d815,_0x40d815+_0x5f126f);for(const _0x1bce64 of _0x5ea842){const _0xe64b77={};_0x52b146>0x0&&_0x1bce64[_0x42d6fa(0x2f9)]==='rv'&&(_0xe64b77[_0x42d6fa(0x1b0)]=_0x52b146);_0x37e2ad>0x0&&_0x1bce64[_0x42d6fa(0x2f9)]==='beta'&&(_0xe64b77[_0x42d6fa(0x297)]=_0x37e2ad);if(Object[_0x42d6fa(0x174)](_0xe64b77)[_0x42d6fa(0x276)]>0x0){const {error:_0x4cd189}=await supabase[_0x42d6fa(0x19c)](_0x42d6fa(0x1a7))[_0x42d6fa(0x230)](_0xe64b77)['eq']('id',_0x1bce64['id']);if(_0x4cd189)throw _0x4cd189;}}}await loadTasks(_0x81a204);const _0x3f59fc=_0x24a339[_0x42d6fa(0x276)];showNotification(_0x42d6fa(0x261)+_0x3f59fc+_0x42d6fa(0x2dc),_0x42d6fa(0x14f));}catch(_0x4a65b7){console[_0x42d6fa(0x381)]('Error\x20applying\x20bulk\x20rates:',_0x4a65b7),showNotification('Lỗi\x20khi\x20áp\x20dụng\x20rate\x20hàng\x20loạt',_0x42d6fa(0x381));}}async function applyBulkRatesForNewProject(_0x205e05){const _0x3c36f8=_0x90c6a6,_0x449cdf=parseFloat(document[_0x3c36f8(0x1ad)]('projectRVRate')[_0x3c36f8(0x3fe)])||0x0,_0x41064c=parseFloat(document[_0x3c36f8(0x1ad)](_0x3c36f8(0x43f))['value'])||0x0,_0xb59d70=document['getElementById'](_0x3c36f8(0x2b7))[_0x3c36f8(0x3fe)],_0x3c326c=Array['from'](document[_0x3c36f8(0x1ad)](_0x3c36f8(0x34f))['selectedOptions'])[_0x3c36f8(0x1d4)](_0x5ae67a=>_0x5ae67a[_0x3c36f8(0x3fe)]);if(_0x449cdf===0x0&&_0x41064c===0x0)return;try{let _0x19c142=[];if(_0xb59d70===_0x3c36f8(0x120)&&_0x3c326c[_0x3c36f8(0x276)]>0x0)_0x19c142=_0x3c326c;else _0xb59d70===_0x3c36f8(0x404)&&(_0x19c142=window[_0x3c36f8(0x3a5)][_0x3c36f8(0x3e1)](_0x40cab6=>_0x40cab6[_0x3c36f8(0x278)]===_0x3c36f8(0x219))[_0x3c36f8(0x1d4)](_0x4bd12f=>_0x4bd12f['id']));if(_0x19c142[_0x3c36f8(0x276)]===0x0)return;const _0x4662ac=[];for(const _0x858380 of _0x19c142){_0x449cdf>0x0&&_0x4662ac[_0x3c36f8(0x18e)]({'name':_0x3c36f8(0x36b),'description':_0x3c36f8(0x340),'deadline':new Date(Date['now']()+0x7*0x18*0x3c*0x3c*0x3e8)[_0x3c36f8(0x217)](),'priority':_0x3c36f8(0x264),'status':_0x3c36f8(0x147),'project_id':_0x205e05,'assignee_id':_0x858380,'task_type':'rv','rate':_0x449cdf,'created_at':new Date()['toISOString']()}),_0x41064c>0x0&&_0x4662ac['push']({'name':_0x3c36f8(0x3fb),'description':_0x3c36f8(0x364),'deadline':new Date(Date['now']()+0x8*0x18*0x3c*0x3c*0x3e8)['toISOString'](),'priority':_0x3c36f8(0x264),'status':_0x3c36f8(0x147),'project_id':_0x205e05,'assignee_id':_0x858380,'task_type':'beta','beta_rate':_0x41064c,'created_at':new Date()[_0x3c36f8(0x217)]()});}if(_0x4662ac['length']>0x0){const {error:_0x2cad12}=await supabase['from'](_0x3c36f8(0x1a7))[_0x3c36f8(0x199)](_0x4662ac);if(_0x2cad12)throw _0x2cad12;showNotification(_0x3c36f8(0x347)+_0x4662ac[_0x3c36f8(0x276)]+'\x20task\x20với\x20rate\x20hàng\x20loạt\x20cho\x20dự\x20án\x20mới!',_0x3c36f8(0x14f));}}catch(_0x5392f0){console[_0x3c36f8(0x381)](_0x3c36f8(0x103),_0x5392f0),showNotification(_0x3c36f8(0x309),'error');}}async function saveProject(){const _0x176f56=_0x90c6a6,_0x5b35b0=document[_0x176f56(0x1ad)](_0x176f56(0x3dc))['value'];_0x5b35b0?await updateProject():await addProject();}async function updateProject(){const _0x39b504=_0x90c6a6,_0x5d58b1=parseInt(document[_0x39b504(0x1ad)](_0x39b504(0x3dc))[_0x39b504(0x3fe)]),_0x18e12d=document[_0x39b504(0x1ad)](_0x39b504(0x36d))[_0x39b504(0x3fe)],_0x497cb4=document[_0x39b504(0x1ad)](_0x39b504(0x132))[_0x39b504(0x3fe)],_0x10c5ed=document[_0x39b504(0x1ad)](_0x39b504(0x277))[_0x39b504(0x3fe)],_0x13c2ff=document[_0x39b504(0x1ad)](_0x39b504(0x1b6))['value'],_0x209a78=document[_0x39b504(0x1ad)]('projectStoryLink')[_0x39b504(0x3fe)],_0x52c091=document[_0x39b504(0x1ad)](_0x39b504(0x372))[_0x39b504(0x3fe)],_0xb4fdab=document[_0x39b504(0x1ad)]('projectBnvLink')['value'],_0x36531b=document[_0x39b504(0x1ad)](_0x39b504(0x3b1))[_0x39b504(0x3fe)];if(!_0x18e12d){showNotification(_0x39b504(0x2ce),_0x39b504(0x381));return;}try{const {error:_0xac1bb0}=await supabase['from'](_0x39b504(0x2fc))['update']({'name':_0x18e12d,'description':_0x497cb4,'status':_0x10c5ed,'manager_id':_0x13c2ff||null,'story_link':_0x209a78||null,'rule_link':_0x52c091||null,'bnv_link':_0xb4fdab||null,'dialogue_link':_0x36531b||null,'updated_at':new Date()[_0x39b504(0x217)]()})['eq']('id',_0x5d58b1);if(_0xac1bb0)throw _0xac1bb0;const _0x40afaf=bootstrap['Modal'][_0x39b504(0x314)](document[_0x39b504(0x1ad)]('projectModal'));_0x40afaf[_0x39b504(0x105)](),showNotification(_0x39b504(0x275),_0x39b504(0x14f)),document[_0x39b504(0x1ad)](_0x39b504(0x1f0))[_0x39b504(0x3a8)](),document[_0x39b504(0x1ad)]('projectModalTitle')[_0x39b504(0x3ea)]=_0x39b504(0x163);}catch(_0x186eb7){console['error'](_0x39b504(0x21e),_0x186eb7),showNotification('Lỗi\x20cập\x20nhật\x20dự\x20án',_0x39b504(0x381));}}async function deleteProject(_0xefb10c){const _0x539ecf=_0x90c6a6,_0x20d928=projects[_0x539ecf(0x419)](_0x17b62f=>_0x17b62f['id']===_0xefb10c);if(!_0x20d928)return;if(!canOperateOnProject(_0x20d928)){showNotification(_0x539ecf(0x3d8),_0x539ecf(0x381));return;}if(!confirm(_0x539ecf(0x17b)))return;try{const {error:_0x2c31fd}=await supabase[_0x539ecf(0x19c)]('projects')['delete']()['eq']('id',_0xefb10c);if(_0x2c31fd)throw _0x2c31fd;showNotification(_0x539ecf(0x266),'success');}catch(_0x1dce6f){console[_0x539ecf(0x381)]('Error\x20deleting\x20project:',_0x1dce6f),showNotification(_0x539ecf(0xfd),_0x539ecf(0x381));}}async function addTask(){const _0x598438=_0x90c6a6;currentEditingTaskId=null;const _0x189968=document[_0x598438(0x1ad)](_0x598438(0x354)),_0x1b6bd0=document[_0x598438(0x1ad)](_0x598438(0x317)),_0x57ba5f=document['getElementById'](_0x598438(0x376)),_0x9f777d=currentProjectId||(document['getElementById']('taskProjectId')?document[_0x598438(0x1ad)](_0x598438(0x2d2))[_0x598438(0x3fe)]:null),_0x4b4e68=document['getElementById'](_0x598438(0x3dd))?.[_0x598438(0x192)],_0x311bea=parseInt(document[_0x598438(0x1ad)](_0x598438(0x29a))?.[_0x598438(0x3fe)])||0x1,_0x35563d=parseInt(document[_0x598438(0x1ad)](_0x598438(0x1b9))?.[_0x598438(0x3fe)])||0x1,_0x18b100=_0x189968?_0x189968[_0x598438(0x3fe)]:'',_0x3d1830=_0x1b6bd0?_0x1b6bd0[_0x598438(0x3fe)]:'',_0x3c4092=_0x57ba5f?_0x57ba5f['value']:'';if(!_0x18b100||!_0x3d1830||!_0x9f777d){showNotification('Vui\x20lòng\x20điền\x20đầy\x20đủ\x20thông\x20tin\x20bắt\x20buộc',_0x598438(0x381));return;}if(currentUser&&currentUser['role']==='employee'){const _0xf15afa=projects['find'](_0x10e539=>_0x10e539['id']===parseInt(_0x9f777d));if(_0xf15afa&&_0xf15afa['status']===_0x598438(0x17d)){showNotification(_0x598438(0x29d),_0x598438(0x381));return;}}try{const _0x24fdee=document[_0x598438(0x1ad)]('taskDescription')?.[_0x598438(0x3fe)]||'',_0x22a0e1='',_0x484cbf=document['getElementById'](_0x598438(0x386))?.[_0x598438(0x3fe)]||'',_0x18887a=document['getElementById'](_0x598438(0x432))?.['value']||null,_0x426b46=document['getElementById'](_0x598438(0x2ac))?.[_0x598438(0x3fe)]||null,_0x314f32=document[_0x598438(0x1ad)](_0x598438(0x23b))?.[_0x598438(0x3fe)]||null,_0x4818a0=document[_0x598438(0x1ad)]('taskRVChars')?.[_0x598438(0x3fe)]||null,_0x4f44be=document[_0x598438(0x1ad)](_0x598438(0x302))?.[_0x598438(0x3fe)]||null,_0x101139=document[_0x598438(0x1ad)](_0x598438(0x22d))?.['value']||null,_0x1489bd=document['getElementById'](_0x598438(0x2e7))?.[_0x598438(0x3fe)]||null,_0x2d9c2a=document[_0x598438(0x1ad)](_0x598438(0x1cf))?.[_0x598438(0x3fe)]||'',_0x3f9587=document[_0x598438(0x1ad)](_0x598438(0x161))?.['value']||'';let _0x492d5b=[];if(_0x4b4e68&&_0x311bea>0x1)for(let _0x3a727e=0x0;_0x3a727e<_0x311bea;_0x3a727e++){_0x492d5b[_0x598438(0x18e)]({'name':_0x18b100+'\x20'+(_0x35563d+_0x3a727e),'description':_0x24fdee,'deadline':new Date(_0x3d1830)[_0x598438(0x217)](),'priority':_0x3c4092,'status':_0x598438(0x147),'project_id':parseInt(_0x9f777d),'task_type':currentTaskType,'submission_link':_0x22a0e1||null,'beta_link':_0x484cbf||null,'assignee_id':_0x18887a,'dialogue_chars':_0x426b46?parseInt(_0x426b46):null,'total_chars':_0x314f32?parseInt(_0x314f32):null,'rv_chars':_0x4818a0?parseInt(_0x4818a0):null,'beta_chars':_0x4f44be?parseInt(_0x4f44be):null,'rate':_0x101139?parseFloat(_0x101139):null,'beta_rate':_0x1489bd?parseFloat(_0x1489bd):null,'notes':_0x2d9c2a,'beta_notes':_0x3f9587,'created_at':new Date()['toISOString']()});}else _0x492d5b['push']({'name':_0x18b100,'description':_0x24fdee,'deadline':new Date(_0x3d1830)[_0x598438(0x217)](),'priority':_0x3c4092,'status':_0x598438(0x147),'project_id':parseInt(_0x9f777d),'task_type':currentTaskType,'submission_link':_0x22a0e1||null,'beta_link':_0x484cbf||null,'assignee_id':_0x18887a,'dialogue_chars':_0x426b46?parseInt(_0x426b46):null,'total_chars':_0x314f32?parseInt(_0x314f32):null,'rv_chars':_0x4818a0?parseInt(_0x4818a0):null,'beta_chars':_0x4f44be?parseInt(_0x4f44be):null,'rate':_0x101139?parseFloat(_0x101139):null,'beta_rate':_0x1489bd?parseFloat(_0x1489bd):null,'notes':_0x2d9c2a,'beta_notes':_0x3f9587,'created_at':new Date()[_0x598438(0x217)]()});const {data:_0x47d20d,error:_0x287109}=await supabase[_0x598438(0x19c)]('tasks')['insert'](_0x492d5b)['select']();if(_0x287109)throw _0x287109;currentTaskType===_0x598438(0x352)?renderBetaTasksTable():renderTasksTable();const _0x1ffad5=bootstrap['Modal'][_0x598438(0x314)](document[_0x598438(0x1ad)](_0x598438(0x262)));_0x1ffad5['hide'](),showNotification(_0x598438(0x2b1),'success');}catch(_0x421514){console[_0x598438(0x381)](_0x598438(0x3c3),_0x421514),console[_0x598438(0x381)](_0x598438(0x40b),{'message':_0x421514['message'],'code':_0x421514[_0x598438(0x291)],'details':_0x421514[_0x598438(0x240)],'hint':_0x421514[_0x598438(0x418)]}),showNotification(_0x598438(0x2d7)+_0x421514[_0x598438(0x2c1)],_0x598438(0x381));}}async function claimTask(_0x4e66fd){const _0x2d9ba1=_0x90c6a6;if(!currentUser){showNotification(_0x2d9ba1(0x3da),_0x2d9ba1(0x381));return;}try{const _0x50990c=tasks[_0x2d9ba1(0x419)](_0x5980bf=>_0x5980bf['id']===_0x4e66fd);if(!_0x50990c){showNotification('Không\x20tìm\x20thấy\x20công\x20việc',_0x2d9ba1(0x381));return;}if(_0x50990c[_0x2d9ba1(0x2bd)]){showNotification(_0x2d9ba1(0x412),_0x2d9ba1(0x381));return;}if(currentUser[_0x2d9ba1(0x278)]===_0x2d9ba1(0x219)){const _0x215dc7=projects['find'](_0x29c870=>_0x29c870['id']===_0x50990c[_0x2d9ba1(0x283)]);if(_0x215dc7&&_0x215dc7['status']===_0x2d9ba1(0x17d)){showNotification(_0x2d9ba1(0x39d),_0x2d9ba1(0x381));return;}}const {data:_0x187a56,error:_0x40edc7}=await supabase[_0x2d9ba1(0x19c)](_0x2d9ba1(0x1a7))[_0x2d9ba1(0x230)]({'assignee_id':currentUser['id'],'status':'in-progress','claimed_at':new Date()[_0x2d9ba1(0x217)](),'started_at':new Date()[_0x2d9ba1(0x217)](),'updated_at':new Date()[_0x2d9ba1(0x217)]()})['eq']('id',_0x4e66fd)['is'](_0x2d9ba1(0x2bd),null)['select']();if(_0x40edc7){console[_0x2d9ba1(0x381)](_0x2d9ba1(0x21b),_0x40edc7);throw _0x40edc7;}if(_0x187a56&&_0x187a56[_0x2d9ba1(0x276)]>0x0){showNotification(_0x2d9ba1(0x3c4),_0x2d9ba1(0x14f));const _0xfd73f7=_0x187a56[0x0],_0x14a4f4=tasks[_0x2d9ba1(0x27f)](_0x3447e1=>_0x3447e1['id']===_0x4e66fd);_0x14a4f4!==-0x1&&(tasks[_0x14a4f4]=_0xfd73f7),setTimeout(()=>{const _0x53173a=_0x2d9ba1;currentTaskType===_0x53173a(0x352)?renderBetaTasksTable():renderTasksTable();},0x64);}else showNotification(_0x2d9ba1(0x412),_0x2d9ba1(0x381));}catch(_0x177a3e){console[_0x2d9ba1(0x381)](_0x2d9ba1(0x1d9),_0x177a3e),showNotification('Lỗi\x20nhận\x20công\x20việc',_0x2d9ba1(0x381));}}async function transferTask(_0x538a89,_0x1072bc){const _0x26e85d=_0x90c6a6;if(!currentUser){showNotification(_0x26e85d(0x3ae),'error');return;}const _0x3da7b3=tasks[_0x26e85d(0x419)](_0x35e3d9=>_0x35e3d9['id']===_0x538a89);if(!_0x3da7b3){showNotification(_0x26e85d(0x160),'error');return;}if(!canOperateOnTask(_0x3da7b3)){showNotification(_0x26e85d(0x3fa),_0x26e85d(0x381));return;}try{const {data:_0x1f5dd1,error:_0x1437f9}=await supabase[_0x26e85d(0x19c)](_0x26e85d(0x1a7))[_0x26e85d(0x230)]({'assignee_id':_0x1072bc,'updated_at':new Date()['toISOString']()})['eq']('id',_0x538a89)['select']();if(_0x1437f9)throw _0x1437f9;if(_0x1f5dd1&&_0x1f5dd1[_0x26e85d(0x276)]>0x0){showNotification(_0x26e85d(0x28d),'success');const _0x2de5ee=_0x1f5dd1[0x0],_0x15933f=tasks[_0x26e85d(0x27f)](_0x1672bc=>_0x1672bc['id']===_0x538a89);_0x15933f!==-0x1&&(tasks[_0x15933f]=_0x2de5ee),renderTasksTable();}else showNotification('Không\x20thể\x20chuyển\x20giao\x20công\x20việc',_0x26e85d(0x381));}catch(_0x1e5a72){console[_0x26e85d(0x381)](_0x26e85d(0x2ba),_0x1e5a72),showNotification('Lỗi\x20chuyển\x20giao\x20công\x20việc',_0x26e85d(0x381));}}async function unclaimTask(_0x84914b){const _0x3de731=_0x90c6a6;if(!currentUser){showNotification(_0x3de731(0x3ae),_0x3de731(0x381));return;}const _0x41c920=tasks[_0x3de731(0x419)](_0x869b93=>_0x869b93['id']===_0x84914b);if(!_0x41c920){showNotification(_0x3de731(0x160),_0x3de731(0x381));return;}if(!canOperateOnTask(_0x41c920)){showNotification(_0x3de731(0xf7),'error');return;}try{const {data:_0x4a170f,error:_0x15c883}=await supabase[_0x3de731(0x19c)](_0x3de731(0x1a7))['update']({'assignee_id':null,'status':'pending','unclaimed_at':new Date()['toISOString'](),'updated_at':new Date()['toISOString']()})['eq']('id',_0x84914b)['select']();if(_0x15c883)throw _0x15c883;if(_0x4a170f&&_0x4a170f[_0x3de731(0x276)]>0x0){showNotification(_0x3de731(0x100),'success');const _0x2e705e=_0x4a170f[0x0],_0x27d3ee=tasks[_0x3de731(0x27f)](_0xc60c60=>_0xc60c60['id']===_0x84914b);_0x27d3ee!==-0x1&&(tasks[_0x27d3ee]=_0x2e705e),setTimeout(()=>{const _0x4a3698=_0x3de731;currentTaskType===_0x4a3698(0x352)?renderBetaTasksTable():renderTasksTable();},0x64);}else showNotification(_0x3de731(0x34d),_0x3de731(0x381));}catch(_0x4c7325){console[_0x3de731(0x381)](_0x3de731(0x1a1),_0x4c7325),showNotification(_0x3de731(0x1f4),_0x3de731(0x381));}}async function editTask(_0x4f67a5){const _0x56bcf1=_0x90c6a6;currentEditingTaskId=_0x4f67a5;const _0xb00b8=tasks['find'](_0x2eb446=>_0x2eb446['id']===_0x4f67a5);if(!_0xb00b8)return;if(currentUser['role']===_0x56bcf1(0x219)){const _0x55ebd7=projects[_0x56bcf1(0x419)](_0x8e126d=>_0x8e126d['id']===_0xb00b8[_0x56bcf1(0x283)]);if(_0x55ebd7&&_0x55ebd7[_0x56bcf1(0x329)]===_0x56bcf1(0x17d)){showNotification(_0x56bcf1(0x18c),_0x56bcf1(0x381));return;}}if(!canOperateOnTask(_0xb00b8)){showNotification('Bạn\x20không\x20có\x20quyền\x20chỉnh\x20sửa\x20công\x20việc\x20này',_0x56bcf1(0x381));return;}const _0x30fca1=(_0x387219,_0x117b09)=>{const _0x433978=_0x56bcf1,_0x96f35d=document['getElementById'](_0x387219);if(_0x96f35d)_0x96f35d[_0x433978(0x3fe)]=_0x117b09;};document[_0x56bcf1(0x1ad)]('taskId')[_0x56bcf1(0x3fe)]=_0xb00b8['id'],_0x30fca1(_0x56bcf1(0x354),_0xb00b8[_0x56bcf1(0x1e8)]||''),_0x30fca1(_0x56bcf1(0x411),_0xb00b8['description']||''),_0x30fca1(_0x56bcf1(0x317),_0xb00b8['deadline']?_0xb00b8['deadline'][_0x56bcf1(0x281)](0x0,0x10):''),_0x30fca1(_0x56bcf1(0x376),_0xb00b8[_0x56bcf1(0x3c7)]||''),_0x30fca1(_0x56bcf1(0x149),_0xb00b8[_0x56bcf1(0x329)]||''),updateReviewInputButton(_0xb00b8[_0x56bcf1(0x259)]||''),_0x30fca1(_0x56bcf1(0x386),_0xb00b8[_0x56bcf1(0x398)]||''),_0x30fca1(_0x56bcf1(0x2ac),_0xb00b8[_0x56bcf1(0x280)]||''),_0x30fca1(_0x56bcf1(0x23b),_0xb00b8[_0x56bcf1(0x298)]||''),_0x30fca1(_0x56bcf1(0x416),_0xb00b8[_0x56bcf1(0x39f)]||''),_0x30fca1(_0x56bcf1(0x302),_0xb00b8[_0x56bcf1(0x22c)]||''),_0x30fca1(_0x56bcf1(0x22d),_0xb00b8['rate']||''),_0x30fca1(_0x56bcf1(0x2e7),_0xb00b8['beta_rate']||''),_0x30fca1(_0x56bcf1(0x1cf),_0xb00b8[_0x56bcf1(0x1a0)]||''),_0x30fca1(_0x56bcf1(0x161),_0xb00b8['beta_notes']||'');if(_0xb00b8[_0x56bcf1(0x259)]&&!_0xb00b8[_0x56bcf1(0x259)][_0x56bcf1(0xf5)]('http')&&_0xb00b8['submission_link']!==_0x56bcf1(0x20a)){const _0x58c0fc=calculateWordCount(_0xb00b8[_0x56bcf1(0x259)]),_0x173695=_0xb00b8[_0x56bcf1(0x280)]||0x0,_0x27e4e6=Math[_0x56bcf1(0x36f)](0x0,_0x58c0fc-_0x173695);_0x30fca1(_0x56bcf1(0x23b),_0x58c0fc),_0x30fca1(_0x56bcf1(0x416),_0x27e4e6);}if(_0xb00b8['beta_link']&&!_0xb00b8[_0x56bcf1(0x398)]['startsWith'](_0x56bcf1(0x42b))){const _0x74a526=calculateWordCount(_0xb00b8['beta_link']);_0x30fca1('taskBetaChars',_0x74a526);}document['getElementById'](_0x56bcf1(0x1d7))[_0x56bcf1(0x107)][_0x56bcf1(0x3c8)]='block',document[_0x56bcf1(0x1ad)](_0x56bcf1(0x3f6))[_0x56bcf1(0x3ea)]='Chỉnh\x20sửa\x20Công\x20việc',updateAssigneeDropdowns();const _0x59b6b1=_0xb00b8[_0x56bcf1(0x2f9)]==='beta',_0x47c404=document['getElementById'](_0x56bcf1(0x1cf))[_0x56bcf1(0x417)],_0x359356=document[_0x56bcf1(0x1ad)](_0x56bcf1(0x1c5));if(_0x59b6b1){if(_0x47c404)_0x47c404[_0x56bcf1(0x107)][_0x56bcf1(0x3c8)]=_0x56bcf1(0x11c);if(_0x359356)_0x359356[_0x56bcf1(0x107)][_0x56bcf1(0x3c8)]='';}else{if(_0x47c404)_0x47c404[_0x56bcf1(0x107)]['display']='';if(_0x359356)_0x359356[_0x56bcf1(0x107)][_0x56bcf1(0x3c8)]=_0x56bcf1(0x11c);}const _0x26afdb=document[_0x56bcf1(0x1ad)](_0x56bcf1(0x432));if(_0x26afdb)_0x26afdb[_0x56bcf1(0x3fe)]=_0xb00b8['assignee_id']||'';const _0x29b461=currentUser[_0x56bcf1(0x278)]===_0x56bcf1(0x219),_0x25e6ca=document[_0x56bcf1(0x1ad)]('taskName'),_0x577703=document['getElementById'](_0x56bcf1(0x317)),_0x3a61de=document[_0x56bcf1(0x1ad)]('taskPriority'),_0x7e9e26=document['getElementById'](_0x56bcf1(0x414)),_0x946a0d=document['getElementById'](_0x56bcf1(0x22d)),_0x377649=document[_0x56bcf1(0x1ad)]('batchCreateCheckbox'),_0x3fba8a=document[_0x56bcf1(0x1ad)](_0x56bcf1(0x29a)),_0x3b9ebe=document[_0x56bcf1(0x1ad)](_0x56bcf1(0x1b9));if(_0x25e6ca)_0x25e6ca[_0x56bcf1(0x2fe)]=_0x29b461;if(_0x577703)_0x577703['readOnly']=_0x29b461;if(_0x3a61de)_0x3a61de[_0x56bcf1(0x211)]=_0x29b461;if(_0x7e9e26)_0x7e9e26[_0x56bcf1(0x107)][_0x56bcf1(0x3c8)]=_0x29b461?'inline':'none';if(_0x946a0d)_0x946a0d[_0x56bcf1(0x2fe)]=_0x29b461;if(_0x377649)_0x377649['disabled']=_0x29b461;if(_0x3fba8a)_0x3fba8a[_0x56bcf1(0x2fe)]=_0x29b461;if(_0x3b9ebe)_0x3b9ebe['readOnly']=_0x29b461;setFieldPermissions(_0xb00b8[_0x56bcf1(0x2f9)]||'rv');const _0x4a4b7f=new bootstrap[(_0x56bcf1(0x34c))](document['getElementById'](_0x56bcf1(0x262)));_0x4a4b7f[_0x56bcf1(0x385)]();}async function saveTask(){const _0x41a2b4=_0x90c6a6,_0x247d33=document[_0x41a2b4(0x1ad)]('taskId')[_0x41a2b4(0x3fe)];if(_0x247d33){if(currentTaskType===_0x41a2b4(0x352))await updateBetaTask();else{const _0x182352=tasks[_0x41a2b4(0x419)](_0x4128a9=>_0x4128a9['id']===parseInt(_0x247d33));if(_0x182352){const _0x4f13b7=_0x182352['status'],_0x1461ef=document[_0x41a2b4(0x1ad)](_0x41a2b4(0x149))[_0x41a2b4(0x3fe)];if(_0x4f13b7!==_0x1461ef&&_0x182352[_0x41a2b4(0x1e8)]===document[_0x41a2b4(0x1ad)]('taskName')[_0x41a2b4(0x3fe)]&&_0x182352[_0x41a2b4(0x265)]===document[_0x41a2b4(0x1ad)](_0x41a2b4(0x411))['value']&&_0x182352[_0x41a2b4(0x1a8)]===document[_0x41a2b4(0x1ad)](_0x41a2b4(0x317))[_0x41a2b4(0x3fe)]&&_0x182352[_0x41a2b4(0x3c7)]===document[_0x41a2b4(0x1ad)](_0x41a2b4(0x376))[_0x41a2b4(0x3fe)]&&_0x182352[_0x41a2b4(0x2bd)]===(document[_0x41a2b4(0x1ad)](_0x41a2b4(0x432))[_0x41a2b4(0x3fe)]||null)){await updateTaskStatusOnly(parseInt(_0x247d33),_0x1461ef);return;}}await updateTask();}}else await addTask();}async function updateTask(){const _0x4677e8=_0x90c6a6,_0x1b4016=parseInt(document[_0x4677e8(0x1ad)](_0x4677e8(0x300))[_0x4677e8(0x3fe)]),_0x16e6a0=document[_0x4677e8(0x1ad)]('taskName')[_0x4677e8(0x3fe)],_0x32910c=document[_0x4677e8(0x1ad)](_0x4677e8(0x411))[_0x4677e8(0x3fe)],_0x3ba8e7=document['getElementById'](_0x4677e8(0x317))[_0x4677e8(0x3fe)],_0x4d761d=document['getElementById'](_0x4677e8(0x376))[_0x4677e8(0x3fe)],_0x56d173=document[_0x4677e8(0x1ad)]('taskAssignee')[_0x4677e8(0x3fe)],_0x694fa9=document[_0x4677e8(0x1ad)](_0x4677e8(0x149))[_0x4677e8(0x3fe)],_0x2da248=tasks[_0x4677e8(0x419)](_0x6c83b3=>_0x6c83b3['id']===_0x1b4016),_0x14dfc8=_0x2da248&&_0x2da248[_0x4677e8(0x259)]?_0x2da248[_0x4677e8(0x259)]:'',_0x14d816=document['getElementById']('taskBetaLink')[_0x4677e8(0x3fe)],_0x2236c5=document['getElementById'](_0x4677e8(0x2ac))[_0x4677e8(0x3fe)],_0x12fec8=document[_0x4677e8(0x1ad)](_0x4677e8(0x23b))['value'],_0x2206bb=document[_0x4677e8(0x1ad)](_0x4677e8(0x416))[_0x4677e8(0x3fe)],_0x3ab8e5=document[_0x4677e8(0x1ad)](_0x4677e8(0x302))[_0x4677e8(0x3fe)],_0x36c683=document[_0x4677e8(0x1ad)](_0x4677e8(0x22d))['value'],_0x4984db=document[_0x4677e8(0x1ad)](_0x4677e8(0x2e7))[_0x4677e8(0x3fe)],_0x59b761=document[_0x4677e8(0x1ad)](_0x4677e8(0x1cf))[_0x4677e8(0x3fe)],_0x1a963f=document[_0x4677e8(0x1ad)](_0x4677e8(0x161))[_0x4677e8(0x3fe)];if(!_0x16e6a0||!_0x3ba8e7){showNotification(_0x4677e8(0x41b),_0x4677e8(0x381));return;}const _0x5506e2=tasks[_0x4677e8(0x419)](_0x38876d=>_0x38876d['id']===_0x1b4016);if(!_0x5506e2){showNotification(_0x4677e8(0x160),_0x4677e8(0x381));return;}if(!canOperateOnTask(_0x5506e2)){showNotification(_0x4677e8(0x231),_0x4677e8(0x381));return;}if(currentUser&&currentUser[_0x4677e8(0x278)]==='employee'){const _0x59eba0=projects[_0x4677e8(0x419)](_0x3dfe8f=>_0x3dfe8f['id']===_0x5506e2[_0x4677e8(0x283)]);if(_0x59eba0&&_0x59eba0[_0x4677e8(0x329)]===_0x4677e8(0x17d)){showNotification('Không\x20thể\x20cập\x20nhật\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành',_0x4677e8(0x381));return;}}try{const {data:_0x4f91c8,error:_0x57ca17}=await supabase[_0x4677e8(0x19c)]('tasks')[_0x4677e8(0x230)]({'name':_0x16e6a0,'description':_0x32910c,'deadline':new Date(_0x3ba8e7)[_0x4677e8(0x217)](),'priority':_0x4d761d,'assignee_id':_0x56d173||null,'status':_0x694fa9,'submission_link':_0x14dfc8||_0x2da248&&_0x2da248[_0x4677e8(0x259)]||null,'beta_link':_0x14d816||null,'dialogue_chars':_0x2236c5?parseInt(_0x2236c5):null,'total_chars':_0x12fec8?parseInt(_0x12fec8):null,'rv_chars':_0x2206bb?parseInt(_0x2206bb):null,'beta_chars':_0x3ab8e5?parseInt(_0x3ab8e5):null,'rate':_0x36c683?parseFloat(_0x36c683):null,'beta_rate':_0x4984db?parseFloat(_0x4984db):null,'notes':_0x59b761||null,'beta_notes':_0x1a963f||null,'updated_at':new Date()[_0x4677e8(0x217)]()})['eq']('id',_0x1b4016)['select']();if(_0x57ca17)throw _0x57ca17;if(_0x4f91c8&&_0x4f91c8['length']>0x0){const _0x356507=_0x4f91c8[0x0],_0x3c0061=tasks['findIndex'](_0x4dc043=>_0x4dc043['id']===_0x1b4016);_0x3c0061!==-0x1&&(tasks[_0x3c0061]=_0x356507);const _0x13d933=bootstrap[_0x4677e8(0x34c)][_0x4677e8(0x314)](document[_0x4677e8(0x1ad)](_0x4677e8(0x262)));_0x13d933&&_0x13d933[_0x4677e8(0x105)]();const _0x24f83c=window[_0x4677e8(0x301)]&&window['opener'][_0x4677e8(0x366)][_0x4677e8(0x1e5)][_0x4677e8(0x1ac)](_0x4677e8(0x111)),_0x198ffd=window[_0x4677e8(0x301)]&&window[_0x4677e8(0x301)][_0x4677e8(0x366)]['href']['includes'](_0x4677e8(0x10a));!_0x24f83c&&!_0x198ffd&&setTimeout(()=>{const _0x202910=_0x4677e8;currentTaskType===_0x202910(0x352)?renderBetaTasksTable():renderTasksTable();},0x64),showNotification('Cập\x20nhật\x20công\x20việc\x20thành\x20công!','success');}else showNotification('Không\x20thể\x20cập\x20nhật\x20công\x20việc',_0x4677e8(0x381));}catch(_0x49b5b0){console['error'](_0x4677e8(0x2a1),_0x49b5b0),showNotification(_0x4677e8(0x1e4),_0x4677e8(0x381));}}async function deleteTask(_0xa9e132){const _0x291d2b=_0x90c6a6,_0x324159=tasks['find'](_0x27f77d=>_0x27f77d['id']===_0xa9e132);if(!_0x324159)return;if(currentUser['role']===_0x291d2b(0x219)){const _0x59a680=projects[_0x291d2b(0x419)](_0x764ce2=>_0x764ce2['id']===_0x324159['project_id']);if(_0x59a680&&_0x59a680[_0x291d2b(0x329)]===_0x291d2b(0x17d)){showNotification('Không\x20thể\x20xóa\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành',_0x291d2b(0x381));return;}}if(!canOperateOnTask(_0x324159)){showNotification('Bạn\x20không\x20có\x20quyền\x20xóa\x20công\x20việc\x20này',_0x291d2b(0x381));return;}if(confirm(_0x291d2b(0x324)))try{const _0x11aa4e=tasks[_0x291d2b(0x3e1)](_0x16bdc4=>_0x16bdc4[_0x291d2b(0x32e)]===_0xa9e132);if(_0x11aa4e['length']>0x0){for(const _0xee782a of _0x11aa4e){const {error:_0x40ffa9}=await supabase['from'](_0x291d2b(0x1a7))[_0x291d2b(0x30b)]()['eq']('id',_0xee782a['id']);if(_0x40ffa9){console[_0x291d2b(0x381)](_0x291d2b(0x1fe),_0x40ffa9);throw _0x40ffa9;}}tasks=tasks[_0x291d2b(0x3e1)](_0x545720=>_0x545720[_0x291d2b(0x32e)]!==_0xa9e132);}const {error:_0x5a3f0e}=await supabase[_0x291d2b(0x19c)](_0x291d2b(0x1a7))[_0x291d2b(0x30b)]()['eq']('id',_0xa9e132);if(_0x5a3f0e)throw _0x5a3f0e;tasks=tasks[_0x291d2b(0x3e1)](_0x113f2c=>_0x113f2c['id']!==_0xa9e132),setTimeout(()=>{const _0x3ecec5=_0x291d2b;currentTaskType===_0x3ecec5(0x352)?renderBetaTasksTable():renderTasksTable();},0x64),showNotification(_0x291d2b(0x208),_0x291d2b(0x14f));}catch(_0x5804e3){console[_0x291d2b(0x381)]('Error\x20deleting\x20task:',_0x5804e3),showNotification(_0x291d2b(0x135),_0x291d2b(0x381));}}async function changeTaskStatus(_0x3a0d39,_0x1304fb){const _0x58e6df=_0x90c6a6,_0x548456=tasks[_0x58e6df(0x419)](_0x34be79=>_0x34be79['id']===_0x3a0d39);if(!_0x548456)return;if(currentUser[_0x58e6df(0x278)]===_0x58e6df(0x219)){const _0xb5ea92=projects[_0x58e6df(0x419)](_0x1e93f3=>_0x1e93f3['id']===_0x548456[_0x58e6df(0x283)]);if(_0xb5ea92&&_0xb5ea92[_0x58e6df(0x329)]==='completed'){showNotification(_0x58e6df(0x40d),_0x58e6df(0x381));return;}}if(!canOperateOnTask(_0x548456)){showNotification(_0x58e6df(0x295),_0x58e6df(0x381));return;}try{const {data:_0x3c8ef5,error:_0x6c055c}=await supabase['from'](_0x58e6df(0x1a7))[_0x58e6df(0x230)]({'status':_0x1304fb,'started_at':_0x1304fb===_0x58e6df(0x380)?new Date()[_0x58e6df(0x217)]():null,'completed_at':_0x1304fb===_0x58e6df(0x17d)?new Date()[_0x58e6df(0x217)]():null,'updated_at':new Date()['toISOString']()})['eq']('id',_0x3a0d39)[_0x58e6df(0x23f)]();if(_0x6c055c)throw _0x6c055c;if(_0x3c8ef5&&_0x3c8ef5[_0x58e6df(0x276)]>0x0){showNotification(_0x58e6df(0x12c),'success');const _0x5ef409=_0x3c8ef5[0x0],_0x26dd32=tasks[_0x58e6df(0x27f)](_0x3fab4a=>_0x3fab4a['id']===_0x3a0d39);_0x26dd32!==-0x1&&(tasks[_0x26dd32]=_0x5ef409);const _0x4ffb25=window[_0x58e6df(0x301)]&&window[_0x58e6df(0x301)]['location'][_0x58e6df(0x1e5)][_0x58e6df(0x1ac)](_0x58e6df(0x111)),_0x5dedf5=window[_0x58e6df(0x301)]&&window['opener'][_0x58e6df(0x366)][_0x58e6df(0x1e5)][_0x58e6df(0x1ac)](_0x58e6df(0x10a));!_0x4ffb25&&!_0x5dedf5&&(currentTaskType===_0x58e6df(0x352)?renderBetaTasksTable():renderTasksTable());}else showNotification('Không\x20thể\x20cập\x20nhật\x20trạng\x20thái',_0x58e6df(0x381));}catch(_0x25d0da){console[_0x58e6df(0x381)](_0x58e6df(0x16f),_0x25d0da),showNotification(_0x58e6df(0x16d),_0x58e6df(0x381));}}async function updateTaskStatusOnly(_0x255a51,_0x13d089){const _0x492a2c=_0x90c6a6,_0x2541f4=tasks['find'](_0x2804ca=>_0x2804ca['id']===_0x255a51);if(!_0x2541f4)return;if(currentUser['role']===_0x492a2c(0x219)){const _0x38250a=projects[_0x492a2c(0x419)](_0x595f28=>_0x595f28['id']===_0x2541f4['project_id']);if(_0x38250a&&_0x38250a[_0x492a2c(0x329)]===_0x492a2c(0x17d)){showNotification(_0x492a2c(0x40d),_0x492a2c(0x381));return;}}if(!canOperateOnTask(_0x2541f4)){showNotification(_0x492a2c(0x295),'error');return;}try{const {data:_0x25dc8e,error:_0xf92832}=await supabase[_0x492a2c(0x19c)]('tasks')['update']({'status':_0x13d089,'started_at':_0x13d089===_0x492a2c(0x380)?new Date()[_0x492a2c(0x217)]():null,'completed_at':_0x13d089===_0x492a2c(0x17d)?new Date()[_0x492a2c(0x217)]():null,'updated_at':new Date()[_0x492a2c(0x217)]()})['eq']('id',_0x255a51)[_0x492a2c(0x23f)]();if(_0xf92832)throw _0xf92832;if(_0x25dc8e&&_0x25dc8e[_0x492a2c(0x276)]>0x0){showNotification(_0x492a2c(0x12c),_0x492a2c(0x14f));const _0x48bfd5=_0x25dc8e[0x0],_0x3cfcb7=tasks['findIndex'](_0x1bdcee=>_0x1bdcee['id']===_0x255a51);_0x3cfcb7!==-0x1&&(tasks[_0x3cfcb7]=_0x48bfd5);}else showNotification(_0x492a2c(0x32c),_0x492a2c(0x381));}catch(_0x23b2dd){console[_0x492a2c(0x381)](_0x492a2c(0x16f),_0x23b2dd),showNotification(_0x492a2c(0x16d),_0x492a2c(0x381));}}function protectFormData(){const _0x4f3126=_0x90c6a6,_0x47e7e7={'taskName':document[_0x4f3126(0x1ad)](_0x4f3126(0x354))?.[_0x4f3126(0x3fe)]||'','taskDescription':document[_0x4f3126(0x1ad)](_0x4f3126(0x411))?.[_0x4f3126(0x3fe)]||'','taskDeadline':document[_0x4f3126(0x1ad)](_0x4f3126(0x317))?.[_0x4f3126(0x3fe)]||'','taskPriority':document['getElementById'](_0x4f3126(0x376))?.[_0x4f3126(0x3fe)]||'','taskAssignee':document[_0x4f3126(0x1ad)]('taskAssignee')?.['value']||'','taskBetaLink':document['getElementById']('taskBetaLink')?.[_0x4f3126(0x3fe)]||'','taskDialogueChars':document[_0x4f3126(0x1ad)](_0x4f3126(0x2ac))?.['value']||'','taskTotalChars':document[_0x4f3126(0x1ad)](_0x4f3126(0x23b))?.[_0x4f3126(0x3fe)]||'','taskRVChars':document['getElementById']('taskRVChars')?.['value']||'','taskBetaChars':document[_0x4f3126(0x1ad)](_0x4f3126(0x302))?.[_0x4f3126(0x3fe)]||'','taskRate':document['getElementById'](_0x4f3126(0x22d))?.[_0x4f3126(0x3fe)]||'','taskBetaRate':document[_0x4f3126(0x1ad)]('taskBetaRate')?.[_0x4f3126(0x3fe)]||'','taskNotes':document[_0x4f3126(0x1ad)](_0x4f3126(0x1cf))?.['value']||'','taskBetaNotes':document['getElementById']('taskBetaNotes')?.[_0x4f3126(0x3fe)]||''};localStorage[_0x4f3126(0x2ca)]('protectedFormData',JSON[_0x4f3126(0x32d)](_0x47e7e7));}function restoreFormData(){const _0x579c51=_0x90c6a6,_0x3a620e=localStorage[_0x579c51(0x118)](_0x579c51(0x401));if(_0x3a620e)try{const _0x729cc7=JSON[_0x579c51(0x1c4)](_0x3a620e),_0x102145=(_0x14a6c7,_0x308734)=>{const _0x2ffa5c=_0x579c51,_0x2a01e6=document[_0x2ffa5c(0x1ad)](_0x14a6c7);if(_0x2a01e6)_0x2a01e6[_0x2ffa5c(0x3fe)]=_0x308734;};_0x102145(_0x579c51(0x354),_0x729cc7[_0x579c51(0x354)]),_0x102145(_0x579c51(0x411),_0x729cc7[_0x579c51(0x411)]),_0x102145(_0x579c51(0x317),_0x729cc7[_0x579c51(0x317)]),_0x102145(_0x579c51(0x376),_0x729cc7[_0x579c51(0x376)]),_0x102145(_0x579c51(0x432),_0x729cc7[_0x579c51(0x432)]),_0x102145(_0x579c51(0x386),_0x729cc7[_0x579c51(0x386)]),_0x102145(_0x579c51(0x2ac),_0x729cc7[_0x579c51(0x2ac)]),_0x102145(_0x579c51(0x23b),_0x729cc7[_0x579c51(0x23b)]),_0x102145('taskRVChars',_0x729cc7[_0x579c51(0x416)]),_0x102145(_0x579c51(0x302),_0x729cc7['taskBetaChars']),_0x102145('taskRate',_0x729cc7[_0x579c51(0x22d)]),_0x102145(_0x579c51(0x2e7),_0x729cc7['taskBetaRate']),_0x102145(_0x579c51(0x1cf),_0x729cc7[_0x579c51(0x1cf)]),_0x102145('taskBetaNotes',_0x729cc7[_0x579c51(0x161)]),localStorage[_0x579c51(0x140)]('protectedFormData');}catch(_0x516b25){console['error'](_0x579c51(0x1eb),_0x516b25);}}function renderProjectsTable(){const _0x31ce26=_0x90c6a6,_0x342dea=document[_0x31ce26(0x1ad)](_0x31ce26(0x2e8));_0x342dea[_0x31ce26(0x3d9)]='';if(filteredProjects['length']===0x0){_0x342dea[_0x31ce26(0x3d9)]=_0x31ce26(0xfc);return;}filteredProjects[_0x31ce26(0x267)](_0x57f137=>{const _0x544b5b=_0x31ce26,_0x319593=document[_0x544b5b(0x195)]('tr');if(_0x57f137[_0x544b5b(0x329)]===_0x544b5b(0x17d))_0x319593[_0x544b5b(0x19e)]['add'](_0x544b5b(0x153));else _0x57f137[_0x544b5b(0x329)]===_0x544b5b(0x2f6)&&_0x319593[_0x544b5b(0x19e)][_0x544b5b(0x38c)]('table-row-paused');const _0x560562=tasks[_0x544b5b(0x3e1)](_0x146622=>_0x146622[_0x544b5b(0x283)]===_0x57f137['id'])[_0x544b5b(0x276)];_0x319593[_0x544b5b(0x3d9)]=_0x544b5b(0x256)+_0x57f137['id']+_0x544b5b(0x3d7)+_0x57f137['id']+')\x22\x20class=\x22text-decoration-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x57f137[_0x544b5b(0x1e8)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x57f137[_0x544b5b(0x265)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+getProjectStatusBadge(_0x57f137[_0x544b5b(0x329)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x57f137[_0x544b5b(0x162)]?.[_0x544b5b(0x1e8)]||'N/A')+_0x544b5b(0x101)+formatDateTime(_0x57f137[_0x544b5b(0x173)])+_0x544b5b(0x2c7)+_0x560562+_0x544b5b(0x130)+(hasManagerOrBossPermissions(currentUser)?_0x544b5b(0x25f)+_0x57f137['id']+_0x544b5b(0x358)+_0x57f137['id']+_0x544b5b(0x271):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(canOperateOnProject(_0x57f137)?_0x544b5b(0x321)+_0x57f137['id']+_0x544b5b(0x2ff)+_0x57f137['id']+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':'')+_0x544b5b(0x3eb),_0x342dea['appendChild'](_0x319593);});}function renderTasksTable(){const _0x4a75bd=_0x90c6a6,_0x56f0a4=document[_0x4a75bd(0x1ad)](_0x4a75bd(0x2c8));_0x56f0a4['innerHTML']='';if(!currentProjectId){_0x56f0a4[_0x4a75bd(0x3d9)]=_0x4a75bd(0x15d);return;}const _0x503ff9=document[_0x4a75bd(0x1ad)](_0x4a75bd(0x224))?.['value']||'',_0x5e036e=document[_0x4a75bd(0x1ad)](_0x4a75bd(0x39c))?.[_0x4a75bd(0x3fe)]||'';let _0x309bd0=tasks[_0x4a75bd(0x3e1)](_0x424c9b=>_0x424c9b[_0x4a75bd(0x283)]===currentProjectId&&_0x424c9b[_0x4a75bd(0x2f9)]==='rv');_0x503ff9&&(_0x309bd0=_0x309bd0[_0x4a75bd(0x3e1)](_0x3f0d7f=>_0x3f0d7f[_0x4a75bd(0x329)]===_0x503ff9));_0x5e036e&&(_0x309bd0=_0x309bd0[_0x4a75bd(0x3e1)](_0x2e702e=>String(_0x2e702e['assignee_id'])===_0x5e036e));_0x309bd0[_0x4a75bd(0x3b8)]((_0x3f3537,_0x407f09)=>{const _0x4753a9=_0x4a75bd,_0x404b84=_0x4959bd=>{const _0x71c8e5=_0x3f71,_0x51abe0=(_0x4959bd||'')[_0x71c8e5(0x1b7)](/\d+/);return _0x51abe0?parseInt(_0x51abe0[0x0],0xa):null;},_0x480928=_0x404b84(_0x3f3537[_0x4753a9(0x1e8)]),_0x57b5c5=_0x404b84(_0x407f09[_0x4753a9(0x1e8)]);if(_0x480928!==null&&_0x57b5c5!==null)return _0x480928-_0x57b5c5;return(_0x3f3537[_0x4753a9(0x1e8)]||'')[_0x4753a9(0x339)](_0x407f09[_0x4753a9(0x1e8)]||'',undefined,{'numeric':!![],'sensitivity':_0x4753a9(0x1d8)});});if(_0x309bd0[_0x4a75bd(0x276)]===0x0){_0x56f0a4[_0x4a75bd(0x3d9)]=_0x4a75bd(0x2fb);return;}_0x309bd0['forEach'](_0x24294b=>{const _0x5304fe=_0x4a75bd,_0x479d31=document[_0x5304fe(0x195)]('tr');let _0x1cc8d6=new Date(_0x24294b[_0x5304fe(0x1a8)]),_0x2da5c7=new Date();const _0x158f94=_0x24294b[_0x5304fe(0x329)]==='completed',_0x3bac46=_0x1cc8d6<_0x2da5c7&&!_0x158f94,_0x48fae4=_0x1cc8d6-_0x2da5c7;_0x479d31[_0x5304fe(0x3ab)]='';if(_0x24294b['priority']===_0x5304fe(0x389))_0x479d31['classList'][_0x5304fe(0x38c)]('table-row-urgent');else _0x24294b[_0x5304fe(0x3c7)]==='high'&&_0x479d31[_0x5304fe(0x19e)]['add'](_0x5304fe(0x1dd));const _0xfb18c1=window['allEmployees'][_0x5304fe(0x419)](_0x409a56=>_0x409a56['id']===_0x24294b[_0x5304fe(0x2bd)]),_0x5d7b30=_0xfb18c1?_0xfb18c1[_0x5304fe(0x1e8)]:_0x5304fe(0x19b),_0x16e2ad=currentUser&&currentUser['id']===_0x24294b[_0x5304fe(0x2bd)],_0x4ace87=currentUser&&!_0x24294b[_0x5304fe(0x2bd)]&&currentUser['role']===_0x5304fe(0x219),_0x500974=getEmployeeRank(_0x24294b[_0x5304fe(0x2bd)]),_0x455ab4=getAssigneeColorClass(_0x500974);let _0x233723=_0x5304fe(0x429);if(_0x24294b[_0x5304fe(0x259)]&&_0x24294b[_0x5304fe(0x259)][_0x5304fe(0x178)]()){if(_0x24294b[_0x5304fe(0x259)][_0x5304fe(0xf5)](_0x5304fe(0x42b)))_0x233723=_0x5304fe(0x2af)+_0x24294b[_0x5304fe(0x259)]+'\x22\x20target=\x22_blank\x22\x20class=\x22text-primary\x22><i\x20class=\x22fas\x20fa-external-link-alt\x20me-1\x22></i>Link\x20cũ</a>';else{if(_0x24294b[_0x5304fe(0x259)]==='[CONTENT_SAVED]'||_0x24294b[_0x5304fe(0x259)][_0x5304fe(0x276)]>0x64){const _0x2ec117=canEditReviewContent(_0x24294b);let _0x2dcefb='';_0x2ec117&&(_0x2dcefb=_0x5304fe(0x407)+_0x24294b['id']+_0x5304fe(0x1d1)),_0x233723=_0x5304fe(0x343)+_0x2dcefb+_0x5304fe(0x189);}else{if(_0x24294b[_0x5304fe(0x259)][_0x5304fe(0x276)]<=0x64){const _0x51083b=canEditReviewContent(_0x24294b);let _0x394577='';_0x51083b&&(_0x394577=_0x5304fe(0x407)+_0x24294b['id']+'\x27)\x22\x20title=\x22Chỉnh\x20sửa\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>'),_0x233723='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-info\x22>'+_0x24294b[_0x5304fe(0x259)][_0x5304fe(0xfe)](0x0,0x1e)+(_0x24294b[_0x5304fe(0x259)][_0x5304fe(0x276)]>0x1e?_0x5304fe(0x2b0):'')+_0x5304fe(0x426)+_0x394577+_0x5304fe(0x189);}}}}const _0x58160b=_0x24294b[_0x5304fe(0x280)]?_0x5304fe(0x206)+_0x24294b[_0x5304fe(0x280)][_0x5304fe(0x391)]()+_0x5304fe(0x218):_0x5304fe(0x429),_0x3851de=_0x24294b['total_chars']?_0x5304fe(0x13b)+_0x24294b[_0x5304fe(0x298)]['toLocaleString']()+'</span>':'<span\x20class=\x22text-muted\x22>-</span>',_0xe82b9c=_0x24294b[_0x5304fe(0x39f)]?_0x5304fe(0x43e)+_0x24294b[_0x5304fe(0x39f)][_0x5304fe(0x391)]()+_0x5304fe(0x218):'<span\x20class=\x22text-muted\x22>-</span>';let _0x28191c=_0x5304fe(0x429);if(typeof _0x24294b['rate']===_0x5304fe(0x210)&&typeof _0x24294b[_0x5304fe(0x39f)]===_0x5304fe(0x210)&&!isNaN(_0x24294b[_0x5304fe(0x1b0)])&&!isNaN(_0x24294b[_0x5304fe(0x39f)])){const _0x4faa36=Math[_0x5304fe(0x247)](_0x24294b['rate']*_0x24294b[_0x5304fe(0x39f)]/0x3e8);_0x28191c=_0x5304fe(0x21d)+_0x4faa36[_0x5304fe(0x391)](_0x5304fe(0x38f))+_0x5304fe(0x3a9);}let _0x3ffba0=_0x5304fe(0x429);_0x24294b[_0x5304fe(0x1a0)]&&_0x24294b[_0x5304fe(0x1a0)][_0x5304fe(0x178)]()&&(_0x24294b[_0x5304fe(0x1a0)][_0x5304fe(0x276)]>0x64?_0x3ffba0='<a\x20href=\x22task-notes.html?taskId='+_0x24294b['id']+_0x5304fe(0x117):_0x3ffba0=_0x5304fe(0x2a7)+_0x24294b[_0x5304fe(0x1a0)]+'\x22>'+_0x24294b['notes'][_0x5304fe(0xfe)](0x0,0x32)+(_0x24294b[_0x5304fe(0x1a0)][_0x5304fe(0x276)]>0x32?_0x5304fe(0x2b0):'')+_0x5304fe(0x218));let _0x3e1914='';const _0x8ab964=projects[_0x5304fe(0x419)](_0x10d96b=>_0x10d96b['id']===currentProjectId),_0x101e12=_0x8ab964&&_0x8ab964[_0x5304fe(0x329)]==='completed';if(currentUser&&(isBoss(currentUser)||currentUser[_0x5304fe(0x278)]===_0x5304fe(0x162)&&canOperateOnTask(_0x24294b)))_0x3e1914+=_0x5304fe(0x164)+_0x24294b['id']+_0x5304fe(0x42f),_0x3e1914+=_0x5304fe(0x431)+_0x24294b['id']+_0x5304fe(0x214);else{if(currentUser&&currentUser['role']===_0x5304fe(0x219)){if(!_0x101e12){if(_0x16e2ad)_0x3e1914+=_0x5304fe(0x164)+_0x24294b['id']+_0x5304fe(0x42f);else!_0x24294b[_0x5304fe(0x2bd)]&&(_0x3e1914+=_0x5304fe(0x3ed)+_0x24294b['id']+_0x5304fe(0x423));}}}let _0x413e3f='';if(isNaN(_0x1cc8d6[_0x5304fe(0x355)]()))_0x413e3f=_0x5304fe(0x429);else{if(_0x158f94)_0x413e3f=_0x5304fe(0x213);else{if(_0x1cc8d6<_0x2da5c7)_0x413e3f=_0x5304fe(0x333);else _0x48fae4<0xa*0x3c*0x3c*0x3e8?_0x413e3f=_0x5304fe(0x38e)+_0x24294b['deadline']+'\x22\x20data-taskid=\x22'+_0x24294b['id']+_0x5304fe(0x378):_0x413e3f='<span\x20class=\x22countdown-timer\x22\x20data-deadline=\x22'+_0x24294b[_0x5304fe(0x1a8)]+_0x5304fe(0x2f7)+_0x24294b['id']+_0x5304fe(0x378);}}_0x479d31['innerHTML']=_0x5304fe(0x256)+_0x413e3f+_0x5304fe(0x1ef)+_0x24294b[_0x5304fe(0x1e8)]+'</strong></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+getTaskStatusBadge(_0x24294b[_0x5304fe(0x329)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+getPriorityBadge(_0x24294b[_0x5304fe(0x3c7)])+_0x5304fe(0x101)+_0x233723+_0x5304fe(0x101)+_0x58160b+_0x5304fe(0x101)+_0x3851de+_0x5304fe(0x101)+_0xe82b9c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x28191c+_0x5304fe(0x33a)+(_0x24294b[_0x5304fe(0x2bd)]?_0x455ab4:_0x5304fe(0x3f0))+'\x22>'+_0x5d7b30+_0x5304fe(0x235)+_0x3ffba0+_0x5304fe(0x390)+_0x3e1914+_0x5304fe(0x25d),_0x56f0a4[_0x5304fe(0x351)](_0x479d31);}),updateAllCountdowns();}function selectProject(_0x1d97ba){showTasksView(_0x1d97ba);}function updateDashboard(){const _0x114396=_0x90c6a6,_0x494301=projects[_0x114396(0x276)],_0x1ce44c=tasks['length'],_0x5ac523=projects[_0x114396(0x3e1)](_0x2d3669=>_0x2d3669[_0x114396(0x329)]===_0x114396(0x3d6))['length'],_0x24ecee=projects[_0x114396(0x3e1)](_0x48b0b6=>_0x48b0b6['status']==='completed')[_0x114396(0x276)];document['getElementById']('totalProjects')[_0x114396(0x3ea)]=_0x494301,document['getElementById']('totalTasks')['textContent']=_0x1ce44c,document[_0x114396(0x1ad)](_0x114396(0x22b))['textContent']=_0x5ac523,document[_0x114396(0x1ad)]('completedProjects')[_0x114396(0x3ea)]=_0x24ecee;}function updateManagerFilter(_0x204628){const _0xfe06e4=document['getElementById']('managerFilter');_0xfe06e4['innerHTML']='<option\x20value=\x22\x22>Tất\x20cả</option>',_0x204628['forEach'](_0x52bafd=>{const _0x42f1fa=_0x3f71,_0x5859d7=document[_0x42f1fa(0x195)](_0x42f1fa(0x156));_0x5859d7[_0x42f1fa(0x3fe)]=_0x52bafd['id'],_0x5859d7[_0x42f1fa(0x3ea)]=_0x52bafd[_0x42f1fa(0x1e8)],_0xfe06e4[_0x42f1fa(0x351)](_0x5859d7);});}function applyProjectFilters(){const _0x193511=_0x90c6a6,_0x4803d2=document['getElementById']('projectStatusFilter')[_0x193511(0x3fe)],_0x3c6483=document[_0x193511(0x1ad)](_0x193511(0x3ee))[_0x193511(0x3fe)];filteredProjects=projects[_0x193511(0x3e1)](_0x109ce8=>{const _0x3fa309=_0x193511;let _0x5026fd=!![];return _0x4803d2&&_0x109ce8[_0x3fa309(0x329)]!==_0x4803d2&&(_0x5026fd=![]),_0x3c6483&&_0x109ce8[_0x3fa309(0x30f)]!==_0x3c6483&&(_0x5026fd=![]),_0x5026fd;}),renderProjectsTable();}function setupTaskFilters(){const _0x4bb342=_0x90c6a6,_0x380db3=document[_0x4bb342(0x1ad)](_0x4bb342(0x224)),_0x56b0ec=document[_0x4bb342(0x1ad)]('taskAssigneeFilter');if(_0x380db3)_0x380db3[_0x4bb342(0x237)]=renderTasksTable;if(_0x56b0ec)_0x56b0ec[_0x4bb342(0x237)]=renderTasksTable;updateTaskAssigneeFilter();}function formatDateTime(_0x1b6ed4){const _0x568c81=_0x90c6a6,_0x398c5c=new Date(_0x1b6ed4);return _0x398c5c[_0x568c81(0x391)]('vi-VN');}function getProjectStatusBadge(_0x46efcd){const _0x5c4c02=_0x90c6a6,_0x22da26={'active':_0x5c4c02(0x205),'paused':_0x5c4c02(0x24d),'completed':_0x5c4c02(0x3e2)};return _0x22da26[_0x46efcd]||'';}function getTaskStatusBadge(_0x39bed3){const _0x514001=_0x90c6a6,_0x213cde={'pending':_0x514001(0x437),'in-progress':_0x514001(0x24f),'completed':_0x514001(0x3e2),'overdue':_0x514001(0x3a1)};return _0x213cde[_0x39bed3]||'';}function getPriorityBadge(_0x59759e){const _0x5111cb=_0x90c6a6,_0x37538d={'low':_0x5111cb(0x3cb),'medium':_0x5111cb(0x270),'high':'<span\x20class=\x22badge\x20badge-priority-high\x22>Cao</span>','urgent':'<span\x20class=\x22badge\x20badge-priority-urgent\x22>Khẩn\x20cấp</span>'};return _0x37538d[_0x59759e]||'';}function showNotification(_0x364a17,_0x291231='info'){const _0xd22153=_0x90c6a6,_0x3ab363=document[_0xd22153(0x1ad)](_0xd22153(0x179)),_0x238c16=document[_0xd22153(0x1ad)](_0xd22153(0x1de)),_0x3bd849=document['getElementById']('toastMessage');_0x238c16[_0xd22153(0x3ea)]=_0x291231===_0xd22153(0x381)?_0xd22153(0x27b):_0x291231==='success'?'Thành\x20công':_0x291231===_0xd22153(0x23d)?_0xd22153(0x24a):'Thông\x20báo',_0x3bd849[_0xd22153(0x3ea)]=_0x364a17,_0x3ab363[_0xd22153(0x3ab)]=_0xd22153(0x1c2)+_0x291231;const _0x2f1c21=new bootstrap['Toast'](_0x3ab363);_0x2f1c21[_0xd22153(0x385)]();}function showLoginModal(){const _0x47b1ec=_0x90c6a6,_0x1cb346=new bootstrap[(_0x47b1ec(0x34c))](document['getElementById'](_0x47b1ec(0x126)));_0x1cb346[_0x47b1ec(0x385)]();}function _0x5e19(){const _0x50014e=['currentUser','projectRuleLink','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-header-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-icon\x22\x20style=\x22color:\x20','Thêm\x20Rate\x20Nhân\x20viên','taskPriority','Không\x20thể\x20xóa\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành','\x22></span>','<option\x20value=\x22\x22>Tất\x20cả</option>','rainbow-text-1\x20fw-bold','backgroundColor','<span\x20class=\x22badge\x20bg-danger\x20text-white\x22>','employee_rates','id,\x20name,\x20total_chars,\x20rv_chars,\x20dialogue_chars','beforeend','in-progress','error','Error\x20loading\x20employee\x20rates:','Sửa\x20Rate\x20Dự\x20án','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22task-name\x22\x20title=\x22','show','taskBetaLink','Modal\x20error:','floor','urgent','text-success','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bell\x22></i>\x20Gửi\x20nhắc\x20nhở\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add','Nhân\x20viên\x20này\x20đã\x20có\x20rate.\x20Vui\x20lòng\x20sửa\x20rate\x20hiện\x20có\x20thay\x20vì\x20thêm\x20mới.','<span\x20class=\x22countdown-timer\x20bg-danger\x20text-white\x22\x20data-deadline=\x22','vi-VN','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><div\x20class=\x22btn-group-actions\x22>','toLocaleString','betaTaskAssignee','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','available','Không\x20thể\x20cập\x20nhật\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành','Lỗi\x20khi\x20xóa\x20công\x20việc','currentProjectName','beta_link','\x27)\x22\x20title=\x22Gửi\x20nhắc\x20nhở\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bell\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','employeeDetailsModal','guestContentBtn','taskAssigneeFilter','Không\x20thể\x20nhận\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành','Error\x20in\x20handleTransferTask:','rv_chars','announcementText','<span\x20class=\x22badge\x20badge-overdue\x22>Quá\x20hạn</span>','.modal-backdrop','inactive','Đang\x20hoạt\x20động','allEmployees','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20all-time\x20leaderboard:','reset','đ</span>','allTimeLeaderboard','className','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22timeline-item\x20border-start\x20border-primary\x20ps-3\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Vui\x20lòng\x20đăng\x20nhập','Link\x20Rule\x20chưa\x20được\x20thiết\x20lập','activityHistoryTableBody\x20element\x20not\x20found!','projectDialogueLink','beta-input.html?taskId=','\x20ngày\x20trước','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','rv_rate,\x20beta_rate','storyLinkBtn','sort','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Tổng\x20task</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20bg-success\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','.doc','projectModalTitle','<span\x20class=\x22badge\x20bg-warning\x22>Đang\x20thực\x20hiện</span>','position','rank-other','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x22>','https://blkkgtjsebkjmhqqtrwh.supabase.co','Error\x20loading\x20projects:','rule_link','Error\x20adding\x20task:','Đã\x20nhận\x20công\x20việc\x20thành\x20công!','loginEmail','<button\x20class=\x22btn\x20btn-action\x20btn-delete\x22\x20onclick=\x22deleteBetaTask(','priority','display','2UBvpnW','getAttribute','<span\x20class=\x22badge\x20badge-priority-low\x22>Thấp</span>','\x20giờ</div>','toString','<span\x20class=\x22badge\x20bg-secondary\x22>Chờ\x20thực\x20hiện</span>','join','bulkProjectBetaRate','visible','employeeRateEmployeeSelect','totalChars','\x20task...','#17a2b8','active','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20onclick=\x22selectProject(','Bạn\x20không\x20có\x20quyền\x20xóa\x20dự\x20án\x20này','innerHTML','Vui\x20lòng\x20đăng\x20nhập\x20để\x20nhận\x20công\x20việc','N/A','projectId','batchCreateCheckbox','Bạn\x20không\x20có\x20quyền\x20sửa\x20rate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22deadline-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20checked></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','filter','<span\x20class=\x22badge\x20badge-completed\x22>Hoàn\x20thành</span>','rv_rate','9999','id,\x20name','taskCount','danger','Lỗi\x20khi\x20lưu\x20rate','selectedIndex','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22badge\x20bg-secondary\x22>Nhân\x20viên</span>','<button\x20class=\x22btn\x20btn-action\x20btn-claim\x22\x20onclick=\x22claimTask(','managerFilter','Error\x20saving\x20announcement:','text-muted','inline','Đã\x20nhận\x20công\x20việc\x20thành\x20công','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20employees\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20email,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div','projectRateId','taskModalTitle','<option\x20value=\x22\x22>Chọn\x20người\x20nhận</option>','bulkEmployeeSelect','announcementEditForm','Bạn\x20không\x20có\x20quyền\x20chuyển\x20giao\x20công\x20việc\x20này','Task\x20Beta\x20mặc\x20định','loginForm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>','value','</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Đang\x20đồng\x20bộ\x20số\x20chữ\x20cho\x20','protectedFormData','overdue','\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-sm\x20btn-outline-primary\x22><i\x20class=\x22fas\x20fa-external-link-alt\x22></i>\x20Xem\x20RV</a>','all','total_chars_completed','Chào\x20mừng\x20','<button\x20class=\x22btn\x20btn-outline-warning\x20btn-sm\x22\x20onclick=\x22editReviewData(\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22deadline-task\x22>','\x20task\x20cần\x20thiết...','</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20details:','Cập\x20nhật\x20trạng\x20thái','Không\x20thể\x20thay\x20đổi\x20trạng\x20thái\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành','unavailable','Bạn\x20không\x20có\x20quyền\x20xóa\x20công\x20việc\x20này','projectBnvLink','taskDescription','Công\x20việc\x20đã\x20được\x20nhận\x20bởi\x20người\x20khác','Lỗi\x20khi\x20tải\x20danh\x20sách\x20nhân\x20viên','priorityNote','change','taskRVChars','parentElement','hint','find','projectRateModalTitle','Vui\x20lòng\x20điền\x20đầy\x20đủ\x20thông\x20tin\x20bắt\x20buộc','\x20công\x20việc</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-font\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fixed','Error\x20loading\x20notifications:','completed_at','id,\x20name,\x20email','Không\x20có\x20employees\x20data\x20để\x20load\x20leaderboard','.txt',')\x22\x20title=\x22Nhận\x20công\x20việc\x22><i\x20class=\x22fas\x20fa-hand-pointer\x22></i>\x20Nhận</button>','.beta-file-checkbox:checked','Could\x20not\x20save\x20tasks\x20to\x20localStorage:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectRateProjectSelect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projects\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-muted\x22>-</span>','downloadProjectName','http','<button\x20class=\x22btn\x20btn-action\x20btn-edit\x22\x20onclick=\x22editBetaTask(','bulkProjectRVRate','Xóa\x20rate\x20thành\x20công',')\x22\x20title=\x22Chỉnh\x20sửa\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>','<br><br>','<button\x20class=\x22btn\x20btn-action\x20btn-delete\x22\x20onclick=\x22deleteTask(','taskAssignee','toFixed','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postgres_changes','Không\x20tìm\x20thấy\x20thông\x20tin\x20nhân\x20viên','<span\x20class=\x22badge\x20badge-pending\x22>Chờ\x20thực\x20hiện</span>','Error\x20loading\x20project\x20rates:','system_announcements','Error\x20downloading\x20files:','Chỉnh\x20sửa\x20Công\x20việc','&type=beta\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-sm\x20btn-outline-info\x22><i\x20class=\x22fas\x20fa-sticky-note\x22></i>\x20Xem\x20ghi\x20chú\x20Beta</a>','48948gkdgvH','<span\x20class=\x22badge\x20badge-gradient-yellow\x22>','projectBetaRate','\x20ngày\x20','task_status','Error\x20saving\x20employee\x20rate:','<option\x20value=\x22\x22>Chọn\x20nhân\x20viên...</option>','beta_','taskSubmissionLink','field-enabled','startsWith','Error\x20applying\x20bulk\x20employee\x20rates:','Bạn\x20không\x20có\x20quyền\x20hủy\x20nhận\x20công\x20việc\x20này',':\x20Tổng\x20','Lỗi\x20tải\x20dữ\x20liệu\x20dự\x20án','project_rates','\x20chữ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Không\x20có\x20dự\x20án\x20nào</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hãy\x20Thêm\x20Truyện\x20đầu\x20tiên\x20để\x20bắt\x20đầu</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Lỗi\x20xóa\x20dự\x20án','substring','Bạn\x20không\x20có\x20quyền\x20chỉnh\x20sửa\x20dự\x20án\x20này','Đã\x20hủy\x20nhận\x20công\x20việc!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','addEventListener','Error\x20applying\x20bulk\x20rates\x20for\x20new\x20project:','Lỗi\x20tải\x20dữ\x20liệu\x20ban\x20đầu','hide','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x20py-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-3x\x20mb-3\x22\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-0\x22\x20style=\x22color:\x20rgba(255,255,255,0.8);\x20font-weight:\x20600;\x22>Chưa\x20có\x20dữ\x20liệu</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22>Hãy\x20bắt\x20đầu\x20hoàn\x20thành\x20công\x20việc!</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','style','lastWordCountSync','Bạn\x20không\x20có\x20quyền\x20chỉnh\x20sửa\x20công\x20việc\x20này','beta-input.html','top','badge-activity-inactive','addProjectRateBtn','totalTasks','application/msword','story_link','review-input.html','block','PGRST116','<i\x20class=\x22fas\x20fa-play-circle\x22></i>','Đã\x20áp\x20dụng\x20rate\x20cho\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','&type=rv\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-sm\x20btn-outline-info\x22><i\x20class=\x22fas\x20fa-sticky-note\x22></i>\x20Xem\x20ghi\x20chú\x20RV</a>','getItem','not','Link\x20thoại\x20chưa\x20được\x20thiết\x20lập','100%','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn-close\x22\x20data-bs-dismiss=\x22modal\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Employee\x20Info\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6><i\x20class=\x22fas\x20fa-info-circle\x20me-2\x22></i>Thông\x20tin\x20cơ\x20bản</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22table\x20table-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td><strong>Email:</strong></td><td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-primary\x20me-1\x22\x20onclick=\x22editEmployeeRate(\x27','reportTableBody','individual','Vui\x20lòng\x20đăng\x20nhập\x20để\x20Thêm\x20Deadline','\x20VNĐ</strong></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20monthly\x20leaderboard:','use_project_rate,\x20rv_rate,\x20beta_rate','supabase','loginModal','updated_at','batchStartGroup','\x20-\x20','rainbow-text-3\x20fw-bold','querySelectorAll','Cập\x20nhật\x20trạng\x20thái\x20thành\x20công!','Lưu\x20rate\x20thành\x20công','Lỗi\x20Thêm\x20Truyện','batchCountGroup','\x20công\x20việc</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x20btn-group-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getFullYear','projectDescription','\x20giờ\x20trước','&mode=edit','Lỗi\x20xóa\x20công\x20việc','boss','dialogueLinkBtn','split','Error\x20loading\x20tasks:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20employees!tasks_assignee_id_fkey\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20email,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22badge\x20badge-gradient-green\x22>','Lỗi\x20cập\x20nhật\x20UI\x20real-time:','warning-row','<span\x20class=\x22badge\x20bg-danger\x22>Boss</span>','projectsView','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-0\x22>','<i\x20class=\x22fas\x20fa-edit\x20me-2\x22></i>Nhập\x20nội\x20dung\x20Review','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','all-time','employeeRateModalTitle','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-','pending','setAttribute','taskStatus','Error\x20loading\x20leaderboards:','\x20đã\x20nhận','transferAssignee','download','open','success','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>','DOMContentLoaded','Lỗi:\x20Không\x20tìm\x20thấy\x20modal\x20báo\x20cáo\x20dự\x20án','table-row-completed','Không\x20có\x20file\x20','projectRateRVRate','option','Lỗi\x20load\x20notifications\x20trong\x20background:','fileFormat','modal-backdrop','Error\x20deleting\x20project\x20rate:','bulkProjectSelect','bulkEmployeeBetaRate','<tr><td\x20colspan=\x2212\x22\x20class=\x22text-center\x22><div\x20class=\x22empty-state\x22><i\x20class=\x22fas\x20fa-tasks\x22></i><h4>Chưa\x20chọn\x20dự\x20án</h4><p>Vui\x20lòng\x20chọn\x20một\x20dự\x20án\x20để\x20xem\x20công\x20việc</p></div></td></tr>','height','rvMoney','Không\x20tìm\x20thấy\x20công\x20việc','taskBetaNotes','manager','Thêm\x20Truyện','<button\x20class=\x22btn\x20btn-action\x20btn-edit\x22\x20onclick=\x22editTask(','activityStatus','.rv-chars-cell','rank-3','.total-chars-cell','Lỗi\x20đồng\x20bộ\x20số\x20chữ\x20trong\x20background:','Error\x20deleting\x20beta\x20task:','Lỗi\x20khi\x20lưu\x20thông\x20báo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20employees\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20email\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Lỗi\x20cập\x20nhật\x20trạng\x20thái','Thêm\x20Rate\x20Dự\x20án','Error\x20updating\x20task\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22date-info\x20','7357OhOoMw','Cần\x20chú\x20ý','created_at','keys','employeeRateRVRate','reduce','activityHistoryData','trim','notificationToast','Lỗi\x20cập\x20nhật\x20RV\x20chars\x20cho\x20task\x20','Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20dự\x20án\x20này?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-avatar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','completed','Đã\x20cập\x20nhật\x20công\x20việc\x20thành\x20công','Bạn\x20không\x20có\x20quyền\x20xem\x20nội\x20dung\x20review\x20của\x20task\x20này','deadline-urgent','monthly','Lỗi\x20khi\x20tải\x20danh\x20sách\x20dự\x20án','review','employee_id','<p\x20class=\x22text-muted\x20mb-0\x22>Chưa\x20có\x20thông\x20báo\x20nào</p>','<span\x20class=\x22badge\x20bg-secondary\x22>N/A</span>','allTimeLeaderboardData','loginMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','mainContent','Không\x20thể\x20chỉnh\x20sửa\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành','createObjectURL','push','width','Lỗi:\x20Không\x20tìm\x20thấy\x20modal\x20nhân\x20viên','\x20VNĐ','checked','Lỗi\x20khi\x20tải\x20dữ\x20liệu\x20báo\x20cáo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-rank\x20','createElement','Vừa\x20xong','<option\x20value=\x22\x22>Chọn\x20người\x20quản\x20lý...</option>','</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>','insert','text-info\x20fw-bold','Chưa\x20có\x20người\x20nhận','from','left','classList','active-row','notes','Error\x20unclaiming\x20task:','text-primary\x20fw-bold','<span\x20class=\x22badge\x20bg-primary\x22>Quản\x20lý</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3><i\x20class=\x22fas\x20fa-lock\x20text-warning\x22></i>\x20Yêu\x20cầu\x20đăng\x20nhập</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x22>Vui\x20lòng\x20đăng\x20nhập\x20để\x20truy\x20cập\x20hệ\x20thống\x20quản\x20lý\x20dự\x20án.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x22\x20onclick=\x22showLoginModal()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-in-alt\x20me-2\x22></i>Đăng\x20nhập\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Lỗi\x20tải\x20thông\x20tin\x20task\x20từ\x20database',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tasks','deadline','Error\x20loading\x20managers:','#ffc107','Error\x20loading\x20project\x20report\x20data:','includes','getElementById','employeeRatesTableBody','now','rate','transferTaskId','single','#28a745','id,\x20rv_rate,\x20beta_rate','82836igVSPy','projectManager','match','downloadMode','batchStart','Error\x20getting\x20task\x20rate:','info','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns=\x27http://www.w3.org/TR/REC-html40\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head><meta\x20charset=\x27utf-8\x27></head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22employee-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22employee-name\x22>','.batch-hide','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Không\x20có\x20nhân\x20viên\x20nào</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Chưa\x20có\x20nhân\x20viên\x20trong\x20hệ\x20thống</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','9998','projectRateBetaRate','toast\x20toast-','betaMoney','parse','betaNotesField','<span\x20class=\x22','Đang\x20thực\x20hiện','employeeStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal\x20fade\x22\x20id=\x22employeeDetailsModal\x22\x20tabindex=\x22-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-dialog\x20modal-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22modal-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20me-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Chi\x20tiết\x20hoạt\x20động:\x20','limit','beta_notes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-title\x22>','upsert','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>','taskNotes','view','\x27)\x22\x20title=\x22Chỉnh\x20sửa\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','totalBetaChars','selectAllBetaFiles','map','lastClaimDate','<span\x20class=\x22ms-2\x22>Dự\x20án:\x20','taskStatusField','base','Error\x20claiming\x20task:','1055','Có\x20công\x20việc\x20quá\x20hạn!','Lỗi\x20khi\x20tải\x20danh\x20sách\x20rate\x20dự\x20án','table-row-high','toastTitle','.tab-pane','createClient','Error\x20checking\x20project\x20rate:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','remove','Lỗi\x20cập\x20nhật\x20công\x20việc','href','Link\x20truyện\x20chưa\x20được\x20thiết\x20lập','hidden','name','Lỗi\x20khi\x20tải\x20tùy\x20chọn\x20bulk\x20rate','onclick','Error\x20restoring\x20form\x20data:','Error\x20loading\x20employee\x20rate\x20for\x20edit:','Lỗi\x20đồng\x20bộ\x20số\x20chữ\x20từ\x20task_content:','Lỗi\x20khi\x20tải\x20danh\x20sách\x20rate\x20nhân\x20viên','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>','projectForm','Lỗi\x20tải\x20thông\x20tin\x20parent\x20RV\x20task','bnv_link','</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6><i\x20class=\x22fas\x20fa-chart-line\x20me-2\x22></i>Thống\x20kê\x20tổng\x20quan</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22employeeStats\x22\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20spinner-border-sm\x22\x20role=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22visually-hidden\x22>Loading...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Activity\x20Timeline\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6><i\x20class=\x22fas\x20fa-history\x20me-2\x22></i>Lịch\x20sử\x20hoạt\x20động\x20gần\x20đây</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22activityTimeline\x22\x20class=\x22border\x20rounded\x20p-3\x22\x20style=\x22max-height:\x20400px;\x20overflow-y:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20spinner-border-sm\x22\x20role=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22visually-hidden\x22>Loading...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-primary\x22\x20id=\x22loadMoreBtn\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20Xem\x20thêm\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-secondary\x22\x20data-bs-dismiss=\x22modal\x22>Đóng</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-warning\x22\x20onclick=\x22sendReminder(\x27','Lỗi\x20hủy\x20nhận\x20công\x20việc','8661020wKTQwB','</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20manager:employees(name)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardView','.beta-file-checkbox','totalTasksCount','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-primary\x20me-1\x22\x20onclick=\x22editProjectRate(\x27','Đã\x20làm\x20mới\x20dữ\x20liệu','Error\x20deleting\x20child\x20task:','transferForm','projectRateModal','rgba(0,0,0,0.5)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalRVChars','Bạn\x20có\x20muốn\x20chuyển\x20từ\x20link\x20sang\x20nhập\x20nội\x20dung\x20trực\x20tiếp\x20không?','<span\x20class=\x22badge\x20badge-active\x22>Đang\x20hoạt\x20động</span>','<span\x20class=\x22badge\x20badge-gradient-blue\x22>','Đã\x20cập\x20nhật\x20task\x20','Xóa\x20công\x20việc\x20thành\x20công!','Chỉ\x20quản\x20lý\x20và\x20boss\x20mới\x20có\x20thể\x20xem\x20báo\x20cáo\x20dự\x20án','[CONTENT_SAVED]','Chỉnh\x20sửa\x20Dự\x20án','getMonth','employees','Error\x20applying\x20bulk\x20project\x20rates:','Không\x20có\x20task\x20nào\x20để\x20cập\x20nhật','number','disabled','employeeRateBetaRate','<span\x20class=\x22badge\x20bg-success\x22>Hoàn\x20thành</span>',')\x22\x20title=\x22Xóa\x22><i\x20class=\x22fas\x20fa-trash\x22></i></button>','Lỗi:\x20Không\x20tìm\x20thấy\x20bảng\x20nhân\x20viên','Lỗi\x20khi\x20cập\x20nhật\x20công\x20việc','toISOString','</span>','employee','\x20ngày','Supabase\x20error:','log','<span\x20class=\x22badge\x20badge-money\x22>','Error\x20updating\x20project:','rank-2','completed_tasks','transferModal','Vui\x20lòng\x20chọn\x20task\x20để\x20nhập\x20nội\x20dung\x20review','betaFilesTableBody','taskStatusFilter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns=\x27http://www.w3.org/TR/REC-html40\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head><meta\x20charset=\x27utf-8\x27></head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>','Vui\x20lòng\x20đăng\x20nhập\x20để\x20Thêm\x20Truyện','&mode=input','Vui\x20lòng\x20nhập\x20ít\x20nhất\x20một\x20rate','dialogue_link','doc','activeProjects','beta_chars','taskRate','secondary','2900BzbOOZ','update','Bạn\x20không\x20có\x20quyền\x20cập\x20nhật\x20công\x20việc\x20này','Vui\x20lòng\x20chọn\x20nhân\x20viên\x20và\x20nhập\x20rate','activityStatusFilter','Lỗi\x20tải\x20dữ\x20liệu\x20công\x20việc','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','charAt','onchange','\x20nào\x20để\x20tải','reportProjectName','#dc3545','taskTotalChars','every','warning','<span\x20class=\x22countdown-timer\x22\x20data-deadline=\x22','select','details','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22','revokeObjectURL','use_project_rate','</strong></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22badge\x20bg-primary\x22>','Lỗi\x20tải\x20danh\x20sách\x20người\x20quản\x20lý','<button\x20class=\x22btn\x20btn-sm\x20btn-outline-primary\x22\x20onclick=\x22editBetaData(','round','Error\x20loading\x20task\x20from\x20database:','badge-activity-warning','Cảnh\x20báo','beta_merged_','openReviewInputBtn','<span\x20class=\x22badge\x20badge-paused\x22>Tạm\x20dừng</span>','inactivityDays','<span\x20class=\x22badge\x20badge-in-progress\x22>Đang\x20thực\x20hiện</span>','input','Error\x20loading\x20activity\x20history\x20data:','replace','<p\x20class=\x22text-muted\x22>Không\x20thể\x20tải\x20thống\x20kê</p>','Error\x20claiming\x20beta\x20task:','review_merged_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','projectRVRate','entries','submission_link','Đã\x20cập\x20nhật\x20RV\x20chars\x20cho\x20task\x20','selectedOptions','Bạn\x20không\x20có\x20quyền\x20xóa\x20rate','</div></td>','content','<button\x20class=\x22btn\x20btn-outline-info\x20btn-sm\x22\x20onclick=\x22showProjectReportModal(','</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td><strong>Vai\x20trò:</strong></td><td>','Đã\x20cập\x20nhật\x20rate\x20cho\x20','taskModal','employeeRateId','medium','description','Xóa\x20dự\x20án\x20thành\x20công!','forEach','bulkEmployeeRVRate','1050','Thêm\x20Truyện\x20thành\x20công!','auth','<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20text-muted\x22>Chưa\x20có\x20rate\x20nào\x20được\x20thiết\x20lập</td></tr>','.countdown-timer','\x20đã\x20hoàn\x20thành','btn\x20btn-outline-primary','<span\x20class=\x22badge\x20badge-priority-medium\x22>Trung\x20bình</span>',')\x22\x20title=\x22Tải\x20file\x20Beta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>','in_progress','rvChars','Cập\x20nhật\x20dự\x20án\x20thành\x20công!','length','projectStatus','role','values','Vui\x20lòng\x20chọn\x20người\x20nhận','Lỗi','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Hoàn\x20thành\x20cập\x20nhật\x20RV\x20chars','tasksView','findIndex','dialogue_chars','slice','text/plain;charset=utf-8','project_id','Hoàn\x20thành\x20đồng\x20bộ\x20số\x20chữ','Không\x20thể\x20đọc\x20nội\x20dung\x20từ\x20task_content\x20cho\x20task\x20','7716BScSnz','Link\x20BNV\x20chưa\x20được\x20thiết\x20lập','Error\x20loading\x20beta\x20files\x20list:','projectModal','inline-block','Error\x20adding\x20project:','Đã\x20hoàn\x20thành','Chuyển\x20giao\x20công\x20việc\x20thành\x20công!','Thông\x20báo\x20đã\x20được\x20cập\x20nhật','234XVhFaA','#taskAssignee','code','field-disabled',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Cập\x20nhật\x20Beta\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inactivity-duration\x20','Bạn\x20không\x20có\x20quyền\x20thay\x20đổi\x20trạng\x20thái\x20công\x20việc\x20này','projectStoryLink','beta_rate','total_chars','Error\x20deleting\x20employee\x20rate:','batchCount','Lỗi\x20khi\x20áp\x20dụng\x20rate\x20hàng\x20loạt','-tasks','Không\x20thể\x20Thêm\x20Deadline\x20vào\x20dự\x20án\x20đã\x20hoàn\x20thành','Công\x20việc\x20này\x20đã\x20được\x20phân\x20công','viewActivityHistoryBtn','Error\x20loading\x20project\x20rate\x20for\x20edit:','Error\x20updating\x20task:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-action-detail\x22\x20onclick=\x22viewEmployeeDetails(\x27','Error\x20loading\x20parent\x20RV\x20task\x20from\x20database:','querySelector','currentEditingTaskId','total_tasks','<span\x20title=\x22','Đã\x20đăng\x20xuất','-tab','Lỗi\x20xử\x20lý\x20yêu\x20cầu\x20xem\x20review:\x20','Error\x20loading\x20employee\x20timeline:','taskDialogueChars','Chưa\x20có','employeesTableBody','<a\x20href=\x22','...','Thêm\x20Deadline\x20thành\x20công!','lastTaskName','table-danger','Nhân\x20viên,Số\x20công\x20việc,Chữ\x20RV,Chữ\x20Beta,Tiền\x20RV,Tiền\x20Beta,Tổng\x20tiền\x0a','Login\x20error:','badge-activity-active','projectRateTarget','<button\x20class=\x22btn\x20btn-sm\x20btn-outline-success\x22\x20onclick=\x22inputBetaData(','gte','Error\x20transferring\x20task:','Không\x20tìm\x20thấy\x20nội\x20dung\x20cho\x20task\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','assignee_id','Lỗi\x20khi\x20xóa\x20rate','monthlyLeaderboardData','_blank','message','bao-cao-du-an-','email','task_id','addEmployeeRateBtn','Vui\x20lòng\x20chọn\x20một\x20dự\x20án\x20trước','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22badge\x20bg-info\x22>','tasksTableBody','bulk-rates-tab','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','betaChars','betaTaskAssigneeFilter','Vui\x20lòng\x20điền\x20Tên\x20Truyện','btn\x20btn-outline-warning','Lỗi\x20cập\x20nhật\x20RV\x20chars\x20cho\x20tất\x20cả\x20task:','inactive-row','taskProjectId','employeesModal','betaTaskId','\x27).catch(console.error)\x22\x20title=\x22Xem\x20nội\x20dung\x20Review\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Xem\x20Review\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Chỉnh\x20sửa\x20Beta\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Lỗi\x20Thêm\x20Deadline:\x20','lte','Lỗi\x20khi\x20tải\x20thông\x20tin\x20rate','subscribe','reportEmployeeFilter','\x20task\x20thành\x20công!','Lỗi\x20khi\x20tải\x20danh\x20sách\x20file','warn','Lỗi\x20lấy\x20danh\x20sách\x20task\x20có\x20nội\x20dung:','betaTaskStatusFilter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22employee-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22employee-avatar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','41882137ltFJOQ','Bạn\x20không\x20có\x20quyền\x20áp\x20dụng\x20rate\x20hàng\x20loạt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20class=\x22beta-file-checkbox\x22\x20value=\x22','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Đã\x20hoàn\x20thành</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20bg-info\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','Đã\x20cập\x20nhật\x20UI\x20cho\x20task\x20','taskBetaRate','projectsTableBody','\x20phút\x20trước','review_','Beta\x20task\x20không\x20có\x20parent\x20RV\x20task','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Bỏ\x20qua\x20load\x20leaderboard\x20-\x20không\x20đủ\x20điều\x20kiện','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20employees!tasks_assignee_id_fkey\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20email\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','betaTasksTableBody','data-deadline','merge','visibility','Bạn\x20không\x20có\x20quyền\x20thêm\x20rate','txt','paused','\x22\x20data-taskid=\x22','addProjectBtn','task_type','<option\x20value=\x22\x22>Tất\x20cả\x20nhân\x20viên</option>','<tr><td\x20colspan=\x2212\x22\x20class=\x22text-center\x22><div\x20class=\x22empty-state\x22><i\x20class=\x22fas\x20fa-tasks\x22></i><h4>Không\x20có\x20công\x20việc\x20nào</h4><p>Hãy\x20Thêm\x20Deadline\x20đầu\x20tiên\x20cho\x20dự\x20án\x20này</p></div></td></tr>','projects','activityHistoryTableBody','readOnly',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-danger\x20btn-sm\x22\x20onclick=\x22deleteProject(','taskId','opener','taskBetaChars','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20xmlns=\x27http://www.w3.org/TR/REC-html40\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head><meta\x20charset=\x27utf-8\x27></head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>','Thêm\x20Deadline','range','Dữ\x20liệu\x20dự\x20án\x20đã\x20được\x20cập\x20nhật','individualEmployeeSection','activityTimeline','Lỗi\x20khi\x20tạo\x20task\x20với\x20rate\x20hàng\x20loạt\x20cho\x20dự\x20án\x20mới','Vui\x20lòng\x20điền\x20đầy\x20đủ\x20thông\x20tin','delete','<option\x20value=\x22\x22>Không\x20chỉ\x20định\x20(để\x20nhân\x20viên\x20tự\x20nhận)</option>','new','7088pBedTw','manager_id','task_name','Bỏ\x20qua\x20đồng\x20bộ\x20số\x20chữ\x20-\x20đã\x20đồng\x20bộ\x20gần\x20đây','employee-rates-tab','\x20VNĐ</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','getInstance','click','\x20chữ,\x20RV\x20','taskDeadline','project_name','Tính\x20năng\x20gửi\x20nhắc\x20nhở\x20sẽ\x20được\x20triển\x20khai\x20sau','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsa2tndGpzZWJram1ocXF0cndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5Mzc5NDgsImV4cCI6MjA2OTUxMzk0OH0.0VQIXPP5ZfpeFzDpG-lGVFqwZNikn5rb-vQTu5AdUTs','<div\x20class=\x22text-info\x20small\x22>Thời\x20gian:\x20','public','<button\x20class=\x22btn\x20btn-sm\x20btn-outline-info\x22\x20onclick=\x22viewReviewContent(\x27','toUpperCase','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Vui\x20lòng\x20chọn\x20dự\x20án\x20và\x20nhập\x20rate','<button\x20class=\x22btn\x20btn-outline-warning\x20btn-sm\x22\x20onclick=\x22editProject(','Beta\x20task\x20missing\x20parent_task_id:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20công\x20việc\x20này?','lastCompletionDate','order','submit','employeeActivityFilter','status','.csv','<span\x20class=\x22badge\x20bg-primary\x22>','Không\x20thể\x20cập\x20nhật\x20trạng\x20thái','stringify','parent_task_id','Error\x20downloading\x20file\x20for\x20task\x20','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','body','Lỗi\x20lấy\x20danh\x20sách\x20task\x20để\x20cập\x20nhật\x20RV\x20chars:','<span\x20class=\x22badge\x20bg-danger\x22>Quá\x20hạn</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upcomingDeadlines','Vui\x20lòng\x20đăng\x20nhập\x20trước','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bnvLinkBtn','localeCompare','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22','Error\x20populating\x20employee\x20select:','rainbow-text-','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','id,\x20name,\x20status','Vui\x20lòng\x20nhập\x20nội\x20dung\x20thông\x20báo','Task\x20RV\x20được\x20tạo\x20tự\x20động\x20với\x20rate\x20hàng\x20loạt','removeChild','Error\x20in\x20viewReviewContent:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x22>Đã\x20có\x20nội\x20dung</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Task\x20không\x20phải\x20là\x20beta\x20hoặc\x20RV\x20task','Guest','Error\x20loading\x20employees:','Đã\x20tạo\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20Nhập\x20Beta\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Chờ\x20thực\x20hiện','channel','content_type','Modal','Không\x20thể\x20hủy\x20nhận\x20công\x20việc','modal-backdrop\x20fade\x20show','projectEmployeeSelect','claimed_at','appendChild','beta','totalMoney','taskName','getTime','projectRatesTableBody','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-danger\x22\x20onclick=\x22deleteProjectRate(\x27',')\x22\x20title=\x22Báo\x20cáo\x20dự\x20án\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-success\x20btn-sm\x22\x20onclick=\x22showDownloadModal(','employeeRateModal','Dự\x20án\x20này\x20đã\x20có\x20rate.\x20Vui\x20lòng\x20sửa\x20rate\x20hiện\x20có\x20thay\x20vì\x20thêm\x20mới.','rateMembersBtn','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20employees!tasks_assignee_id_fkey\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Lỗi\x20khi\x20tải\x20file:\x20','signInWithPassword','7681716fnupYl','systemAnnouncement','Lỗi:\x20','hours_to_complete','Task\x20Beta\x20được\x20tạo\x20tự\x20động\x20với\x20rate\x20hàng\x20loạt','employee_activity_stats','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','downloadBetaModal','\x20dự\x20án','Error\x20loading\x20employee\x20stats:','Task\x20RV\x20mặc\x20định','<i\x20class=\x22fas\x20fa-clock\x22></i>','projectName','guest-content.html','max','Task\x20is\x20neither\x20beta\x20nor\x20RV:'];_0x5e19=function(){return _0x50014e;};return _0x5e19();}function hideAllContent(){const _0x4b3a65=_0x90c6a6,_0x29e41b=document[_0x4b3a65(0x1ad)](_0x4b3a65(0x18b)),_0x46610e=document[_0x4b3a65(0x1ad)](_0x4b3a65(0x13f)),_0x5e4779=document[_0x4b3a65(0x1ad)](_0x4b3a65(0x27e)),_0x1a4b9c=document[_0x4b3a65(0x1ad)](_0x4b3a65(0x1f8)),_0xad4ef3=document[_0x4b3a65(0x1ad)]('activityHistoryView');if(_0x29e41b)_0x29e41b[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]='none';if(_0x46610e)_0x46610e[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]=_0x4b3a65(0x11c);if(_0x5e4779)_0x5e4779[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]=_0x4b3a65(0x11c);if(_0x1a4b9c)_0x1a4b9c[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]='none';if(_0xad4ef3)_0xad4ef3[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]=_0x4b3a65(0x11c);const _0x5beabe=document['getElementById'](_0x4b3a65(0x188));_0x5beabe&&(_0x5beabe[_0x4b3a65(0x107)][_0x4b3a65(0x3c8)]=_0x4b3a65(0x112),_0x5beabe[_0x4b3a65(0x3d9)]=_0x4b3a65(0x1a4));}async function showAddProjectModal(){const _0x19a00e=_0x90c6a6;if(!currentUser){showNotification(_0x19a00e(0x226),_0x19a00e(0x381));return;}document[_0x19a00e(0x1ad)](_0x19a00e(0x1f0))[_0x19a00e(0x3a8)](),document['getElementById'](_0x19a00e(0x3dc))['value']='',document[_0x19a00e(0x1ad)](_0x19a00e(0x3bb))[_0x19a00e(0x3ea)]=_0x19a00e(0x163),document[_0x19a00e(0x1ad)]('projectStoryLink')[_0x19a00e(0x3fe)]='',document[_0x19a00e(0x1ad)](_0x19a00e(0x372))[_0x19a00e(0x3fe)]='',document[_0x19a00e(0x1ad)]('projectBnvLink')[_0x19a00e(0x3fe)]='',document[_0x19a00e(0x1ad)](_0x19a00e(0x3b1))[_0x19a00e(0x3fe)]='',document['getElementById'](_0x19a00e(0x257))[_0x19a00e(0x3fe)]='',document['getElementById'](_0x19a00e(0x43f))[_0x19a00e(0x3fe)]='',document[_0x19a00e(0x1ad)]('projectRateTarget')[_0x19a00e(0x3fe)]=_0x19a00e(0x404),document['getElementById']('individualEmployeeSection')['style'][_0x19a00e(0x3c8)]='none',document['getElementById'](_0x19a00e(0x34f))['innerHTML']='',populateManagerDropdown();const _0x358ade=new bootstrap[(_0x19a00e(0x34c))](document[_0x19a00e(0x1ad)](_0x19a00e(0x289)));_0x358ade['show'](),await setupBulkRateFunctionality(null);}async function populateManagerDropdown(){const _0x14aee8=_0x90c6a6;try{const {data:_0x363700,error:_0x2d54cc}=await supabase['from'](_0x14aee8(0x20d))[_0x14aee8(0x23f)](_0x14aee8(0x3e5))['in'](_0x14aee8(0x278),['manager',_0x14aee8(0x136)])[_0x14aee8(0x326)](_0x14aee8(0x1e8));if(_0x2d54cc)throw _0x2d54cc;const _0x13368a=document[_0x14aee8(0x1ad)](_0x14aee8(0x1b6));_0x13368a['innerHTML']=_0x14aee8(0x197),_0x363700[_0x14aee8(0x267)](_0x2b4c99=>{const _0x98f222=_0x14aee8,_0x4885f0=document[_0x98f222(0x195)](_0x98f222(0x156));_0x4885f0['value']=_0x2b4c99['id'],_0x4885f0[_0x98f222(0x3ea)]=_0x2b4c99[_0x98f222(0x1e8)],_0x13368a[_0x98f222(0x351)](_0x4885f0);});}catch(_0x43c5a0){console['error'](_0x14aee8(0x1a9),_0x43c5a0),showNotification(_0x14aee8(0x245),_0x14aee8(0x381));}}function toggleBatchCreate(){const _0x31b050=_0x90c6a6,_0x34493f=document[_0x31b050(0x1ad)](_0x31b050(0x3dd))[_0x31b050(0x192)];document['querySelectorAll']('.batch-hide')[_0x31b050(0x267)](_0x48c6d5=>{const _0x1bd874=_0x31b050;_0x48c6d5[_0x1bd874(0x107)][_0x1bd874(0x3c8)]=_0x34493f?_0x1bd874(0x11c):'';}),document['getElementById'](_0x31b050(0x12f))[_0x31b050(0x107)]['display']=_0x34493f?'':'none',document[_0x31b050(0x1ad)](_0x31b050(0x128))['style'][_0x31b050(0x3c8)]=_0x34493f?'':_0x31b050(0x11c);}function showAddTaskModal(){const _0x214a63=_0x90c6a6;if(!currentUser){showNotification(_0x214a63(0x121),_0x214a63(0x381));return;}if(!currentProjectId){showNotification(_0x214a63(0x2c6),_0x214a63(0x381));return;}if(currentUser[_0x214a63(0x278)]===_0x214a63(0x219)){const _0x1dac3f=projects[_0x214a63(0x419)](_0x5c235a=>_0x5c235a['id']===currentProjectId);if(_0x1dac3f&&_0x1dac3f[_0x214a63(0x329)]===_0x214a63(0x17d)){showNotification('Không\x20thể\x20Thêm\x20Deadline\x20vào\x20dự\x20án\x20đã\x20hoàn\x20thành',_0x214a63(0x381));return;}}document['getElementById']('taskForm')[_0x214a63(0x3a8)](),document[_0x214a63(0x1ad)](_0x214a63(0x300))[_0x214a63(0x3fe)]='',document[_0x214a63(0x1ad)](_0x214a63(0x2d2))['value']=currentProjectId,document[_0x214a63(0x1ad)]('taskStatusField')[_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c),document[_0x214a63(0x1ad)]('taskModalTitle')[_0x214a63(0x3ea)]=_0x214a63(0x304),updateAssigneeDropdowns();const _0x3c61a1=currentUser[_0x214a63(0x278)]===_0x214a63(0x219),_0x369260=document[_0x214a63(0x1ad)](_0x214a63(0x376)),_0x35be85=document[_0x214a63(0x1ad)](_0x214a63(0x414)),_0x1d82d6=document[_0x214a63(0x1ad)](_0x214a63(0x354)),_0x2058b6=document[_0x214a63(0x1ad)](_0x214a63(0x317)),_0x5b248c=document[_0x214a63(0x1ad)](_0x214a63(0x22d)),_0x29ec2d=document[_0x214a63(0x1ad)](_0x214a63(0x3dd)),_0x39df5d=document['getElementById']('batchCount'),_0x258e42=document['getElementById'](_0x214a63(0x1b9));if(_0x369260)_0x369260[_0x214a63(0x211)]=_0x3c61a1;if(_0x35be85)_0x35be85[_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x3c61a1?_0x214a63(0x3f1):'none';if(_0x1d82d6)_0x1d82d6[_0x214a63(0x2fe)]=_0x3c61a1;if(_0x2058b6)_0x2058b6[_0x214a63(0x2fe)]=_0x3c61a1;if(_0x5b248c)_0x5b248c[_0x214a63(0x2fe)]=_0x3c61a1;if(_0x29ec2d)_0x29ec2d[_0x214a63(0x211)]=_0x3c61a1;if(_0x39df5d)_0x39df5d[_0x214a63(0x2fe)]=_0x3c61a1;if(_0x258e42)_0x258e42[_0x214a63(0x2fe)]=_0x3c61a1;document['getElementById']('batchCreateCheckbox')['checked']=![],document[_0x214a63(0x1ad)](_0x214a63(0x12f))[_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c),document[_0x214a63(0x1ad)](_0x214a63(0x128))[_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c),document[_0x214a63(0x12b)](_0x214a63(0x1be))['forEach'](_0x4c6339=>{const _0x1d172e=_0x214a63;_0x4c6339[_0x1d172e(0x107)]['display']='';});const _0x1ed4e9=currentTaskType===_0x214a63(0x352),_0x4ef6ef=document[_0x214a63(0x1ad)](_0x214a63(0x416)),_0x241d61=document[_0x214a63(0x1ad)](_0x214a63(0x302)),_0x1c5ec1=document[_0x214a63(0x1ad)](_0x214a63(0x2ac)),_0x250028=document['getElementById'](_0x214a63(0x23b)),_0x267e74=document[_0x214a63(0x1ad)](_0x214a63(0xf3)),_0x2cd969=document['getElementById'](_0x214a63(0x386)),_0x3d6ac7=document[_0x214a63(0x1ad)](_0x214a63(0x1cf))[_0x214a63(0x417)],_0xc7b26b=document['getElementById'](_0x214a63(0x1c5));if(_0x1ed4e9){if(_0x4ef6ef)_0x4ef6ef[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0x241d61)_0x241d61[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]='';if(_0x1c5ec1)_0x1c5ec1[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0x250028)_0x250028[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0x267e74)_0x267e74[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0x2cd969)_0x2cd969[_0x214a63(0x417)]['style'][_0x214a63(0x3c8)]='';if(_0x3d6ac7)_0x3d6ac7[_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0xc7b26b)_0xc7b26b[_0x214a63(0x107)]['display']='';setFieldPermissions(_0x214a63(0x352));}else{if(_0x4ef6ef)_0x4ef6ef[_0x214a63(0x417)][_0x214a63(0x107)]['display']='';if(_0x241d61)_0x241d61['parentElement'][_0x214a63(0x107)][_0x214a63(0x3c8)]='none';if(_0x1c5ec1)_0x1c5ec1[_0x214a63(0x417)]['style'][_0x214a63(0x3c8)]='';if(_0x250028)_0x250028[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]='';if(_0x267e74)_0x267e74[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]='';if(_0x2cd969)_0x2cd969[_0x214a63(0x417)][_0x214a63(0x107)][_0x214a63(0x3c8)]=_0x214a63(0x11c);if(_0x3d6ac7)_0x3d6ac7[_0x214a63(0x107)][_0x214a63(0x3c8)]='';if(_0xc7b26b)_0xc7b26b['style'][_0x214a63(0x3c8)]=_0x214a63(0x11c);setFieldPermissions('rv');}document[_0x214a63(0x1ad)]('taskDialogueChars')['addEventListener'](_0x214a63(0x250),calculateRVChars),document[_0x214a63(0x1ad)]('taskTotalChars')['addEventListener'](_0x214a63(0x250),calculateRVChars);const _0xbe464b=new bootstrap[(_0x214a63(0x34c))](document[_0x214a63(0x1ad)]('taskModal'));_0xbe464b[_0x214a63(0x385)]();}function setFieldPermissions(_0x1e5557){const _0x3ea2ca=_0x90c6a6;if(!currentUser)return;const _0x6eadd=['taskName',_0x3ea2ca(0x411),'taskDeadline',_0x3ea2ca(0x376),_0x3ea2ca(0xf3),_0x3ea2ca(0x2ac),'taskTotalChars','taskRVChars',_0x3ea2ca(0x22d),'taskNotes','taskAssignee',_0x3ea2ca(0x386),'taskBetaChars',_0x3ea2ca(0x161),_0x3ea2ca(0x2e7)];_0x6eadd[_0x3ea2ca(0x267)](_0x1bf5d0=>{const _0x587cb6=_0x3ea2ca,_0x420172=document[_0x587cb6(0x1ad)](_0x1bf5d0);_0x420172&&(_0x420172['classList'][_0x587cb6(0x1e3)]('field-disabled',_0x587cb6(0xf4)),_0x420172[_0x587cb6(0x211)]=![],_0x420172['readOnly']=![]);});const _0x1e2974={'taskName':_0x3ea2ca(0x1e8),'taskDescription':_0x3ea2ca(0x265),'taskDeadline':'deadline','taskPriority':_0x3ea2ca(0x3c7),'taskSubmissionLink':_0x3ea2ca(0x259),'taskDialogueChars':'dialogue_chars','taskTotalChars':_0x3ea2ca(0x298),'taskRVChars':_0x3ea2ca(0x39f),'taskRate':_0x3ea2ca(0x1b0),'taskNotes':_0x3ea2ca(0x1a0),'taskAssignee':_0x3ea2ca(0x2bd),'taskBetaLink':_0x3ea2ca(0x398),'taskBetaChars':_0x3ea2ca(0x22c),'taskBetaNotes':'beta_notes','taskBetaRate':_0x3ea2ca(0x297)};Object[_0x3ea2ca(0x258)](_0x1e2974)[_0x3ea2ca(0x267)](([_0x7e15ba,_0x180d55])=>{const _0x49cfbb=_0x3ea2ca,_0x4ac8df=document[_0x49cfbb(0x1ad)](_0x7e15ba);if(_0x4ac8df){const _0x47e76c=isFieldEditable(_0x180d55);_0x4ac8df[_0x49cfbb(0x211)]=!_0x47e76c,_0x4ac8df[_0x49cfbb(0x2fe)]=!_0x47e76c,_0x47e76c?(_0x4ac8df[_0x49cfbb(0x19e)][_0x49cfbb(0x1e3)](_0x49cfbb(0x292)),_0x4ac8df[_0x49cfbb(0x19e)]['add'](_0x49cfbb(0xf4))):(_0x4ac8df['classList'][_0x49cfbb(0x1e3)](_0x49cfbb(0xf4)),_0x4ac8df[_0x49cfbb(0x19e)][_0x49cfbb(0x38c)](_0x49cfbb(0x292)));}});const _0x543ebf=document[_0x3ea2ca(0x1ad)]('taskNotes')['parentElement'],_0x3e6f8c=document[_0x3ea2ca(0x1ad)](_0x3ea2ca(0x1c5));if(_0x1e5557==='rv'){if(_0x543ebf)_0x543ebf[_0x3ea2ca(0x107)]['display']='';if(_0x3e6f8c)_0x3e6f8c[_0x3ea2ca(0x107)][_0x3ea2ca(0x3c8)]=_0x3ea2ca(0x11c);}else{if(_0x1e5557==='beta'){if(_0x543ebf)_0x543ebf[_0x3ea2ca(0x107)][_0x3ea2ca(0x3c8)]=_0x3ea2ca(0x11c);if(_0x3e6f8c)_0x3e6f8c[_0x3ea2ca(0x107)][_0x3ea2ca(0x3c8)]='';}}}function showTransferModal(_0x5669aa){const _0xca5e76=_0x90c6a6;if(!currentUser){showNotification(_0xca5e76(0x3ae),'error');return;}const _0xa25f94=tasks['find'](_0x4f8a08=>_0x4f8a08['id']===_0x5669aa);if(!_0xa25f94){showNotification(_0xca5e76(0x160),'error');return;}if(!canOperateOnTask(_0xa25f94)){showNotification('Bạn\x20không\x20có\x20quyền\x20chuyển\x20giao\x20công\x20việc\x20này','error');return;}document['getElementById'](_0xca5e76(0x1b1))[_0xca5e76(0x3fe)]=_0x5669aa;const _0x35caaf=document['getElementById'](_0xca5e76(0x14c));_0x35caaf[_0xca5e76(0x3d9)]=_0xca5e76(0x3f7),employees[_0xca5e76(0x267)](_0x185683=>{const _0x2dc5c1=_0xca5e76;if(_0x185683['id']!==currentUser['id']){const _0xee19ea=document[_0x2dc5c1(0x195)](_0x2dc5c1(0x156));_0xee19ea[_0x2dc5c1(0x3fe)]=_0x185683['id'],_0xee19ea[_0x2dc5c1(0x3ea)]=_0x185683[_0x2dc5c1(0x1e8)],_0x35caaf[_0x2dc5c1(0x351)](_0xee19ea);}});const _0x547a0e=new bootstrap[(_0xca5e76(0x34c))](document[_0xca5e76(0x1ad)](_0xca5e76(0x221)));_0x547a0e[_0xca5e76(0x385)]();}async function handleTransferTask(){const _0x8b4461=_0x90c6a6,_0x5eda77=document[_0x8b4461(0x1ad)](_0x8b4461(0x1b1))[_0x8b4461(0x3fe)],_0x16459c=document['getElementById'](_0x8b4461(0x14c))[_0x8b4461(0x3fe)];if(!_0x16459c){showNotification(_0x8b4461(0x27a),'error');return;}try{await transferTask(_0x5eda77,_0x16459c);const _0x2612e6=bootstrap[_0x8b4461(0x34c)]['getInstance'](document['getElementById']('transferModal'));_0x2612e6[_0x8b4461(0x105)](),document[_0x8b4461(0x1ad)]('transferForm')[_0x8b4461(0x3a8)]();}catch(_0x2ede38){console[_0x8b4461(0x381)](_0x8b4461(0x39e),_0x2ede38);}}async function refreshData(){const _0x2a264f=_0x90c6a6;await loadDataFromSupabase(),currentProjectId&&updateProjectLinkButtons(),renderTasksTable(),renderBetaTasksTable(),syncWordCountFromTaskContentInBackground(),showNotification(_0x2a264f(0x1fd),'info');}function calculateWordCount(_0x569559){const _0x3dda50=_0x90c6a6;if(!_0x569559||!_0x569559[_0x3dda50(0x178)]())return 0x0;return _0x569559[_0x3dda50(0x178)]()['split'](/\s+/)[_0x3dda50(0x276)];}function syncWordCountFromTaskContentInBackground(){setTimeout(async()=>{const _0x388765=_0x3f71;try{const _0x173856=localStorage[_0x388765(0x118)](_0x388765(0x108)),_0x5be66a=Date[_0x388765(0x1af)]();if(_0x173856&&_0x5be66a-parseInt(_0x173856)<0x5*0x3c*0x3e8){console['log'](_0x388765(0x311));return;}await syncWordCountFromTaskContent(),localStorage[_0x388765(0x2ca)]('lastWordCountSync',_0x5be66a[_0x388765(0x3cd)]());}catch(_0x5ca31d){console['warn'](_0x388765(0x169),_0x5ca31d);}},0x3e8);}async function syncWordCountFromTaskContent(){const _0x181885=_0x90c6a6;try{const {data:_0x5db49a,error:_0x5838ab}=await supabase[_0x181885(0x19c)](_0x181885(0x1a7))['select'](_0x181885(0x37e))['eq'](_0x181885(0x259),'[CONTENT_SAVED]')['eq'](_0x181885(0x2f9),'rv');if(_0x5838ab){console[_0x181885(0x2de)](_0x181885(0x2df),_0x5838ab);return;}if(!_0x5db49a||_0x5db49a[_0x181885(0x276)]===0x0)return;console[_0x181885(0x21c)](_0x181885(0x400)+_0x5db49a['length']+_0x181885(0x3d4));const _0x59ad0c=_0x5db49a[_0x181885(0x3e1)](_0x38b3fc=>_0x38b3fc[_0x181885(0x298)]===null||_0x38b3fc[_0x181885(0x39f)]===null);if(_0x59ad0c[_0x181885(0x276)]===0x0){console['log']('Không\x20có\x20task\x20nào\x20cần\x20đồng\x20bộ\x20số\x20chữ');return;}console[_0x181885(0x21c)]('Chỉ\x20đồng\x20bộ\x20'+_0x59ad0c[_0x181885(0x276)]+_0x181885(0x409));for(const _0x1792e1 of _0x59ad0c){try{const {data:_0x545b1d,error:_0x491d82}=await supabase['from']('task_content')[_0x181885(0x23f)](_0x181885(0x25e))['eq']('task_id',_0x1792e1['id'])['eq'](_0x181885(0x34b),_0x181885(0x183))['single']();if(_0x491d82||!_0x545b1d){console[_0x181885(0x2de)](_0x181885(0x2bb)+_0x1792e1['id']+':',_0x491d82);continue;}const _0x1cbe15=calculateWordCount(_0x545b1d[_0x181885(0x25e)]),_0x6369a9=_0x1792e1[_0x181885(0x280)]||0x0,_0x454247=Math[_0x181885(0x36f)](0x0,_0x1cbe15-_0x6369a9);await supabase[_0x181885(0x19c)](_0x181885(0x1a7))[_0x181885(0x230)]({'total_chars':_0x1cbe15,'rv_chars':_0x454247})['eq']('id',_0x1792e1['id']),console[_0x181885(0x21c)](_0x181885(0x207)+_0x1792e1[_0x181885(0x1e8)]+_0x181885(0xf8)+_0x1cbe15+'\x20chữ,\x20RV\x20'+_0x454247+_0x181885(0xfb));}catch(_0x44ee3b){console[_0x181885(0x2de)]('Lỗi\x20đồng\x20bộ\x20task\x20'+_0x1792e1['id']+':',_0x44ee3b);}}console['log'](_0x181885(0x284));}catch(_0x3ba6a2){console[_0x181885(0x2de)](_0x181885(0x1ed),_0x3ba6a2);}}function setupEventListeners(){const _0x287104=_0x90c6a6,_0x1d87f0=document[_0x287104(0x1ad)](_0x287104(0x3fc));_0x1d87f0&&_0x1d87f0[_0x287104(0x102)](_0x287104(0x327),function(_0x2d130b){_0x2d130b['preventDefault'](),login();});const _0x36e8a6=document['getElementById']('taskDialogueChars'),_0x4e857f=document[_0x287104(0x1ad)]('taskTotalChars');_0x36e8a6&&_0x36e8a6[_0x287104(0x102)](_0x287104(0x250),calculateRVChars);_0x4e857f&&_0x4e857f[_0x287104(0x102)](_0x287104(0x250),calculateRVChars);const _0x3e4e5c=document[_0x287104(0x1ad)]('projectForm');_0x3e4e5c&&_0x3e4e5c[_0x287104(0x102)]('submit',function(_0x1e29bb){_0x1e29bb['preventDefault'](),saveProject();});const _0xf3a594=document[_0x287104(0x1ad)]('taskForm');_0xf3a594&&_0xf3a594[_0x287104(0x102)](_0x287104(0x327),function(_0x240731){const _0x9e17a2=_0x287104;_0x240731[_0x9e17a2(0x35c)](),saveTask();});const _0x170590=document[_0x287104(0x1ad)](_0x287104(0x1ff));_0x170590&&_0x170590[_0x287104(0x102)](_0x287104(0x327),function(_0x59fda9){_0x59fda9['preventDefault'](),handleTransferTask();});const _0x2f2090=document['getElementById'](_0x287104(0x2b7));_0x2f2090&&_0x2f2090[_0x287104(0x102)]('change',function(){const _0x501fad=_0x287104,_0xf74cda=document[_0x501fad(0x1ad)](_0x501fad(0x307));this['value']===_0x501fad(0x120)?_0xf74cda[_0x501fad(0x107)][_0x501fad(0x3c8)]=_0x501fad(0x112):_0xf74cda[_0x501fad(0x107)]['display']=_0x501fad(0x11c);});const _0x50e954=document['getElementById'](_0x287104(0x149));_0x50e954&&_0x50e954[_0x287104(0x102)](_0x287104(0x415),function(){const _0x252111=_0x287104,_0xa72ea6=document[_0x252111(0x1ad)](_0x252111(0x300))[_0x252111(0x3fe)];_0xa72ea6&&this[_0x252111(0x3fe)]&&(protectFormData(),updateTaskStatusOnly(parseInt(_0xa72ea6),this[_0x252111(0x3fe)]));});const _0x10c46d=['taskName',_0x287104(0x411),_0x287104(0x317),_0x287104(0x376),_0x287104(0x432),_0x287104(0x386),_0x287104(0x2ac),_0x287104(0x23b),_0x287104(0x416),_0x287104(0x302),_0x287104(0x22d),_0x287104(0x2e7),'taskNotes','taskBetaNotes'];_0x10c46d[_0x287104(0x267)](_0x386a34=>{const _0x25e5f9=_0x287104,_0x19cffc=document[_0x25e5f9(0x1ad)](_0x386a34);_0x19cffc&&(_0x19cffc[_0x25e5f9(0x102)](_0x25e5f9(0x250),protectFormData),_0x19cffc[_0x25e5f9(0x102)](_0x25e5f9(0x415),protectFormData));});}function checkOverdueTasks(){const _0x26872d=_0x90c6a6,_0x2da34b=new Date();let _0x1911e7=![];tasks[_0x26872d(0x267)](_0x4dbfea=>{const _0x5d81ff=_0x26872d,_0x39426e=new Date(_0x4dbfea[_0x5d81ff(0x1a8)]);_0x39426e<_0x2da34b&&_0x4dbfea[_0x5d81ff(0x329)]!==_0x5d81ff(0x17d)&&(_0x4dbfea[_0x5d81ff(0x329)]=_0x5d81ff(0x402),_0x1911e7=!![]);}),_0x1911e7&&showNotification(_0x26872d(0x1db),_0x26872d(0x23d));}function showEmployeesList(){const _0x35c5b8=_0x90c6a6;if(!currentUser){showNotification(_0x35c5b8(0x336),_0x35c5b8(0x381));return;}if(!hasManagerOrBossPermissions(currentUser)){showNotification('Chỉ\x20quản\x20lý\x20và\x20boss\x20mới\x20có\x20thể\x20xem\x20danh\x20sách\x20nhân\x20viên',_0x35c5b8(0x381));return;}const _0xd5bda6=document[_0x35c5b8(0x1ad)](_0x35c5b8(0x2d3));if(!_0xd5bda6){showNotification(_0x35c5b8(0x190),_0x35c5b8(0x381));return;}if(typeof bootstrap==='undefined'||typeof bootstrap['Modal']===_0x35c5b8(0x3ac)){}const _0x15f882=document[_0x35c5b8(0x1ad)](_0x35c5b8(0x2ae));if(!_0x15f882){showNotification(_0x35c5b8(0x215),_0x35c5b8(0x381));return;}_0x15f882[_0x35c5b8(0x3d9)]='';if(!window['allEmployees']||window[_0x35c5b8(0x3a5)][_0x35c5b8(0x276)]===0x0){_0x15f882[_0x35c5b8(0x3d9)]=_0x35c5b8(0x1bf);return;}const _0x56ae62={'boss':0x1,'manager':0x2,'employee':0x3};let _0x465b25=[...window[_0x35c5b8(0x3a5)]];_0x465b25[_0x35c5b8(0x3b8)]((_0x2bd78a,_0x2bb238)=>{const _0x38f32a=_0x35c5b8,_0x280397=_0x56ae62[_0x2bd78a[_0x38f32a(0x278)]]||0x63,_0x561291=_0x56ae62[_0x2bb238['role']]||0x63;if(_0x280397!==_0x561291)return _0x280397-_0x561291;return _0x2bd78a[_0x38f32a(0x1e8)][_0x38f32a(0x339)](_0x2bb238[_0x38f32a(0x1e8)]);}),_0x465b25[_0x35c5b8(0x267)](_0x52ee97=>{const _0x6467f6=_0x35c5b8,_0x40998d=document[_0x6467f6(0x195)]('tr'),_0x2619f3=_0x52ee97[_0x6467f6(0x278)]===_0x6467f6(0x136)?_0x6467f6(0x13e):_0x52ee97['role']===_0x6467f6(0x162)?_0x6467f6(0x1a3):_0x6467f6(0x3ec);_0x40998d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x52ee97['id']+_0x6467f6(0x101)+_0x52ee97['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x52ee97[_0x6467f6(0x2c3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2619f3+_0x6467f6(0x27c),_0x15f882[_0x6467f6(0x351)](_0x40998d);});if(typeof bootstrap!==_0x35c5b8(0x3ac)&&typeof bootstrap['Modal']!=='undefined')try{const _0x53e689=new bootstrap[(_0x35c5b8(0x34c))](_0xd5bda6,{'backdrop':!![],'keyboard':!![],'focus':!![]});_0x53e689[_0x35c5b8(0x385)](),setTimeout(()=>{const _0x2ad677=_0x35c5b8;let _0x11d5b7=document[_0x2ad677(0x2a4)](_0x2ad677(0x3a2));!_0x11d5b7&&(_0x11d5b7=document[_0x2ad677(0x195)](_0x2ad677(0x3f4)),_0x11d5b7[_0x2ad677(0x3ab)]=_0x2ad677(0x34e),_0x11d5b7[_0x2ad677(0x107)]['position']=_0x2ad677(0x41d),_0x11d5b7[_0x2ad677(0x107)][_0x2ad677(0x10b)]='0',_0x11d5b7[_0x2ad677(0x107)][_0x2ad677(0x19d)]='0',_0x11d5b7[_0x2ad677(0x107)][_0x2ad677(0x18f)]='100%',_0x11d5b7[_0x2ad677(0x107)][_0x2ad677(0x15e)]='100%',_0x11d5b7['style']['backgroundColor']=_0x2ad677(0x201),_0x11d5b7[_0x2ad677(0x107)][_0x2ad677(0x2ee)]=_0x2ad677(0x269),document[_0x2ad677(0x331)][_0x2ad677(0x351)](_0x11d5b7)),_0xd5bda6[_0x2ad677(0x107)][_0x2ad677(0x2ee)]=_0x2ad677(0x1da);},0x64);}catch(_0x2a3425){_0xd5bda6[_0x35c5b8(0x107)]['display']=_0x35c5b8(0x112),_0xd5bda6[_0x35c5b8(0x107)][_0x35c5b8(0x2f3)]=_0x35c5b8(0x3d1),_0xd5bda6[_0x35c5b8(0x107)][_0x35c5b8(0x2ee)]=_0x35c5b8(0x3e4);let _0x40316b=document['createElement'](_0x35c5b8(0x3f4));_0x40316b[_0x35c5b8(0x3ab)]='modal-backdrop',_0x40316b[_0x35c5b8(0x107)][_0x35c5b8(0x3bd)]=_0x35c5b8(0x41d),_0x40316b[_0x35c5b8(0x107)]['top']='0',_0x40316b[_0x35c5b8(0x107)]['left']='0',_0x40316b[_0x35c5b8(0x107)]['width']=_0x35c5b8(0x11b),_0x40316b[_0x35c5b8(0x107)][_0x35c5b8(0x15e)]=_0x35c5b8(0x11b),_0x40316b[_0x35c5b8(0x107)]['backgroundColor']='rgba(0,0,0,0.5)',_0x40316b[_0x35c5b8(0x107)][_0x35c5b8(0x2ee)]=_0x35c5b8(0x1c0),document[_0x35c5b8(0x331)][_0x35c5b8(0x351)](_0x40316b);}else{_0xd5bda6['style'][_0x35c5b8(0x3c8)]=_0x35c5b8(0x112),_0xd5bda6[_0x35c5b8(0x107)][_0x35c5b8(0x2f3)]=_0x35c5b8(0x3d1),_0xd5bda6[_0x35c5b8(0x107)][_0x35c5b8(0x2ee)]='9999';let _0x4e5782=document[_0x35c5b8(0x195)](_0x35c5b8(0x3f4));_0x4e5782['className']=_0x35c5b8(0x159),_0x4e5782['style']['position']=_0x35c5b8(0x41d),_0x4e5782['style'][_0x35c5b8(0x10b)]='0',_0x4e5782[_0x35c5b8(0x107)][_0x35c5b8(0x19d)]='0',_0x4e5782[_0x35c5b8(0x107)]['width']=_0x35c5b8(0x11b),_0x4e5782[_0x35c5b8(0x107)][_0x35c5b8(0x15e)]=_0x35c5b8(0x11b),_0x4e5782[_0x35c5b8(0x107)][_0x35c5b8(0x37b)]=_0x35c5b8(0x201),_0x4e5782['style'][_0x35c5b8(0x2ee)]='9998',document[_0x35c5b8(0x331)][_0x35c5b8(0x351)](_0x4e5782);}}function updateAssigneeDropdowns(){const _0x3c3a41=_0x90c6a6,_0x82a2c0=document[_0x3c3a41(0x12b)](_0x3c3a41(0x290));_0x82a2c0[_0x3c3a41(0x267)](_0x208f0b=>{const _0x181a6b=_0x3c3a41;_0x208f0b[_0x181a6b(0x3d9)]=_0x181a6b(0x30c),employees[_0x181a6b(0x267)](_0x1ad43f=>{const _0x26fd48=_0x181a6b,_0x574af2=document[_0x26fd48(0x195)]('option');_0x574af2[_0x26fd48(0x3fe)]=_0x1ad43f['id'],_0x574af2['textContent']=_0x1ad43f[_0x26fd48(0x1e8)],_0x208f0b[_0x26fd48(0x351)](_0x574af2);});});}function calculateRVChars(){const _0x301487=_0x90c6a6,_0x1241c3=parseInt(document[_0x301487(0x1ad)](_0x301487(0x2ac))[_0x301487(0x3fe)])||0x0,_0x3aded2=parseInt(document[_0x301487(0x1ad)](_0x301487(0x23b))[_0x301487(0x3fe)])||0x0,_0x873511=_0x3aded2-_0x1241c3;document[_0x301487(0x1ad)](_0x301487(0x416))['value']=_0x873511>=0x0?_0x873511:0x0;}async function updateRVCharsForAllTasks(){const _0x46cd67=_0x90c6a6;try{const {data:_0x377a7b,error:_0x46a6de}=await supabase[_0x46cd67(0x19c)](_0x46cd67(0x1a7))['select']('id,\x20name,\x20total_chars,\x20rv_chars,\x20dialogue_chars')['eq'](_0x46cd67(0x259),_0x46cd67(0x20a))['eq']('task_type','rv')['not'](_0x46cd67(0x280),'is',null);if(_0x46a6de){console['warn'](_0x46cd67(0x332),_0x46a6de);return;}if(!_0x377a7b||_0x377a7b[_0x46cd67(0x276)]===0x0)return;console['log']('Đang\x20cập\x20nhật\x20RV\x20chars\x20cho\x20'+_0x377a7b[_0x46cd67(0x276)]+_0x46cd67(0x3d4));for(const _0x50274b of _0x377a7b){try{const _0x3bafec=Math['max'](0x0,(_0x50274b[_0x46cd67(0x298)]||0x0)-(_0x50274b[_0x46cd67(0x280)]||0x0));_0x50274b[_0x46cd67(0x39f)]!==_0x3bafec&&(await supabase[_0x46cd67(0x19c)](_0x46cd67(0x1a7))[_0x46cd67(0x230)]({'rv_chars':_0x3bafec})['eq']('id',_0x50274b['id']),console[_0x46cd67(0x21c)](_0x46cd67(0x25a)+_0x50274b['name']+':\x20'+_0x3bafec+'\x20chữ'));}catch(_0x51b754){console[_0x46cd67(0x2de)](_0x46cd67(0x17a)+_0x50274b['id']+':',_0x51b754);}}console[_0x46cd67(0x21c)](_0x46cd67(0x27d));}catch(_0x630c47){console[_0x46cd67(0x2de)](_0x46cd67(0x2d0),_0x630c47);}}function updateTaskAssigneeFilter(){const _0xa10e25=_0x90c6a6,_0x28eef3=document[_0xa10e25(0x1ad)](_0xa10e25(0x39c));if(!_0x28eef3)return;_0x28eef3[_0xa10e25(0x3d9)]='<option\x20value=\x22\x22>Tất\x20cả</option>',window['allEmployees']&&window[_0xa10e25(0x3a5)][_0xa10e25(0x3e1)](_0x59fd3f=>_0x59fd3f[_0xa10e25(0x278)]===_0xa10e25(0x219))[_0xa10e25(0x267)](_0x31fc42=>{const _0x2d3e4a=_0xa10e25,_0x249ffd=document['createElement'](_0x2d3e4a(0x156));_0x249ffd[_0x2d3e4a(0x3fe)]=_0x31fc42['id'],_0x249ffd[_0x2d3e4a(0x3ea)]=_0x31fc42[_0x2d3e4a(0x1e8)],_0x28eef3[_0x2d3e4a(0x351)](_0x249ffd);});}function updateAllCountdowns(){const _0x2ece73=_0x90c6a6,_0x35605e=document['querySelectorAll'](_0x2ece73(0x26d));_0x35605e['forEach'](_0x4edb13=>{const _0xf2e1b2=_0x2ece73,_0x3cc9d3=_0x4edb13[_0xf2e1b2(0x3ca)](_0xf2e1b2(0x2f1)),_0x34b3be=new Date(_0x3cc9d3),_0x72425b=new Date();let _0x2431b2=_0x34b3be-_0x72425b;if(isNaN(_0x34b3be[_0xf2e1b2(0x355)]())){_0x4edb13[_0xf2e1b2(0x3ea)]='-';return;}if(_0x2431b2<=0x0){_0x4edb13[_0xf2e1b2(0x3d9)]=_0xf2e1b2(0x333);return;}const _0x51e44c=Math[_0xf2e1b2(0x388)](_0x2431b2/(0x3e8*0x3c*0x3c*0x18));_0x2431b2-=_0x51e44c*(0x3e8*0x3c*0x3c*0x18);const _0x1fb0b7=Math[_0xf2e1b2(0x388)](_0x2431b2/(0x3e8*0x3c*0x3c));_0x2431b2-=_0x1fb0b7*(0x3e8*0x3c*0x3c);const _0x5b12e9=Math[_0xf2e1b2(0x388)](_0x2431b2/(0x3e8*0x3c));_0x2431b2-=_0x5b12e9*(0x3e8*0x3c);const _0x4ed81b=Math['floor'](_0x2431b2/0x3e8);let _0x4456e6='';if(_0x51e44c>0x0)_0x4456e6+=_0x51e44c+'d\x20';if(_0x1fb0b7>0x0||_0x51e44c>0x0)_0x4456e6+=_0x1fb0b7+'h\x20';_0x4456e6+=_0x5b12e9+'m\x20'+_0x4ed81b+'s';const _0x231198=_0x51e44c*0x18+_0x1fb0b7;_0x231198<0xa?_0x4edb13[_0xf2e1b2(0x3d9)]=_0xf2e1b2(0x37c)+_0x4456e6+_0xf2e1b2(0x218):_0x4edb13[_0xf2e1b2(0x3d9)]=_0xf2e1b2(0x32b)+_0x4456e6+_0xf2e1b2(0x218);});}let countdownInterval=null;function startCountdownUpdates(){if(countdownInterval)return;countdownInterval=setInterval(()=>{const _0x3f853f=_0x3f71;currentProjectId&&tasks[_0x3f853f(0x276)]>0x0&&updateAllCountdowns();},0x3e8);}function stopCountdownUpdates(){countdownInterval&&(clearInterval(countdownInterval),countdownInterval=null);}function loadLeaderboardsInBackground(){const _0x3a3238=_0x90c6a6;if(!window['allEmployees']||window[_0x3a3238(0x3a5)][_0x3a3238(0x276)]===0x0){console[_0x3a3238(0x21c)]('Bỏ\x20qua\x20load\x20leaderboard\x20-\x20chưa\x20có\x20employees\x20data');return;}setTimeout(async()=>{const _0x922e32=_0x3a3238;try{await loadLeaderboards();}catch(_0x11acd1){console[_0x922e32(0x2de)]('Lỗi\x20load\x20leaderboards\x20trong\x20background:',_0x11acd1);}},0x1388);}async function loadLeaderboards(){const _0x147a32=_0x90c6a6;try{await loadAllTimeLeaderboard(),await loadMonthlyLeaderboard();}catch(_0x45c2f6){console['error'](_0x147a32(0x14a),_0x45c2f6);}}async function loadAllTimeLeaderboard(){const _0x1f425a=_0x90c6a6;try{const _0x390730=window['allEmployees']||[];if(_0x390730[_0x1f425a(0x276)]===0x0){console[_0x1f425a(0x2de)](_0x1f425a(0x421));return;}const {data:_0x11b58b,error:_0x4cb4f4}=await supabase[_0x1f425a(0x19c)](_0x1f425a(0x1a7))['select'](_0x1f425a(0x2ef))['eq']('status','completed')[_0x1f425a(0x119)](_0x1f425a(0x2bd),'is',null);if(_0x4cb4f4)throw _0x4cb4f4;const _0x53550e={};_0x390730[_0x1f425a(0x267)](_0x3bc6be=>{const _0x5f47a7=_0x1f425a;_0x53550e[_0x3bc6be['id']]={'id':_0x3bc6be['id'],'name':_0x3bc6be[_0x5f47a7(0x1e8)],'email':_0x3bc6be[_0x5f47a7(0x2c3)],'totalTasks':0x0,'totalChars':0x0};}),_0x11b58b['forEach'](_0x238412=>{const _0x406684=_0x1f425a,_0x14d897=_0x238412[_0x406684(0x2bd)];if(_0x53550e[_0x14d897]){_0x53550e[_0x14d897]['totalTasks']++;let _0x2687f5=0x0;_0x238412[_0x406684(0x2f9)]==='beta'?_0x2687f5=_0x238412[_0x406684(0x22c)]||0x0:_0x2687f5=_0x238412['rv_chars']||0x0,_0x53550e[_0x14d897][_0x406684(0x3d3)]+=_0x2687f5;}});const _0x4ce320=Object[_0x1f425a(0x279)](_0x53550e)[_0x1f425a(0x3b8)]((_0x422333,_0x5c5398)=>{const _0x2dcf22=_0x1f425a;if(_0x5c5398[_0x2dcf22(0x3d3)]!==_0x422333[_0x2dcf22(0x3d3)])return _0x5c5398[_0x2dcf22(0x3d3)]-_0x422333[_0x2dcf22(0x3d3)];return _0x5c5398[_0x2dcf22(0x10e)]-_0x422333[_0x2dcf22(0x10e)];})['slice'](0x0,0x5);window[_0x1f425a(0x187)]=_0x4ce320,renderLeaderboard(_0x1f425a(0x3aa),_0x4ce320,_0x1f425a(0x144)),currentProjectId&&(renderTasksTable(),renderBetaTasksTable());}catch(_0x160346){console[_0x1f425a(0x381)](_0x1f425a(0x3a7),_0x160346);}}async function loadMonthlyLeaderboard(){const _0x299885=_0x90c6a6;try{const _0x5cc736=new Date(),_0x5273ec=new Date(_0x5cc736['getFullYear'](),_0x5cc736[_0x299885(0x20c)](),0x1),_0x241e73=new Date(_0x5cc736[_0x299885(0x131)](),_0x5cc736['getMonth']()+0x1,0x0),{data:_0x347b8f,error:_0x128896}=await supabase[_0x299885(0x19c)](_0x299885(0x20d))['select']('*')['eq'](_0x299885(0x278),_0x299885(0x219));if(_0x128896)throw _0x128896;const {data:_0x1bd845,error:_0x274f89}=await supabase[_0x299885(0x19c)](_0x299885(0x1a7))[_0x299885(0x23f)](_0x299885(0x2ef))['eq'](_0x299885(0x329),_0x299885(0x17d))[_0x299885(0x119)](_0x299885(0x2bd),'is',null)[_0x299885(0x2b9)]('updated_at',_0x5273ec[_0x299885(0x217)]())[_0x299885(0x2d8)](_0x299885(0x127),_0x241e73['toISOString']());if(_0x274f89)throw _0x274f89;const _0x3c8552={};_0x347b8f[_0x299885(0x267)](_0xb02104=>{const _0x5e90bb=_0x299885;_0x3c8552[_0xb02104['id']]={'id':_0xb02104['id'],'name':_0xb02104[_0x5e90bb(0x1e8)],'email':_0xb02104[_0x5e90bb(0x2c3)],'totalTasks':0x0,'totalChars':0x0};}),_0x1bd845[_0x299885(0x267)](_0x5caaa9=>{const _0x54fd4f=_0x299885,_0x53fa8d=_0x5caaa9[_0x54fd4f(0x2bd)];if(_0x3c8552[_0x53fa8d]){_0x3c8552[_0x53fa8d][_0x54fd4f(0x10e)]++;let _0x141649=0x0;_0x5caaa9[_0x54fd4f(0x2f9)]===_0x54fd4f(0x352)?_0x141649=_0x5caaa9[_0x54fd4f(0x22c)]||0x0:_0x141649=_0x5caaa9['rv_chars']||0x0,_0x3c8552[_0x53fa8d]['totalChars']+=_0x141649;}});const _0x27f15d=Object[_0x299885(0x279)](_0x3c8552)[_0x299885(0x3b8)]((_0x5e9ea4,_0x577fa6)=>{const _0x51b529=_0x299885;if(_0x577fa6[_0x51b529(0x3d3)]!==_0x5e9ea4['totalChars'])return _0x577fa6[_0x51b529(0x3d3)]-_0x5e9ea4[_0x51b529(0x3d3)];return _0x577fa6[_0x51b529(0x10e)]-_0x5e9ea4['totalTasks'];})['slice'](0x0,0xa);window[_0x299885(0x2bf)]=_0x27f15d,renderLeaderboard('monthlyLeaderboard',_0x27f15d,_0x299885(0x181)),currentProjectId&&(renderTasksTable(),renderBetaTasksTable());}catch(_0x18c172){console['error'](_0x299885(0x123),_0x18c172);}}function renderLeaderboard(_0x50558c,_0x2f3fa0,_0x520668){const _0x35e2b1=_0x90c6a6,_0x4cba9d=document[_0x35e2b1(0x1ad)](_0x50558c);if(!_0x4cba9d)return;if(_0x2f3fa0[_0x35e2b1(0x276)]===0x0){_0x4cba9d['innerHTML']=_0x35e2b1(0x106);return;}_0x4cba9d['innerHTML']=_0x2f3fa0[_0x35e2b1(0x1d4)]((_0x32ebf0,_0x358d05)=>{const _0xafb164=_0x35e2b1,_0x426447=_0x358d05+0x1,_0xc4afe=_0x426447===0x1?'rank-1':_0x426447===0x2?_0xafb164(0x21f):_0x426447===0x3?_0xafb164(0x167):_0xafb164(0x3be),_0x3d50a3=_0x32ebf0[_0xafb164(0x1e8)][_0xafb164(0x138)]('\x20')['map'](_0x396688=>_0x396688[0x0])[_0xafb164(0x3cf)]('')[_0xafb164(0x31e)](),_0x5056bd=_0x426447<=0x3?_0xafb164(0x33c)+_0x426447:'';return _0xafb164(0x194)+_0xc4afe+_0xafb164(0x337)+_0x426447+_0xafb164(0x17c)+_0x3d50a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-name\x20'+_0x5056bd+_0xafb164(0x393)+_0x32ebf0[_0xafb164(0x1e8)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-tasks\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x32ebf0[_0xafb164(0x10e)]+_0xafb164(0x41c)+_0x32ebf0[_0xafb164(0x3d3)][_0xafb164(0x391)]()+'\x20chữ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x35e2b1(0x3cf)]('');}function loadNotificationsInBackground(){setTimeout(async()=>{const _0x3e7d20=_0x3f71;try{await loadNotifications();}catch(_0x3ea15e){console[_0x3e7d20(0x2de)](_0x3e7d20(0x157),_0x3ea15e);}},0xfa0);}async function loadNotifications(){const _0x35c8c2=_0x90c6a6;try{await loadSystemAnnouncement(),await loadRecentNotifications(),await loadUpcomingDeadlines();}catch(_0x3f88bb){console[_0x35c8c2(0x381)](_0x35c8c2(0x41e),_0x3f88bb);}}async function loadSystemAnnouncement(){const _0x406de3=_0x90c6a6;try{const {data:_0x998a6d,error:_0x1e334f}=await supabase[_0x406de3(0x19c)](_0x406de3(0x439))[_0x406de3(0x23f)]('*')['order'](_0x406de3(0x173),{'ascending':![]})[_0x406de3(0x1ca)](0x1)[_0x406de3(0x1b2)]();if(_0x1e334f&&_0x1e334f[_0x406de3(0x291)]!==_0x406de3(0x113))throw _0x1e334f;const _0x2f36b2=document[_0x406de3(0x1ad)](_0x406de3(0x361));_0x998a6d?_0x2f36b2[_0x406de3(0x3d9)]=_0x406de3(0x141)+_0x998a6d[_0x406de3(0x25e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Cập\x20nhật:\x20'+formatDateTime(_0x998a6d[_0x406de3(0x127)])+_0x406de3(0x434):_0x2f36b2[_0x406de3(0x3d9)]=_0x406de3(0x185);}catch(_0x528159){console[_0x406de3(0x381)]('Error\x20loading\x20system\x20announcement:',_0x528159);}}async function loadRecentNotifications(){const _0x18185e=_0x90c6a6;try{const {data:_0x427cf5,error:_0x4d8a34}=await supabase[_0x18185e(0x19c)](_0x18185e(0x1a7))['select'](_0x18185e(0x35d))['order'](_0x18185e(0x127),{'ascending':![]})[_0x18185e(0x1ca)](0x5);if(_0x4d8a34)throw _0x4d8a34;const _0x528d1a=document[_0x18185e(0x1ad)]('recentNotifications');if(_0x427cf5[_0x18185e(0x276)]===0x0){_0x528d1a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x20py-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bell-slash\x20fa-2x\x20mb-3\x22\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-0\x22\x20style=\x22color:\x20rgba(255,255,255,0.8);\x20font-weight:\x20600;\x22>Chưa\x20có\x20hoạt\x20động</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22>Sẽ\x20hiển\x20thị\x20khi\x20có\x20cập\x20nhật</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x528d1a[_0x18185e(0x3d9)]=_0x427cf5[_0x18185e(0x1d4)](_0x1ee1e1=>{const _0x29d029=_0x18185e,_0x23a307=getTaskActionText(_0x1ee1e1),_0x4db37b=formatTimeAgo(_0x1ee1e1['updated_at']),_0x35bb8a=getStatusIcon(_0x1ee1e1[_0x29d029(0x329)]),_0x87a28=getStatusColor(_0x1ee1e1['status']);return _0x29d029(0x374)+_0x87a28+_0x29d029(0x1a6)+_0x35bb8a+_0x29d029(0x1cc)+_0x1ee1e1[_0x29d029(0x1e8)]+_0x29d029(0x202)+_0x23a307+_0x29d029(0x129)+_0x4db37b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x18185e(0x3cf)]('');}catch(_0x1a1152){console[_0x18185e(0x381)]('Error\x20loading\x20recent\x20notifications:',_0x1a1152);}}async function loadUpcomingDeadlines(){const _0x42bd71=_0x90c6a6;try{const _0x40bc37=new Date(),_0x155500=new Date(_0x40bc37[_0x42bd71(0x355)]()+0x18*0x3c*0x3c*0x3e8),{data:_0x467024,error:_0x228367}=await supabase[_0x42bd71(0x19c)](_0x42bd71(0x1a7))[_0x42bd71(0x23f)](_0x42bd71(0x35d))['in'](_0x42bd71(0x329),[_0x42bd71(0x147),_0x42bd71(0x380)])['lte'](_0x42bd71(0x1a8),_0x155500[_0x42bd71(0x217)]())[_0x42bd71(0x326)](_0x42bd71(0x1a8),{'ascending':!![]})[_0x42bd71(0x1ca)](0x5);if(_0x228367)throw _0x228367;const _0x2b7f6c=document[_0x42bd71(0x1ad)](_0x42bd71(0x335));if(_0x467024[_0x42bd71(0x276)]===0x0){_0x2b7f6c[_0x42bd71(0x3d9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22deadline-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x20py-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-calendar-check\x20fa-2x\x20mb-3\x22\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-0\x22\x20style=\x22color:\x20rgba(255,255,255,0.8);\x20font-weight:\x20600;\x22>Không\x20có\x20deadline\x20sắp\x20đến</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:\x20rgba(255,255,255,0.6);\x22>Tất\x20cả\x20đều\x20đúng\x20hạn!</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x2b7f6c[_0x42bd71(0x3d9)]=_0x467024['map'](_0x1a5032=>{const _0x24b592=_0x42bd71,_0x263160=calculateTimeLeft(_0x1a5032[_0x24b592(0x1a8)]),_0x3cbe7e=new Date(_0x1a5032[_0x24b592(0x1a8)])-_0x40bc37<0xa*0x3c*0x3c*0x3e8,_0x435dc2=_0x3cbe7e?_0x24b592(0x180):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22deadline-item\x20'+_0x435dc2+_0x24b592(0x408)+_0x1a5032[_0x24b592(0x1e8)]+_0x24b592(0x3df)+_0x263160+_0x24b592(0x334);})[_0x42bd71(0x3cf)]('');}catch(_0x465626){console['error']('Error\x20loading\x20upcoming\x20deadlines:',_0x465626);}}function getTaskActionText(_0x37c4e5){const _0x3ca9e6=_0x90c6a6,_0x1e2708=_0x37c4e5[_0x3ca9e6(0x329)],_0x445df7=_0x37c4e5[_0x3ca9e6(0x2bd)]?_0x37c4e5['employees']?.[_0x3ca9e6(0x1e8)]:null;switch(_0x1e2708){case'completed':return _0x445df7?_0x445df7+_0x3ca9e6(0x26e):_0x3ca9e6(0x28c);case _0x3ca9e6(0x380):return _0x445df7?_0x445df7+'\x20đang\x20thực\x20hiện':_0x3ca9e6(0x1c7);case _0x3ca9e6(0x147):return _0x445df7?_0x445df7+_0x3ca9e6(0x14b):_0x3ca9e6(0x349);default:return _0x3ca9e6(0x40c);}}function getStatusIcon(_0x265bf7){const _0x511803=_0x90c6a6;switch(_0x265bf7){case _0x511803(0x17d):return _0x511803(0x31f);case'in-progress':return _0x511803(0x114);case _0x511803(0x402):return _0x511803(0x150);case _0x511803(0x147):default:return _0x511803(0x36c);}}function getStatusColor(_0x31bc8d){const _0x59c26e=_0x90c6a6;switch(_0x31bc8d){case'completed':return _0x59c26e(0x1b3);case _0x59c26e(0x380):return _0x59c26e(0x3d5);case _0x59c26e(0x402):return _0x59c26e(0x23a);case _0x59c26e(0x147):default:return _0x59c26e(0x1aa);}}function formatTimeAgo(_0xef577a){const _0x25976b=_0x90c6a6,_0x48f53f=new Date(),_0x41cd55=new Date(_0xef577a),_0x27d99a=_0x48f53f-_0x41cd55,_0x2b949f=Math[_0x25976b(0x388)](_0x27d99a/(0x3e8*0x3c)),_0x5e0a1d=Math[_0x25976b(0x388)](_0x27d99a/(0x3e8*0x3c*0x3c)),_0x443214=Math[_0x25976b(0x388)](_0x27d99a/(0x3e8*0x3c*0x3c*0x18));if(_0x2b949f<0x1)return _0x25976b(0x196);if(_0x2b949f<0x3c)return _0x2b949f+_0x25976b(0x2e9);if(_0x5e0a1d<0x18)return _0x5e0a1d+_0x25976b(0x133);if(_0x443214<0x7)return _0x443214+_0x25976b(0x3b3);return formatDateTime(_0xef577a);}function calculateTimeLeft(_0x1a724b){const _0x573358=_0x90c6a6,_0x1dfe6f=new Date(),_0x4fd7f4=new Date(_0x1a724b),_0x373292=_0x4fd7f4-_0x1dfe6f;if(_0x373292<=0x0)return'Quá\x20hạn';const _0xc5e712=Math[_0x573358(0x388)](_0x373292/(0x3e8*0x3c*0x3c)),_0x55aa3c=Math[_0x573358(0x388)](_0x373292%(0x3e8*0x3c*0x3c)/(0x3e8*0x3c));if(_0xc5e712>0x18){const _0x1f232c=Math[_0x573358(0x388)](_0xc5e712/0x18);return _0x1f232c+_0x573358(0x440)+_0xc5e712%0x18+'h';}if(_0xc5e712>0x0)return _0xc5e712+'h\x20'+_0x55aa3c+'m';return _0x55aa3c+'m';}function editAnnouncement(){const _0x4acfe3=_0x90c6a6,_0x52a929=document['getElementById'](_0x4acfe3(0x361)),_0x2ba0b4=document[_0x4acfe3(0x1ad)](_0x4acfe3(0x3f9)),_0x31a803=document[_0x4acfe3(0x1ad)](_0x4acfe3(0x3a0)),_0x27aa46=_0x52a929[_0x4acfe3(0x2a4)]('p')?.[_0x4acfe3(0x3ea)]||'';_0x31a803[_0x4acfe3(0x3fe)]=_0x27aa46,_0x52a929[_0x4acfe3(0x107)]['display']=_0x4acfe3(0x11c),_0x2ba0b4[_0x4acfe3(0x107)][_0x4acfe3(0x3c8)]=_0x4acfe3(0x112);}function cancelEditAnnouncement(){const _0x259a3d=_0x90c6a6,_0x3694a7=document[_0x259a3d(0x1ad)](_0x259a3d(0x361)),_0x46a5ab=document['getElementById'](_0x259a3d(0x3f9));_0x3694a7['style']['display']=_0x259a3d(0x112),_0x46a5ab['style']['display']=_0x259a3d(0x11c);}async function saveAnnouncement(){const _0x1b8423=_0x90c6a6;try{const _0x94fdf5=document[_0x1b8423(0x1ad)](_0x1b8423(0x3a0)),_0x41a77e=_0x94fdf5[_0x1b8423(0x3fe)][_0x1b8423(0x178)]();if(!_0x41a77e){showNotification(_0x1b8423(0x33f),_0x1b8423(0x23d));return;}const {error:_0x19fe65}=await supabase[_0x1b8423(0x19c)]('system_announcements')['upsert']({'content':_0x41a77e,'created_by':currentUser['id'],'updated_at':new Date()[_0x1b8423(0x217)]()});if(_0x19fe65)throw _0x19fe65;cancelEditAnnouncement(),await loadSystemAnnouncement(),showNotification(_0x1b8423(0x28e),_0x1b8423(0x14f));}catch(_0x3b0b79){console[_0x1b8423(0x381)](_0x1b8423(0x3ef),_0x3b0b79),showNotification(_0x1b8423(0x16b),_0x1b8423(0x381));}}let currentTaskType='rv';function switchTaskType(_0x4d3bb7){const _0x3aae88=_0x90c6a6;currentTaskType=_0x4d3bb7,document[_0x3aae88(0x12b)]('#taskTypeTabs\x20.nav-link')[_0x3aae88(0x267)](_0x1a4e54=>{const _0x35f627=_0x3aae88;_0x1a4e54[_0x35f627(0x19e)]['remove'](_0x35f627(0x3d6));}),document[_0x3aae88(0x2a4)]('#'+_0x4d3bb7+_0x3aae88(0x2a9))[_0x3aae88(0x19e)][_0x3aae88(0x38c)](_0x3aae88(0x3d6)),document['querySelectorAll'](_0x3aae88(0x1df))[_0x3aae88(0x267)](_0x204f18=>{const _0xbb10ef=_0x3aae88;_0x204f18[_0xbb10ef(0x19e)][_0xbb10ef(0x1e3)](_0xbb10ef(0x385),_0xbb10ef(0x3d6));}),document[_0x3aae88(0x2a4)]('#'+_0x4d3bb7+_0x3aae88(0x29c))[_0x3aae88(0x19e)][_0x3aae88(0x38c)](_0x3aae88(0x385),_0x3aae88(0x3d6)),_0x4d3bb7==='rv'?renderTasksTable():(setupBetaTaskFilters(),renderBetaTasksTable());}function renderBetaTasksTable(){const _0xc6713=_0x90c6a6;if(!currentProjectId)return;const _0x3f957c=tasks['filter'](_0x4291aa=>_0x4291aa['project_id']===currentProjectId&&_0x4291aa[_0xc6713(0x2f9)]===_0xc6713(0x352)),_0x2afdff=document['getElementById'](_0xc6713(0x2e0))['value'],_0x5e252e=document[_0xc6713(0x1ad)](_0xc6713(0x2cd))[_0xc6713(0x3fe)];let _0x2e85ac=_0x3f957c;_0x2afdff&&(_0x2e85ac=_0x2e85ac[_0xc6713(0x3e1)](_0x1cb9e0=>_0x1cb9e0['status']===_0x2afdff));_0x5e252e&&(_0x2e85ac=_0x2e85ac[_0xc6713(0x3e1)](_0xf3b386=>String(_0xf3b386[_0xc6713(0x2bd)])===_0x5e252e));_0x2e85ac[_0xc6713(0x3b8)]((_0x3e415f,_0x22032a)=>{const _0x57d032=_0xc6713,_0x33cb2e=_0x14f804=>{const _0x3d4fd6=(_0x14f804||'')['match'](/\d+/);return _0x3d4fd6?parseInt(_0x3d4fd6[0x0],0xa):null;},_0x58e2dd=_0x33cb2e(_0x3e415f[_0x57d032(0x1e8)]),_0x14a621=_0x33cb2e(_0x22032a[_0x57d032(0x1e8)]);if(_0x58e2dd!==null&&_0x14a621!==null)return _0x58e2dd-_0x14a621;return(_0x3e415f[_0x57d032(0x1e8)]||'')[_0x57d032(0x339)](_0x22032a['name']||'',undefined,{'numeric':!![],'sensitivity':'base'});});const _0x238472=document[_0xc6713(0x1ad)](_0xc6713(0x2f0));if(!_0x238472)return;if(_0x2e85ac[_0xc6713(0x276)]===0x0){_0x238472[_0xc6713(0x3d9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x2211\x22\x20class=\x22text-center\x20text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-inbox\x20fa-2x\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Chưa\x20có\x20công\x20việc\x20beta\x20nào</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x238472[_0xc6713(0x3d9)]=_0x2e85ac[_0xc6713(0x1d4)](_0x5d949=>{const _0x101b6d=_0xc6713,_0x19f485=employees[_0x101b6d(0x419)](_0xc23ea3=>_0xc23ea3['id']===_0x5d949[_0x101b6d(0x2bd)]),_0x100f4e=currentUser&&_0x5d949['assignee_id']===currentUser['id'],_0x256ee4=currentUser&&(isBoss(currentUser)||currentUser[_0x101b6d(0x278)]===_0x101b6d(0x162)&&canOperateOnTask(_0x5d949)),_0x295488=getEmployeeRank(_0x5d949[_0x101b6d(0x2bd)]),_0x336505=getAssigneeColorClass(_0x295488),_0x39b229=calculateTimeLeft(_0x5d949[_0x101b6d(0x1a8)]),_0x254da2=new Date(_0x5d949[_0x101b6d(0x1a8)]),_0x3725b4=new Date(),_0x1a91c9=_0x5d949[_0x101b6d(0x329)]===_0x101b6d(0x17d),_0x1bfcb0=_0x254da2<_0x3725b4&&!_0x1a91c9,_0x55e9c9=_0x5d949[_0x101b6d(0x39f)]?_0x101b6d(0x43e)+_0x5d949[_0x101b6d(0x39f)][_0x101b6d(0x391)]()+'</span>':_0x101b6d(0x429),_0x13ed91=_0x5d949[_0x101b6d(0x22c)]?_0x101b6d(0x206)+_0x5d949[_0x101b6d(0x22c)][_0x101b6d(0x391)]()+_0x101b6d(0x218):'<span\x20class=\x22text-muted\x22>-</span>';let _0x18b36a=_0x101b6d(0x429);if(typeof _0x5d949[_0x101b6d(0x297)]===_0x101b6d(0x210)&&typeof _0x5d949[_0x101b6d(0x22c)]==='number'&&!isNaN(_0x5d949[_0x101b6d(0x297)])&&!isNaN(_0x5d949[_0x101b6d(0x22c)])){const _0x969213=Math[_0x101b6d(0x247)](_0x5d949[_0x101b6d(0x297)]*_0x5d949['beta_chars']/0x3e8);_0x18b36a=_0x101b6d(0x21d)+_0x969213[_0x101b6d(0x391)](_0x101b6d(0x38f))+_0x101b6d(0x3a9);}let _0x260eb4=_0x101b6d(0x429);if(_0x5d949['parent_task_id']){const _0x15caef=tasks[_0x101b6d(0x419)](_0x420e9f=>_0x420e9f['id']===_0x5d949[_0x101b6d(0x32e)]&&_0x420e9f[_0x101b6d(0x2f9)]==='rv');if(_0x15caef&&_0x15caef[_0x101b6d(0x259)]&&_0x15caef[_0x101b6d(0x259)]['trim']()){if(_0x15caef['submission_link'][_0x101b6d(0xf5)](_0x101b6d(0x42b)))_0x260eb4=_0x101b6d(0x2af)+_0x15caef[_0x101b6d(0x259)]+_0x101b6d(0x403);else{if(_0x15caef[_0x101b6d(0x259)]===_0x101b6d(0x20a)){const _0x45fad9=canViewReviewContent(_0x5d949);_0x45fad9?_0x260eb4=_0x101b6d(0x31d)+_0x5d949['id']+_0x101b6d(0x2d5):_0x260eb4='<span\x20class=\x22text-muted\x22>Không\x20có\x20quyền\x20xem</span>';}else{const _0x27e879=canViewReviewContent(_0x5d949);_0x27e879?_0x260eb4='<button\x20class=\x22btn\x20btn-sm\x20btn-outline-info\x22\x20onclick=\x22viewReviewContent(\x27'+_0x5d949['id']+_0x101b6d(0x2d5):_0x260eb4='<span\x20class=\x22text-muted\x22>Không\x20có\x20quyền\x20xem</span>';}}}}let _0x1f89d8='';if(currentUser&&(isBoss(currentUser)||currentUser[_0x101b6d(0x278)]==='manager'))_0x5d949[_0x101b6d(0x398)]?_0x1f89d8=_0x101b6d(0x246)+_0x5d949['id']+_0x101b6d(0x2d6):_0x1f89d8=_0x101b6d(0x429);else currentUser&&currentUser[_0x101b6d(0x278)]===_0x101b6d(0x219)?_0x5d949['assignee_id']===currentUser['id']?_0x5d949[_0x101b6d(0x398)]?_0x1f89d8=_0x101b6d(0x246)+_0x5d949['id']+_0x101b6d(0x293):_0x1f89d8=_0x101b6d(0x2b8)+_0x5d949['id']+_0x101b6d(0x348):_0x1f89d8=_0x101b6d(0x429):_0x1f89d8=_0x101b6d(0x429);let _0x36ba33=_0x101b6d(0x429);_0x5d949['beta_notes']&&_0x5d949['beta_notes'][_0x101b6d(0x178)]()&&(_0x5d949[_0x101b6d(0x1cb)]['length']>0x64?_0x36ba33='<a\x20href=\x22task-notes.html?taskId='+_0x5d949['id']+_0x101b6d(0x43c):_0x36ba33=_0x101b6d(0x2a7)+_0x5d949[_0x101b6d(0x1cb)]+'\x22>'+_0x5d949[_0x101b6d(0x1cb)][_0x101b6d(0xfe)](0x0,0x32)+(_0x5d949[_0x101b6d(0x1cb)][_0x101b6d(0x276)]>0x32?'...':'')+_0x101b6d(0x218));let _0x38605e='';const _0x17265e=projects['find'](_0x2a6906=>_0x2a6906['id']===currentProjectId),_0x106c67=_0x17265e&&_0x17265e[_0x101b6d(0x329)]===_0x101b6d(0x17d);if(currentUser&&(isBoss(currentUser)||currentUser[_0x101b6d(0x278)]===_0x101b6d(0x162)&&canOperateOnTask(_0x5d949)))_0x38605e+=_0x101b6d(0x42c)+_0x5d949['id']+_0x101b6d(0x42f),_0x38605e+=_0x101b6d(0x3c6)+_0x5d949['id']+')\x22\x20title=\x22Xóa\x22><i\x20class=\x22fas\x20fa-trash\x22></i></button>';else{if(currentUser&&currentUser['role']==='employee'){if(!_0x106c67){if(_0x100f4e)_0x38605e+=_0x101b6d(0x42c)+_0x5d949['id']+_0x101b6d(0x42f);else!_0x5d949[_0x101b6d(0x2bd)]&&(_0x38605e+='<button\x20class=\x22btn\x20btn-action\x20btn-claim\x22\x20onclick=\x22claimBetaTask('+_0x5d949['id']+_0x101b6d(0x423));}}}let _0x25b50a='';if(isNaN(_0x254da2[_0x101b6d(0x355)]()))_0x25b50a=_0x101b6d(0x429);else{if(_0x1a91c9)_0x25b50a=_0x101b6d(0x213);else{if(_0x254da2<_0x3725b4)_0x25b50a=_0x101b6d(0x333);else _0x39b229<0xa*0x3c*0x3c*0x3e8?_0x25b50a=_0x101b6d(0x38e)+_0x5d949[_0x101b6d(0x1a8)]+_0x101b6d(0x2f7)+_0x5d949['id']+_0x101b6d(0x378):_0x25b50a=_0x101b6d(0x23e)+_0x5d949['deadline']+_0x101b6d(0x2f7)+_0x5d949['id']+_0x101b6d(0x378);}}return _0x101b6d(0x241)+(_0x1bfcb0?_0x101b6d(0x2b3):'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20flex-column\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>'+formatDateTime(_0x5d949[_0x101b6d(0x1a8)])+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25b50a+_0x101b6d(0x3bf)+_0x5d949[_0x101b6d(0x1e8)]+_0x101b6d(0x1ce)+(_0x5d949[_0x101b6d(0x265)]||'')+_0x101b6d(0x143)+getTaskStatusBadge(_0x5d949['status'])+_0x101b6d(0x2bc)+_0x260eb4+_0x101b6d(0x2bc)+_0x1f89d8+_0x101b6d(0x2bc)+_0x55e9c9+_0x101b6d(0x2bc)+_0x13ed91+_0x101b6d(0x2bc)+_0x18b36a+_0x101b6d(0x373)+(_0x19f485?_0x101b6d(0x1c6)+_0x336505+'\x22>'+_0x19f485[_0x101b6d(0x1e8)]+_0x101b6d(0x218):'<span\x20class=\x22text-muted\x22>Chưa\x20phân\x20công</span>')+_0x101b6d(0x2ec)+_0x36ba33+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38605e+_0x101b6d(0x1e2);})[_0xc6713(0x3cf)]('');}async function editBetaTask(_0x4165d6){const _0x52ffde=_0x90c6a6,_0x1f18f5=tasks[_0x52ffde(0x419)](_0x47da84=>_0x47da84['id']===_0x4165d6);if(!_0x1f18f5){showNotification(_0x52ffde(0x160),_0x52ffde(0x381));return;}if(!canOperateOnTask(_0x1f18f5)){showNotification(_0x52ffde(0x109),'error');return;}if(currentUser[_0x52ffde(0x278)]===_0x52ffde(0x219)){const _0x3b4bb6=projects[_0x52ffde(0x419)](_0xb072fb=>_0xb072fb['id']===_0x1f18f5[_0x52ffde(0x283)]);if(_0x3b4bb6&&_0x3b4bb6[_0x52ffde(0x329)]===_0x52ffde(0x17d)){showNotification(_0x52ffde(0x18c),_0x52ffde(0x381));return;}}currentTaskType=_0x52ffde(0x352);const _0xa59231=(_0x8df215,_0xbd2e7a)=>{const _0x1559a4=_0x52ffde,_0x38f515=document[_0x1559a4(0x1ad)](_0x8df215);if(_0x38f515)_0x38f515['value']=_0xbd2e7a;};_0xa59231(_0x52ffde(0x354),_0x1f18f5[_0x52ffde(0x1e8)]),_0xa59231('taskDescription',_0x1f18f5[_0x52ffde(0x265)]||''),_0xa59231('taskDeadline',_0x1f18f5[_0x52ffde(0x1a8)]?_0x1f18f5['deadline'][_0x52ffde(0x281)](0x0,0x10):''),_0xa59231('taskPriority',_0x1f18f5[_0x52ffde(0x3c7)]),_0xa59231(_0x52ffde(0x149),_0x1f18f5[_0x52ffde(0x329)]),_0xa59231(_0x52ffde(0x432),_0x1f18f5[_0x52ffde(0x2bd)]||''),_0xa59231(_0x52ffde(0x302),_0x1f18f5[_0x52ffde(0x22c)]||''),_0xa59231(_0x52ffde(0x386),_0x1f18f5[_0x52ffde(0x398)]||''),_0xa59231('taskNotes',_0x1f18f5[_0x52ffde(0x1a0)]||''),_0xa59231('taskBetaNotes',_0x1f18f5[_0x52ffde(0x1cb)]||''),_0xa59231('taskBetaRate',_0x1f18f5[_0x52ffde(0x297)]||''),window[_0x52ffde(0x2a5)]=_0x4165d6,document[_0x52ffde(0x1ad)](_0x52ffde(0x300))[_0x52ffde(0x3fe)]=_0x4165d6,document[_0x52ffde(0x1ad)](_0x52ffde(0x3f6))['textContent']=_0x52ffde(0x43b),setFieldPermissions('beta'),document['getElementById'](_0x52ffde(0x1d7))['style'][_0x52ffde(0x3c8)]=_0x52ffde(0x112);const _0x1aa574=new bootstrap['Modal'](document[_0x52ffde(0x1ad)]('taskModal'));_0x1aa574[_0x52ffde(0x385)]();}async function claimBetaTask(_0xa70bfe){const _0x4ea135=_0x90c6a6;if(!currentUser){showNotification(_0x4ea135(0x3da),_0x4ea135(0x23d));return;}const _0x117173=tasks[_0x4ea135(0x419)](_0x2083d8=>_0x2083d8['id']===_0xa70bfe);if(!_0x117173){showNotification(_0x4ea135(0x160),'error');return;}if(_0x117173[_0x4ea135(0x2bd)]){showNotification(_0x4ea135(0x29e),_0x4ea135(0x23d));return;}if(currentUser['role']===_0x4ea135(0x219)){const _0x56fc05=projects[_0x4ea135(0x419)](_0x267b4d=>_0x267b4d['id']===_0x117173['project_id']);if(_0x56fc05&&_0x56fc05[_0x4ea135(0x329)]===_0x4ea135(0x17d)){showNotification('Không\x20thể\x20nhận\x20Deadline\x20trong\x20truyện\x20đã\x20hoàn\x20thành',_0x4ea135(0x381));return;}}try{const {error:_0x36bcf0}=await supabase['from'](_0x4ea135(0x1a7))[_0x4ea135(0x230)]({'assignee_id':currentUser['id'],'claimed_at':new Date()[_0x4ea135(0x217)](),'started_at':new Date()[_0x4ea135(0x217)](),'updated_at':new Date()['toISOString']()})['eq']('id',_0xa70bfe)['eq']('task_type','beta');if(_0x36bcf0)throw _0x36bcf0;const _0x4d39db=tasks['findIndex'](_0x190765=>_0x190765['id']===_0xa70bfe);_0x4d39db!==-0x1&&(tasks[_0x4d39db][_0x4ea135(0x2bd)]=currentUser['id'],tasks[_0x4d39db][_0x4ea135(0x127)]=new Date()[_0x4ea135(0x217)]()),setTimeout(()=>{renderBetaTasksTable(),renderProjectsTable();},0x64),showNotification(_0x4ea135(0x3f2),_0x4ea135(0x14f));}catch(_0x5975f5){console[_0x4ea135(0x381)](_0x4ea135(0x254),_0x5975f5),showNotification('Lỗi\x20khi\x20nhận\x20công\x20việc','error');}}async function deleteBetaTask(_0x2e1b39){const _0x280c6e=_0x90c6a6;if(!confirm(_0x280c6e(0x324)))return;const _0x36e603=tasks[_0x280c6e(0x419)](_0x531bd1=>_0x531bd1['id']===_0x2e1b39);if(!_0x36e603){showNotification('Không\x20tìm\x20thấy\x20công\x20việc',_0x280c6e(0x381));return;}if(!canOperateOnTask(_0x36e603)){showNotification(_0x280c6e(0x40f),_0x280c6e(0x381));return;}if(currentUser[_0x280c6e(0x278)]===_0x280c6e(0x219)){const _0x5d2802=projects['find'](_0x514699=>_0x514699['id']===_0x36e603['project_id']);if(_0x5d2802&&_0x5d2802[_0x280c6e(0x329)]===_0x280c6e(0x17d)){showNotification(_0x280c6e(0x377),'error');return;}}try{const _0x4f8074=tasks[_0x280c6e(0x3e1)](_0x3ce07e=>_0x3ce07e[_0x280c6e(0x32e)]===_0x2e1b39);if(_0x4f8074['length']>0x0){for(const _0x58bf95 of _0x4f8074){const {error:_0x3ebc20}=await supabase[_0x280c6e(0x19c)](_0x280c6e(0x1a7))[_0x280c6e(0x30b)]()['eq']('id',_0x58bf95['id']);if(_0x3ebc20){console[_0x280c6e(0x381)](_0x280c6e(0x1fe),_0x3ebc20);throw _0x3ebc20;}}tasks=tasks[_0x280c6e(0x3e1)](_0x33d33c=>_0x33d33c[_0x280c6e(0x32e)]!==_0x2e1b39);}const {error:_0x2a38b0}=await supabase[_0x280c6e(0x19c)](_0x280c6e(0x1a7))[_0x280c6e(0x30b)]()['eq']('id',_0x2e1b39);if(_0x2a38b0)throw _0x2a38b0;tasks=tasks[_0x280c6e(0x3e1)](_0x40e291=>_0x40e291['id']!==_0x2e1b39),renderBetaTasksTable(),renderProjectsTable(),showNotification('Đã\x20xóa\x20công\x20việc\x20thành\x20công',_0x280c6e(0x14f));}catch(_0x44cbdf){console[_0x280c6e(0x381)](_0x280c6e(0x16a),_0x44cbdf),showNotification(_0x280c6e(0x396),_0x280c6e(0x381));}}async function updateBetaTask(){const _0x259c2a=_0x90c6a6,_0x89eb59=window[_0x259c2a(0x2a5)];if(!_0x89eb59){showNotification('Không\x20tìm\x20thấy\x20ID\x20công\x20việc',_0x259c2a(0x381));return;}const _0x19cc6b=tasks[_0x259c2a(0x419)](_0x44f0de=>_0x44f0de['id']===_0x89eb59);if(!_0x19cc6b){showNotification('Không\x20tìm\x20thấy\x20công\x20việc',_0x259c2a(0x381));return;}if(!canOperateOnTask(_0x19cc6b)){showNotification(_0x259c2a(0x231),'error');return;}if(currentUser&&currentUser[_0x259c2a(0x278)]===_0x259c2a(0x219)){const _0x10c726=projects[_0x259c2a(0x419)](_0x21b0f1=>_0x21b0f1['id']===_0x19cc6b[_0x259c2a(0x283)]);if(_0x10c726&&_0x10c726[_0x259c2a(0x329)]===_0x259c2a(0x17d)){showNotification(_0x259c2a(0x395),_0x259c2a(0x381));return;}}const _0x30fdc=document[_0x259c2a(0x1ad)]('taskName')[_0x259c2a(0x3fe)][_0x259c2a(0x178)](),_0x513654=document[_0x259c2a(0x1ad)](_0x259c2a(0x411))[_0x259c2a(0x3fe)][_0x259c2a(0x178)](),_0x3a7465=document[_0x259c2a(0x1ad)]('taskDeadline')[_0x259c2a(0x3fe)],_0x743ec9=document[_0x259c2a(0x1ad)](_0x259c2a(0x376))[_0x259c2a(0x3fe)],_0x3f9609=document[_0x259c2a(0x1ad)](_0x259c2a(0x149))['value'],_0x38e057=document['getElementById'](_0x259c2a(0x432))['value']||null,_0x31e35b=document[_0x259c2a(0x1ad)]('taskBetaChars')['value'],_0x3bc4dd=document[_0x259c2a(0x1ad)](_0x259c2a(0x386))['value'][_0x259c2a(0x178)](),_0x4c6ece=document['getElementById'](_0x259c2a(0x1cf))[_0x259c2a(0x3fe)][_0x259c2a(0x178)](),_0x343547=document[_0x259c2a(0x1ad)](_0x259c2a(0x161))[_0x259c2a(0x3fe)][_0x259c2a(0x178)](),_0xd861db=document[_0x259c2a(0x1ad)](_0x259c2a(0x2e7))[_0x259c2a(0x3fe)];if(!_0x30fdc||!_0x3a7465){showNotification(_0x259c2a(0x41b),_0x259c2a(0x23d));return;}try{const _0xaf8ccd={'name':_0x30fdc,'description':_0x513654,'deadline':_0x3a7465,'priority':_0x743ec9,'status':_0x3f9609,'assignee_id':_0x38e057,'beta_chars':_0x31e35b?parseInt(_0x31e35b):null,'beta_link':_0x3bc4dd||null,'notes':_0x4c6ece,'beta_notes':_0x343547,'beta_rate':_0xd861db?parseFloat(_0xd861db):null,'updated_at':new Date()['toISOString']()},{error:_0x5e5550}=await supabase['from'](_0x259c2a(0x1a7))['update'](_0xaf8ccd)['eq']('id',_0x89eb59);if(_0x5e5550)throw _0x5e5550;const _0x43a5a4=tasks[_0x259c2a(0x27f)](_0x148c5b=>_0x148c5b['id']===_0x89eb59);_0x43a5a4!==-0x1&&(tasks[_0x43a5a4]={...tasks[_0x43a5a4],..._0xaf8ccd});renderBetaTasksTable(),renderProjectsTable();const _0x5ea173=bootstrap[_0x259c2a(0x34c)][_0x259c2a(0x314)](document[_0x259c2a(0x1ad)](_0x259c2a(0x262)));_0x5ea173['hide'](),window[_0x259c2a(0x2a5)]=null,showNotification(_0x259c2a(0x17e),_0x259c2a(0x14f));}catch(_0x387e1f){console[_0x259c2a(0x381)]('Error\x20updating\x20beta\x20task:',_0x387e1f),showNotification(_0x259c2a(0x216),_0x259c2a(0x381));}}function setupBetaTaskFilters(){const _0x1d92a3=_0x90c6a6,_0x5f0008=document[_0x1d92a3(0x1ad)](_0x1d92a3(0x2cd));_0x5f0008&&(_0x5f0008['innerHTML']=_0x1d92a3(0x379),window[_0x1d92a3(0x3a5)]&&window[_0x1d92a3(0x3a5)]['filter'](_0x25613b=>_0x25613b[_0x1d92a3(0x278)]===_0x1d92a3(0x219))[_0x1d92a3(0x267)](_0x17bc73=>{const _0x165cee=_0x1d92a3,_0x2a31a9=document[_0x165cee(0x195)](_0x165cee(0x156));_0x2a31a9[_0x165cee(0x3fe)]=_0x17bc73['id'],_0x2a31a9[_0x165cee(0x3ea)]=_0x17bc73[_0x165cee(0x1e8)],_0x5f0008[_0x165cee(0x351)](_0x2a31a9);}));}function initializeBetaTasks(){setupBetaTaskFilters();}function openStoryLink(){const _0x1f88d8=_0x90c6a6,_0x27dcea=projects[_0x1f88d8(0x419)](_0x322a94=>_0x322a94['id']===currentProjectId);_0x27dcea&&_0x27dcea[_0x1f88d8(0x110)]?window[_0x1f88d8(0x14e)](_0x27dcea[_0x1f88d8(0x110)],'_blank'):showNotification(_0x1f88d8(0x1e6),_0x1f88d8(0x23d));}function openRuleLink(){const _0x4ddc57=_0x90c6a6,_0x4b071e=projects[_0x4ddc57(0x419)](_0x53ff09=>_0x53ff09['id']===currentProjectId);_0x4b071e&&_0x4b071e[_0x4ddc57(0x3c2)]?window['open'](_0x4b071e[_0x4ddc57(0x3c2)],'_blank'):showNotification(_0x4ddc57(0x3af),'warning');}function openBnvLink(){const _0xce6638=_0x90c6a6,_0x68ca26=projects[_0xce6638(0x419)](_0x4e0b91=>_0x4e0b91['id']===currentProjectId);_0x68ca26&&_0x68ca26[_0xce6638(0x1f2)]?window[_0xce6638(0x14e)](_0x68ca26[_0xce6638(0x1f2)],'_blank'):showNotification(_0xce6638(0x287),'warning');}function openDialogueLink(){const _0x13600d=_0x90c6a6,_0x50a839=projects[_0x13600d(0x419)](_0x4c1261=>_0x4c1261['id']===currentProjectId);_0x50a839&&_0x50a839['dialogue_link']?window['open'](_0x50a839[_0x13600d(0x229)],_0x13600d(0x2c0)):showNotification(_0x13600d(0x11a),'warning');}function updateProjectLinkButtons(){const _0x3cd68a=_0x90c6a6,_0x29e982=projects[_0x3cd68a(0x419)](_0xa91769=>_0xa91769['id']===currentProjectId),_0x53f4c6=document[_0x3cd68a(0x1ad)](_0x3cd68a(0x3b7)),_0x463a91=document['getElementById']('ruleLinkBtn'),_0xb74743=document[_0x3cd68a(0x1ad)](_0x3cd68a(0x338)),_0x27aade=document[_0x3cd68a(0x1ad)](_0x3cd68a(0x137));_0x29e982?(_0x29e982[_0x3cd68a(0x110)]?_0x53f4c6[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x28a):_0x53f4c6[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x11c),_0x29e982['rule_link']?_0x463a91[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x28a):_0x463a91[_0x3cd68a(0x107)]['display']=_0x3cd68a(0x11c),_0x29e982['bnv_link']?_0xb74743[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x28a):_0xb74743[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]='none',_0x29e982[_0x3cd68a(0x229)]?_0x27aade['style'][_0x3cd68a(0x3c8)]=_0x3cd68a(0x28a):_0x27aade[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x11c)):(_0x53f4c6[_0x3cd68a(0x107)]['display']=_0x3cd68a(0x11c),_0x463a91[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]='none',_0xb74743[_0x3cd68a(0x107)][_0x3cd68a(0x3c8)]=_0x3cd68a(0x11c),_0x27aade[_0x3cd68a(0x107)]['display']=_0x3cd68a(0x11c));}function getEmployeeRank(_0xc9b1c4){const _0x1acb90=_0x90c6a6;if(!_0xc9b1c4)return null;const _0x2c14e3=window['allTimeLeaderboardData']||[],_0xab1f70=_0x2c14e3['findIndex'](_0x161e39=>_0x161e39['id']===_0xc9b1c4);if(_0xab1f70!==-0x1)return{'type':'all-time','rank':_0xab1f70+0x1};const _0x570304=window['monthlyLeaderboardData']||[],_0x5c121e=_0x570304[_0x1acb90(0x27f)](_0x14dd17=>_0x14dd17['id']===_0xc9b1c4);if(_0x5c121e!==-0x1)return{'type':_0x1acb90(0x181),'rank':_0x5c121e+0x1};return null;}function getAssigneeColorClass(_0x3dc3a1){const _0x3662b8=_0x90c6a6;if(!_0x3dc3a1)return _0x3662b8(0x38a);const {type:_0x55df9c,rank:_0x42f7e9}=_0x3dc3a1;if(_0x42f7e9===0x1)return _0x3662b8(0x37a);else{if(_0x42f7e9===0x2)return'rainbow-text-2\x20fw-bold';else{if(_0x42f7e9===0x3)return _0x3662b8(0x12a);else{if(_0x42f7e9<=0x5)return _0x3662b8(0x1a2);else return _0x42f7e9<=0xa?_0x3662b8(0x19a):_0x3662b8(0x38a);}}}}function displayReportData(_0x285870){const _0x42bd29=_0x90c6a6,_0x57228b=document['getElementById'](_0x42bd29(0x11f));_0x57228b[_0x42bd29(0x3d9)]='';let _0x1662b2=0x0,_0x23a662=0x0,_0x365642=0x0,_0xc81bdc=0x0;Object[_0x42bd29(0x279)](_0x285870)[_0x42bd29(0x267)](_0xfe893c=>{const _0x3f0e60=_0x42bd29;_0x1662b2+=_0xfe893c[_0x3f0e60(0x3e6)],_0x23a662+=_0xfe893c[_0x3f0e60(0x274)],_0x365642+=_0xfe893c['betaChars'],_0xc81bdc+=_0xfe893c[_0x3f0e60(0x353)];const _0x2eaa2=document[_0x3f0e60(0x195)]('tr');_0x2eaa2['innerHTML']=_0x3f0e60(0x3fd)+_0xfe893c['employee'][_0x3f0e60(0x1e8)]+_0x3f0e60(0x244)+_0xfe893c['taskCount']+_0x3f0e60(0x235)+_0xfe893c[_0x3f0e60(0x274)]['toLocaleString']()+_0x3f0e60(0x101)+_0xfe893c['betaChars'][_0x3f0e60(0x391)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xfe893c[_0x3f0e60(0x15f)][_0x3f0e60(0x391)]()+'\x20VNĐ</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xfe893c[_0x3f0e60(0x1c3)][_0x3f0e60(0x391)]()+'\x20VNĐ</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>'+_0xfe893c['totalMoney']['toLocaleString']()+_0x3f0e60(0x122),_0x57228b[_0x3f0e60(0x351)](_0x2eaa2);}),document[_0x42bd29(0x1ad)](_0x42bd29(0x1fa))[_0x42bd29(0x3ea)]=_0x1662b2,document['getElementById'](_0x42bd29(0x203))[_0x42bd29(0x3ea)]=_0x23a662[_0x42bd29(0x391)](),document[_0x42bd29(0x1ad)](_0x42bd29(0x1d2))[_0x42bd29(0x3ea)]=_0x365642[_0x42bd29(0x391)](),document[_0x42bd29(0x1ad)](_0x42bd29(0x353))[_0x42bd29(0x3ea)]=_0xc81bdc['toLocaleString']()+_0x42bd29(0x191);}function filterReportData(){const _0x21eba0=_0x90c6a6,_0x160c56=document[_0x21eba0(0x1ad)](_0x21eba0(0x2db))[_0x21eba0(0x3fe)];if(!currentReportData)return;let _0x5d48cb=currentReportData;_0x160c56&&(_0x5d48cb={},currentReportData[_0x160c56]&&(_0x5d48cb[_0x160c56]=currentReportData[_0x160c56])),displayReportData(_0x5d48cb);}function exportReportToCSV(){const _0x2d9d7f=_0x90c6a6;if(!currentReportData){showNotification('Không\x20có\x20dữ\x20liệu\x20để\x20xuất',_0x2d9d7f(0x381));return;}const _0x16c9eb=document[_0x2d9d7f(0x1ad)]('reportEmployeeFilter')[_0x2d9d7f(0x3fe)];let _0x45b346=currentReportData;_0x16c9eb&&(_0x45b346={},currentReportData[_0x16c9eb]&&(_0x45b346[_0x16c9eb]=currentReportData[_0x16c9eb]));let _0x5c0ea5=_0x2d9d7f(0x2b4);Object['values'](_0x45b346)['forEach'](_0x1fb85e=>{const _0x1a758d=_0x2d9d7f;_0x5c0ea5+='\x22'+_0x1fb85e[_0x1a758d(0x219)][_0x1a758d(0x1e8)]+'\x22,'+_0x1fb85e['taskCount']+','+_0x1fb85e[_0x1a758d(0x274)]+','+_0x1fb85e[_0x1a758d(0x2cc)]+','+_0x1fb85e['rvMoney'][_0x1a758d(0x433)](0x0)+','+_0x1fb85e[_0x1a758d(0x1c3)]['toFixed'](0x0)+','+_0x1fb85e[_0x1a758d(0x353)][_0x1a758d(0x433)](0x0)+'\x0a';});const _0x3cbcaf=new Blob([_0x5c0ea5],{'type':'text/csv;charset=utf-8;'}),_0x29e016=document[_0x2d9d7f(0x195)]('a'),_0x1cfb94=URL['createObjectURL'](_0x3cbcaf);_0x29e016['setAttribute']('href',_0x1cfb94),_0x29e016[_0x2d9d7f(0x148)](_0x2d9d7f(0x14d),_0x2d9d7f(0x2c2)+Date[_0x2d9d7f(0x1af)]()+_0x2d9d7f(0x32a)),_0x29e016['style']['visibility']=_0x2d9d7f(0x1e7),document[_0x2d9d7f(0x331)][_0x2d9d7f(0x351)](_0x29e016),_0x29e016['click'](),document[_0x2d9d7f(0x331)][_0x2d9d7f(0x341)](_0x29e016),showNotification('Đã\x20xuất\x20báo\x20cáo\x20thành\x20công!','success');}function viewBetaData(_0x47fd9e){editBetaData(_0x47fd9e);}function inputBetaData(_0xad7494){const _0x4558ff=_0x90c6a6;window[_0x4558ff(0x14e)](_0x4558ff(0x3b2)+_0xad7494+_0x4558ff(0x227),'_blank');}function editBetaData(_0x30b4ba){const _0x11f2c8=_0x90c6a6;window[_0x11f2c8(0x14e)](_0x11f2c8(0x3b2)+_0x30b4ba+_0x11f2c8(0x134),'_blank');}function openReviewInputPage(_0x5d87b7){const _0x49c882=_0x90c6a6,_0x2e2be5=_0x5d87b7||currentEditingTaskId;if(!_0x2e2be5){showNotification(_0x49c882(0x222),'error');return;}window[_0x49c882(0x14e)]('review-input.html?taskId='+_0x2e2be5+_0x49c882(0x227),'_blank');}function editReviewData(_0x472fb2){const _0xd8f2ee=_0x90c6a6;window[_0xd8f2ee(0x14e)]('review-input.html?taskId='+_0x472fb2+'&mode=edit','_blank');}async function viewReviewContent(_0x21c63c){const _0x52fc3b=_0x90c6a6;try{let _0x4c8cac=tasks[_0x52fc3b(0x419)](_0x24d707=>_0x24d707['id']===_0x21c63c);if(!_0x4c8cac){const {data:_0x21590c,error:_0x59cb7e}=await supabase[_0x52fc3b(0x19c)]('tasks')['select']('*')['eq']('id',_0x21c63c)[_0x52fc3b(0x1b2)]();if(_0x59cb7e){console[_0x52fc3b(0x381)](_0x52fc3b(0x248),_0x59cb7e),showNotification(_0x52fc3b(0x1a5),'error');return;}_0x4c8cac=_0x21590c;}else{}let _0x1caf7b=null;if(_0x4c8cac[_0x52fc3b(0x2f9)]===_0x52fc3b(0x352)){if(!_0x4c8cac[_0x52fc3b(0x32e)]){console['error'](_0x52fc3b(0x322),_0x4c8cac),showNotification(_0x52fc3b(0x2eb),_0x52fc3b(0x381));return;}let _0x2aab20=tasks[_0x52fc3b(0x419)](_0x361a72=>_0x361a72['id']===_0x4c8cac['parent_task_id']&&_0x361a72[_0x52fc3b(0x2f9)]==='rv');if(!_0x2aab20){const {data:_0x219a4f,error:_0x1893e8}=await supabase[_0x52fc3b(0x19c)](_0x52fc3b(0x1a7))['select']('*')['eq']('id',_0x4c8cac[_0x52fc3b(0x32e)])['eq']('task_type','rv')[_0x52fc3b(0x1b2)]();if(_0x1893e8){console['error'](_0x52fc3b(0x2a3),_0x1893e8),showNotification(_0x52fc3b(0x1f1),_0x52fc3b(0x381));return;}_0x2aab20=_0x219a4f;}if(!canViewReviewContent(_0x4c8cac)){showNotification(_0x52fc3b(0x17f),_0x52fc3b(0x381));return;}_0x1caf7b=_0x2aab20['id'];}else{if(_0x4c8cac['task_type']==='rv')_0x1caf7b=_0x4c8cac['id'];else{console[_0x52fc3b(0x381)](_0x52fc3b(0x370),_0x4c8cac[_0x52fc3b(0x2f9)]),showNotification(_0x52fc3b(0x344),_0x52fc3b(0x381));return;}}const _0xc02bb=_0x4c8cac[_0x52fc3b(0x2f9)]==='beta'?{'betaTaskId':_0x4c8cac['id'],'betaTaskAssignee':_0x4c8cac[_0x52fc3b(0x2bd)]}:null,_0x3d01cd=new URLSearchParams({'taskId':_0x1caf7b,'mode':_0x52fc3b(0x1d0)});_0xc02bb&&(_0x3d01cd['append']('betaTaskId',_0xc02bb[_0x52fc3b(0x2d4)]),_0x3d01cd['append'](_0x52fc3b(0x392),_0xc02bb[_0x52fc3b(0x392)])),window['open']('review-input.html?'+_0x3d01cd[_0x52fc3b(0x3cd)](),'_blank');}catch(_0x6ae128){console[_0x52fc3b(0x381)](_0x52fc3b(0x342),_0x6ae128),showNotification(_0x52fc3b(0x2aa)+_0x6ae128[_0x52fc3b(0x2c1)],_0x52fc3b(0x381));}}function updateReviewInputButton(_0x2cc03a){const _0x2b6280=_0x90c6a6,_0x496e44=document[_0x2b6280(0x1ad)](_0x2b6280(0x24c));_0x2cc03a&&_0x2cc03a[_0x2b6280(0x178)]()?_0x2cc03a['startsWith'](_0x2b6280(0x42b))?(_0x496e44[_0x2b6280(0x3d9)]='<i\x20class=\x22fas\x20fa-edit\x20me-2\x22></i>Chuyển\x20sang\x20nhập\x20nội\x20dung',_0x496e44[_0x2b6280(0x3ab)]=_0x2b6280(0x2cf),_0x496e44[_0x2b6280(0x1ea)]=()=>{const _0x53f68b=_0x2b6280;confirm(_0x53f68b(0x204))&&openReviewInputPage(currentEditingTaskId);}):(_0x496e44['innerHTML']='<i\x20class=\x22fas\x20fa-edit\x20me-2\x22></i>Chỉnh\x20sửa\x20nội\x20dung',_0x496e44[_0x2b6280(0x3ab)]=_0x2b6280(0x26f),_0x496e44[_0x2b6280(0x1ea)]=()=>editReviewData(currentEditingTaskId)):(_0x496e44[_0x2b6280(0x3d9)]=_0x2b6280(0x142),_0x496e44[_0x2b6280(0x3ab)]='btn\x20btn-outline-primary',_0x496e44['onclick']=()=>openReviewInputPage(currentEditingTaskId));}function canEditReviewContent(_0x1037e8){const _0x2aa25d=_0x90c6a6;if(!currentUser)return![];if(currentUser[_0x2aa25d(0x278)]===_0x2aa25d(0x136)||currentUser[_0x2aa25d(0x278)]===_0x2aa25d(0x162))return!![];if(currentUser[_0x2aa25d(0x278)]===_0x2aa25d(0x219))return _0x1037e8[_0x2aa25d(0x2bd)]===currentUser['id'];return![];}function canViewReviewContent(_0x2f0e20){const _0x609fdb=_0x90c6a6;if(!currentUser)return![];if(currentUser[_0x609fdb(0x278)]===_0x609fdb(0x136)||currentUser[_0x609fdb(0x278)]===_0x609fdb(0x162))return!![];if(currentUser[_0x609fdb(0x278)]===_0x609fdb(0x219))return _0x2f0e20[_0x609fdb(0x2bd)]===currentUser['id'];return![];}async function onFileTypeChange(){const _0x5e51ea=_0x90c6a6,_0x5f2887=document['getElementById']('fileType')[_0x5e51ea(0x3fe)],_0x50093c=document['getElementById'](_0x5e51ea(0x42a))[_0x5e51ea(0x3ea)],_0x26ff15=projects[_0x5e51ea(0x419)](_0x561af1=>_0x561af1['name']===_0x50093c);document[_0x5e51ea(0x1ad)](_0x5e51ea(0x158))[_0x5e51ea(0x3fe)]=_0x5e51ea(0x22a),_0x26ff15&&await populateFilesTable(_0x26ff15['id'],_0x5f2887);}function sortTasksByChapter(_0xedb7bf){const _0x41c2fb=_0x90c6a6;return _0xedb7bf[_0x41c2fb(0x3b8)]((_0x5e9f00,_0x322048)=>{const _0x2461da=_0x41c2fb,_0x588e1b=_0x2f3fb7=>{const _0x1ce84c=_0x3f71,_0x2c3fbe=(_0x2f3fb7||'')[_0x1ce84c(0x1b7)](/\d+/);return _0x2c3fbe?parseInt(_0x2c3fbe[0x0],0xa):null;},_0x363f68=_0x588e1b(_0x5e9f00['name']),_0x35eb51=_0x588e1b(_0x322048[_0x2461da(0x1e8)]);if(_0x363f68!==null&&_0x35eb51!==null)return _0x363f68-_0x35eb51;return(_0x5e9f00[_0x2461da(0x1e8)]||'')[_0x2461da(0x339)](_0x322048['name']||'',undefined,{'numeric':!![],'sensitivity':_0x2461da(0x1d8)});});}async function populateFilesTable(_0x3b0849,_0x46b02d){const _0x53c459=_0x90c6a6;let _0x52c403=[];if(_0x46b02d===_0x53c459(0x352))_0x52c403=tasks[_0x53c459(0x3e1)](_0x5ceda2=>_0x5ceda2['project_id']===_0x3b0849&&_0x5ceda2[_0x53c459(0x2f9)]==='beta'&&_0x5ceda2[_0x53c459(0x398)]);else _0x46b02d==='review'&&(_0x52c403=tasks['filter'](_0x49a0ae=>_0x49a0ae['project_id']===_0x3b0849&&_0x49a0ae['submission_link']&&!_0x49a0ae['submission_link'][_0x53c459(0xf5)]('http')));if(_0x52c403[_0x53c459(0x276)]===0x0){const _0xa386a5=_0x46b02d===_0x53c459(0x352)?_0x53c459(0x352):_0x53c459(0x183);showNotification(_0x53c459(0x154)+_0xa386a5+_0x53c459(0x238),'info');return;}_0x46b02d===_0x53c459(0x352)?populateBetaFilesTable(_0x52c403):populateReviewFilesTable(_0x52c403);}function populateReviewFilesTable(_0x14f74c){const _0x1ef0bc=_0x90c6a6,_0x5916f6=document['getElementById'](_0x1ef0bc(0x223));_0x5916f6[_0x1ef0bc(0x3d9)]='',sortTasksByChapter(_0x14f74c),_0x14f74c['forEach'](_0x4a59b5=>{const _0x2612f9=_0x1ef0bc,_0x56c952=window[_0x2612f9(0x3a5)][_0x2612f9(0x419)](_0x31126e=>_0x31126e['id']===_0x4a59b5['assignee_id']),_0xaecb26=document['createElement']('tr');_0xaecb26['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20class=\x22beta-file-checkbox\x22\x20value=\x22'+_0x4a59b5['id']+_0x2612f9(0x3e0)+_0x4a59b5['name']+_0x2612f9(0x101)+(_0x56c952?_0x56c952[_0x2612f9(0x1e8)]:_0x2612f9(0x3db))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+getTaskStatusBadge(_0x4a59b5[_0x2612f9(0x329)])+_0x2612f9(0x101)+formatDateTime(_0x4a59b5[_0x2612f9(0x127)]||_0x4a59b5[_0x2612f9(0x173)])+_0x2612f9(0x27c),_0x5916f6[_0x2612f9(0x351)](_0xaecb26);}),setupSelectAllBetaFiles();}function populateBetaFilesTable(_0x42a629){const _0x49f9b0=_0x90c6a6,_0x5b37e5=document[_0x49f9b0(0x1ad)](_0x49f9b0(0x223));_0x5b37e5[_0x49f9b0(0x3d9)]='',sortTasksByChapter(_0x42a629),_0x42a629[_0x49f9b0(0x267)](_0x4392bf=>{const _0x4cabb3=_0x49f9b0,_0x31d160=window[_0x4cabb3(0x3a5)][_0x4cabb3(0x419)](_0x1f3b52=>_0x1f3b52['id']===_0x4392bf[_0x4cabb3(0x2bd)]),_0x3cc0a9=document['createElement']('tr');_0x3cc0a9['innerHTML']=_0x4cabb3(0x2e4)+_0x4392bf['id']+'\x22\x20checked></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4392bf[_0x4cabb3(0x1e8)]+_0x4cabb3(0x101)+(_0x31d160?_0x31d160[_0x4cabb3(0x1e8)]:'N/A')+_0x4cabb3(0x101)+getTaskStatusBadge(_0x4392bf[_0x4cabb3(0x329)])+_0x4cabb3(0x101)+formatDateTime(_0x4392bf['updated_at']||_0x4392bf[_0x4cabb3(0x173)])+_0x4cabb3(0x27c),_0x5b37e5[_0x4cabb3(0x351)](_0x3cc0a9);}),setupSelectAllBetaFiles();}function setupSelectAllBetaFiles(){const _0x5a5fcc=_0x90c6a6,_0x2a4735=document[_0x5a5fcc(0x1ad)](_0x5a5fcc(0x1d3)),_0x10d1a9=document[_0x5a5fcc(0x12b)](_0x5a5fcc(0x1f9));_0x2a4735&&(_0x2a4735[_0x5a5fcc(0x102)](_0x5a5fcc(0x415),function(){const _0x239d44=_0x5a5fcc;_0x10d1a9[_0x239d44(0x267)](_0x1bc6f0=>_0x1bc6f0[_0x239d44(0x192)]=this['checked']);}),_0x10d1a9[_0x5a5fcc(0x267)](_0x3278b1=>{const _0xcc0834=_0x5a5fcc;_0x3278b1[_0xcc0834(0x102)]('change',function(){const _0x2efef4=_0xcc0834,_0x4f3a8d=Array[_0x2efef4(0x19c)](_0x10d1a9)[_0x2efef4(0x23c)](_0x50ff0f=>_0x50ff0f[_0x2efef4(0x192)]),_0x26187c=Array[_0x2efef4(0x19c)](_0x10d1a9)['some'](_0x5db4d2=>_0x5db4d2[_0x2efef4(0x192)]);_0x2a4735[_0x2efef4(0x192)]=_0x4f3a8d,_0x2a4735['indeterminate']=_0x26187c&&!_0x4f3a8d;});}));}async function executeDownload(){const _0x5739c3=_0x90c6a6,_0x1cc3d6=document[_0x5739c3(0x1ad)]('fileType')[_0x5739c3(0x3fe)],_0x3c655d=document['getElementById'](_0x5739c3(0x1b8))[_0x5739c3(0x3fe)],_0x39b137=document[_0x5739c3(0x1ad)]('mergeOption')[_0x5739c3(0x3fe)],_0x12308b=document['getElementById']('fileFormat')['value'],_0x591bf8=Array[_0x5739c3(0x19c)](document[_0x5739c3(0x12b)](_0x5739c3(0x424)))['map'](_0x3315f6=>parseInt(_0x3315f6[_0x5739c3(0x3fe)]));if(_0x591bf8[_0x5739c3(0x276)]===0x0){showNotification('Vui\x20lòng\x20chọn\x20ít\x20nhất\x20một\x20file\x20để\x20tải',_0x5739c3(0x381));return;}try{_0x39b137===_0x5739c3(0x2f2)?_0x1cc3d6===_0x5739c3(0x352)?await downloadMergedBetaFiles(_0x591bf8,_0x12308b):await downloadMergedReviewFiles(_0x591bf8,_0x12308b):_0x1cc3d6==='beta'?await downloadSeparateBetaFiles(_0x591bf8,_0x12308b):await downloadSeparateReviewFiles(_0x591bf8,_0x12308b);const _0x2c40dc=bootstrap['Modal']['getInstance'](document['getElementById'](_0x5739c3(0x368)));_0x2c40dc[_0x5739c3(0x105)](),showNotification('Tải\x20file\x20thành\x20công!',_0x5739c3(0x14f));}catch(_0x120d49){console[_0x5739c3(0x381)](_0x5739c3(0x43a),_0x120d49),showNotification(_0x5739c3(0x35e)+_0x120d49[_0x5739c3(0x2c1)],'error');}}async function downloadMergedBetaFiles(_0x3442e1,_0x2c78ae=_0x90c6a6(0x22a)){const _0x43cedd=_0x90c6a6,_0x3b7209=tasks['filter'](_0x508808=>_0x3442e1[_0x43cedd(0x1ac)](_0x508808['id']));sortTasksByChapter(_0x3b7209);let _0x3e4bfe='';for(const _0x5e9d71 of _0x3b7209){_0x5e9d71[_0x43cedd(0x398)]&&(_0x2c78ae===_0x43cedd(0x2f5)?_0x3e4bfe+=_0x5e9d71[_0x43cedd(0x398)]+'\x0a\x0a':_0x3e4bfe+=_0x5e9d71[_0x43cedd(0x398)]+_0x43cedd(0x430));}let _0x55ee7b,_0x29d084;if(_0x2c78ae===_0x43cedd(0x2f5))_0x55ee7b=new Blob(['\ufeff',_0x3e4bfe['trim']()],{'type':_0x43cedd(0x282)}),_0x29d084=_0x43cedd(0x24b)+new Date()[_0x43cedd(0x217)]()[_0x43cedd(0x138)]('T')[0x0]+_0x43cedd(0x422);else{const _0x5b6461=_0x43cedd(0x1bc)+_0x3e4bfe['trim']()+_0x43cedd(0x40a);_0x55ee7b=new Blob(['\ufeff',_0x5b6461],{'type':_0x43cedd(0x10f)}),_0x29d084=_0x43cedd(0x24b)+new Date()[_0x43cedd(0x217)]()[_0x43cedd(0x138)]('T')[0x0]+'.doc';}const _0x53284a=URL['createObjectURL'](_0x55ee7b),_0x42c6e8=document[_0x43cedd(0x195)]('a');_0x42c6e8[_0x43cedd(0x1e5)]=_0x53284a,_0x42c6e8[_0x43cedd(0x14d)]=_0x29d084,document[_0x43cedd(0x331)]['appendChild'](_0x42c6e8),_0x42c6e8[_0x43cedd(0x315)](),document[_0x43cedd(0x331)]['removeChild'](_0x42c6e8),URL['revokeObjectURL'](_0x53284a);}async function downloadMergedReviewFiles(_0x581995,_0x490b5d=_0x90c6a6(0x22a)){const _0xac9866=_0x90c6a6,_0x308e43=tasks[_0xac9866(0x3e1)](_0x5a27d1=>_0x581995[_0xac9866(0x1ac)](_0x5a27d1['id']));sortTasksByChapter(_0x308e43);let _0x11f757='';for(const _0x48535b of _0x308e43){try{const {data:_0x19785e}=await supabase[_0xac9866(0x19c)]('task_content')[_0xac9866(0x23f)](_0xac9866(0x25e))['eq'](_0xac9866(0x2c4),_0x48535b['id'])['eq'](_0xac9866(0x34b),'review')['single']();if(_0x19785e&&_0x19785e[_0xac9866(0x25e)]){_0x11f757+=_0x19785e[_0xac9866(0x25e)]+'\x0a\x0a';continue;}}catch(_0x20d486){console[_0xac9866(0x2de)](_0xac9866(0x285)+_0x48535b['id']+':',_0x20d486);}_0x48535b[_0xac9866(0x259)]&&!_0x48535b['submission_link'][_0xac9866(0xf5)](_0xac9866(0x42b))&&_0x48535b['submission_link']!==_0xac9866(0x20a)&&(_0x11f757+=_0x48535b['submission_link']+'\x0a\x0a');}let _0x15f034,_0x1ee799;if(_0x490b5d===_0xac9866(0x2f5))_0x15f034=new Blob(['\ufeff',_0x11f757['trim']()],{'type':_0xac9866(0x282)}),_0x1ee799=_0xac9866(0x255)+new Date()['toISOString']()['split']('T')[0x0]+_0xac9866(0x422);else{const _0x181d21=_0xac9866(0x1bc)+_0x11f757['trim']()+'</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x15f034=new Blob(['\ufeff',_0x181d21],{'type':_0xac9866(0x10f)}),_0x1ee799=_0xac9866(0x255)+new Date()[_0xac9866(0x217)]()[_0xac9866(0x138)]('T')[0x0]+_0xac9866(0x3ba);}const _0x2e3a64=URL[_0xac9866(0x18d)](_0x15f034),_0xaf6395=document[_0xac9866(0x195)]('a');_0xaf6395[_0xac9866(0x1e5)]=_0x2e3a64,_0xaf6395[_0xac9866(0x14d)]=_0x1ee799,document[_0xac9866(0x331)]['appendChild'](_0xaf6395),_0xaf6395['click'](),document[_0xac9866(0x331)]['removeChild'](_0xaf6395),URL[_0xac9866(0x242)](_0x2e3a64);}async function downloadSeparateReviewFiles(_0x195949,_0x40b6e2=_0x90c6a6(0x22a)){const _0x16bbbf=_0x90c6a6,_0x4ed2ee=tasks[_0x16bbbf(0x3e1)](_0x3e2d77=>_0x195949[_0x16bbbf(0x1ac)](_0x3e2d77['id']));sortTasksByChapter(_0x4ed2ee);for(const _0x1cf502 of _0x4ed2ee){try{let _0x38b1dc='',_0x123c44,_0x4deb1e;try{const {data:_0xe32ab8}=await supabase[_0x16bbbf(0x19c)]('task_content')[_0x16bbbf(0x23f)](_0x16bbbf(0x25e))['eq']('task_id',_0x1cf502['id'])['eq']('content_type',_0x16bbbf(0x183))['single']();_0xe32ab8&&_0xe32ab8['content']&&(_0x38b1dc=_0xe32ab8[_0x16bbbf(0x25e)]);}catch(_0x5b967b){console[_0x16bbbf(0x2de)](_0x16bbbf(0x285)+_0x1cf502['id']+':',_0x5b967b);}!_0x38b1dc&&_0x1cf502[_0x16bbbf(0x259)]&&!_0x1cf502[_0x16bbbf(0x259)]['startsWith'](_0x16bbbf(0x42b))&&_0x1cf502[_0x16bbbf(0x259)]!==_0x16bbbf(0x20a)&&(_0x38b1dc=_0x1cf502[_0x16bbbf(0x259)]);if(_0x40b6e2===_0x16bbbf(0x2f5))_0x4deb1e=new Blob(['\ufeff',_0x38b1dc],{'type':_0x16bbbf(0x282)}),_0x123c44=_0x16bbbf(0x2ea)+_0x1cf502[_0x16bbbf(0x1e8)][_0x16bbbf(0x252)](/[^a-zA-Z0-9]/g,'_')+'_'+new Date()[_0x16bbbf(0x217)]()['split']('T')[0x0]+_0x16bbbf(0x422);else{const _0x3b80e2=_0x16bbbf(0x225)+_0x38b1dc+_0x16bbbf(0x1f6);_0x4deb1e=new Blob(['\ufeff',_0x3b80e2],{'type':_0x16bbbf(0x10f)}),_0x123c44=_0x16bbbf(0x2ea)+_0x1cf502[_0x16bbbf(0x1e8)][_0x16bbbf(0x252)](/[^a-zA-Z0-9]/g,'_')+'_'+new Date()[_0x16bbbf(0x217)]()[_0x16bbbf(0x138)]('T')[0x0]+'.doc';}const _0x32b40f=URL[_0x16bbbf(0x18d)](_0x4deb1e),_0x592907=document[_0x16bbbf(0x195)]('a');_0x592907[_0x16bbbf(0x1e5)]=_0x32b40f,_0x592907[_0x16bbbf(0x14d)]=_0x123c44,document[_0x16bbbf(0x331)]['appendChild'](_0x592907),_0x592907[_0x16bbbf(0x315)](),document[_0x16bbbf(0x331)]['removeChild'](_0x592907),URL[_0x16bbbf(0x242)](_0x32b40f),await new Promise(_0x2108ad=>setTimeout(_0x2108ad,0x64));}catch(_0x400bec){console[_0x16bbbf(0x381)](_0x16bbbf(0x32f)+_0x1cf502['id']+':',_0x400bec);}}}async function downloadSeparateBetaFiles(_0x133f1f,_0x4d3d25=_0x90c6a6(0x22a)){const _0x42cf3b=_0x90c6a6,_0x1f474b=tasks[_0x42cf3b(0x3e1)](_0x1f3e90=>_0x133f1f[_0x42cf3b(0x1ac)](_0x1f3e90['id']));_0x1f474b[_0x42cf3b(0x3b8)]((_0x32529d,_0x356f0e)=>{const _0x52feb5=_0x42cf3b,_0x186690=_0x1d3921=>{const _0xb86bd4=(_0x1d3921||'')['match'](/\d+/);return _0xb86bd4?parseInt(_0xb86bd4[0x0],0xa):null;},_0x2816b7=_0x186690(_0x32529d[_0x52feb5(0x1e8)]),_0x1a248f=_0x186690(_0x356f0e['name']);if(_0x2816b7!==null&&_0x1a248f!==null)return _0x2816b7-_0x1a248f;return(_0x32529d[_0x52feb5(0x1e8)]||'')[_0x52feb5(0x339)](_0x356f0e[_0x52feb5(0x1e8)]||'',undefined,{'numeric':!![],'sensitivity':_0x52feb5(0x1d8)});});for(const _0x41f0db of _0x1f474b){try{let _0x319ba6='',_0x10301a,_0x13c4c4;_0x41f0db[_0x42cf3b(0x398)]&&(_0x319ba6=_0x41f0db[_0x42cf3b(0x398)]);if(_0x4d3d25==='txt')_0x13c4c4=new Blob(['\ufeff',_0x319ba6],{'type':_0x42cf3b(0x282)}),_0x10301a='beta_'+_0x41f0db[_0x42cf3b(0x1e8)]['replace'](/[^a-zA-Z0-9]/g,'_')+'_'+new Date()[_0x42cf3b(0x217)]()[_0x42cf3b(0x138)]('T')[0x0]+_0x42cf3b(0x422);else{const _0x432e42=_0x42cf3b(0x303)+_0x319ba6+_0x42cf3b(0x3ff);_0x13c4c4=new Blob(['\ufeff',_0x432e42],{'type':_0x42cf3b(0x10f)}),_0x10301a=_0x42cf3b(0x444)+_0x41f0db[_0x42cf3b(0x1e8)][_0x42cf3b(0x252)](/[^a-zA-Z0-9]/g,'_')+'_'+new Date()[_0x42cf3b(0x217)]()[_0x42cf3b(0x138)]('T')[0x0]+'.doc';}const _0x5eb3ad=URL[_0x42cf3b(0x18d)](_0x13c4c4),_0x2ed2bd=document[_0x42cf3b(0x195)]('a');_0x2ed2bd['href']=_0x5eb3ad,_0x2ed2bd[_0x42cf3b(0x14d)]=_0x10301a,document[_0x42cf3b(0x331)][_0x42cf3b(0x351)](_0x2ed2bd),_0x2ed2bd[_0x42cf3b(0x315)](),document['body'][_0x42cf3b(0x341)](_0x2ed2bd),URL[_0x42cf3b(0x242)](_0x5eb3ad),await new Promise(_0x10b1ba=>setTimeout(_0x10b1ba,0x64));}catch(_0x74030b){console[_0x42cf3b(0x381)](_0x42cf3b(0x32f)+_0x41f0db['id']+':',_0x74030b);}}}function showActivityHistoryView(){const _0x2b7b8=_0x90c6a6;if(!currentUser){showNotification(_0x2b7b8(0x336),_0x2b7b8(0x381));return;}if(!hasManagerOrBossPermissions(currentUser)){showNotification('Chỉ\x20quản\x20lý\x20và\x20boss\x20mới\x20có\x20thể\x20xem\x20lịch\x20sử\x20hoạt\x20động',_0x2b7b8(0x381));return;}const _0x471fa0=document['getElementById']('activityHistoryView');if(!_0x471fa0){showNotification('Lỗi:\x20Không\x20tìm\x20thấy\x20view\x20lịch\x20sử\x20hoạt\x20động',_0x2b7b8(0x381));return;}const _0x4ec4b5=document[_0x2b7b8(0x1ad)](_0x2b7b8(0x13f)),_0x4818e9=document[_0x2b7b8(0x1ad)](_0x2b7b8(0x27e)),_0x587bd9=document[_0x2b7b8(0x1ad)](_0x2b7b8(0x1f8));_0x4ec4b5&&(_0x4ec4b5['style'][_0x2b7b8(0x3c8)]=_0x2b7b8(0x11c));_0x4818e9&&(_0x4818e9[_0x2b7b8(0x107)]['display']=_0x2b7b8(0x11c));_0x587bd9&&(_0x587bd9[_0x2b7b8(0x107)]['display']=_0x2b7b8(0x11c));const _0x3867f1=document[_0x2b7b8(0x1ad)](_0x2b7b8(0x13f)),_0x2c5bdb=document[_0x2b7b8(0x1ad)](_0x2b7b8(0x27e));_0x3867f1&&(_0x3867f1['style']['display']='none'),_0x2c5bdb&&(_0x2c5bdb[_0x2b7b8(0x107)][_0x2b7b8(0x3c8)]='none'),_0x471fa0[_0x2b7b8(0x107)][_0x2b7b8(0x3c8)]=_0x2b7b8(0x112),_0x471fa0[_0x2b7b8(0x107)]['visibility']=_0x2b7b8(0x3d1),_0x471fa0[_0x2b7b8(0x107)]['zIndex']='1000',loadActivityHistoryData();}async function loadActivityHistoryData(){const _0x8765a8=_0x90c6a6;try{const {data:_0x21a704,error:_0x383dac}=await supabase['from'](_0x8765a8(0x20d))[_0x8765a8(0x23f)]('*')['eq'](_0x8765a8(0x278),'employee')[_0x8765a8(0x326)](_0x8765a8(0x1e8));if(_0x383dac){console[_0x8765a8(0x381)](_0x8765a8(0x346),_0x383dac);throw _0x383dac;}const {data:_0x34cbfb,error:_0x5b1f09}=await supabase['from'](_0x8765a8(0x1a7))[_0x8765a8(0x23f)](_0x8765a8(0x13a))['not'](_0x8765a8(0x2bd),'is',null)[_0x8765a8(0x326)](_0x8765a8(0x127),{'ascending':![]});if(_0x5b1f09){console[_0x8765a8(0x381)]('Error\x20loading\x20tasks:',_0x5b1f09);throw _0x5b1f09;}const _0x5ac92b=processEmployeeActivityData(_0x21a704,_0x34cbfb);window[_0x8765a8(0x177)]=_0x5ac92b,populateEmployeeActivityFilter(_0x21a704),renderActivityHistoryTable();}catch(_0x578cec){console['error'](_0x8765a8(0x251),_0x578cec),showNotification('Lỗi\x20khi\x20tải\x20dữ\x20liệu\x20lịch\x20sử\x20hoạt\x20động:\x20'+_0x578cec[_0x8765a8(0x2c1)],_0x8765a8(0x381));}}function processEmployeeActivityData(_0x2c27e0,_0x2828a6){const _0x5c2936=_0x90c6a6,_0x468eaa=[],_0x331986=new Date(),_0xd85600=0xf;return _0x2c27e0[_0x5c2936(0x267)](_0x16de38=>{const _0x5ce54a=_0x5c2936,_0x398d08=_0x2828a6['filter'](_0x518d37=>_0x518d37[_0x5ce54a(0x2bd)]===_0x16de38['id']),_0x5e3229=_0x398d08[_0x5ce54a(0x419)](_0x3b1b90=>_0x3b1b90[_0x5ce54a(0x329)]===_0x5ce54a(0x17d)),_0x3e6c8a=_0x398d08[_0x5ce54a(0x3b8)]((_0xa87840,_0x33537f)=>{const _0x1db898=_0x5ce54a,_0x5128a1=_0xa87840[_0x1db898(0x350)]?new Date(_0xa87840[_0x1db898(0x350)]):new Date(0x0),_0x9ece21=_0x33537f['claimed_at']?new Date(_0x33537f[_0x1db898(0x350)]):new Date(0x0);return _0x9ece21-_0x5128a1;})[0x0];let _0x285932='Chưa\x20có\x20task\x20nào',_0x4c3835=null,_0x107b5a=null,_0xfea4a0=null,_0x4e848c=_0x5ce54a(0x3a3),_0x4b6e5a=_0x5ce54a(0x10c);if(_0x5e3229){_0x285932=_0x5e3229[_0x5ce54a(0x1e8)],_0x107b5a=_0x5e3229['completed_at']?new Date(_0x5e3229[_0x5ce54a(0x41f)]):new Date(_0x5e3229[_0x5ce54a(0x127)]),_0xfea4a0=Math[_0x5ce54a(0x388)]((_0x331986-_0x107b5a)/(0x3e8*0x3c*0x3c*0x18));if(_0xfea4a0<=0x7)_0x4e848c='active',_0x4b6e5a=_0x5ce54a(0x2b6);else _0xfea4a0<=_0xd85600?(_0x4e848c=_0x5ce54a(0x23d),_0x4b6e5a=_0x5ce54a(0x249)):(_0x4e848c=_0x5ce54a(0x3a3),_0x4b6e5a=_0x5ce54a(0x10c));}_0x3e6c8a&&_0x3e6c8a['claimed_at']&&(_0x4c3835=new Date(_0x3e6c8a[_0x5ce54a(0x350)])),_0x468eaa[_0x5ce54a(0x18e)]({'employee':_0x16de38,'lastTaskName':_0x285932,'lastClaimDate':_0x4c3835,'lastCompletionDate':_0x107b5a,'inactivityDays':_0xfea4a0,'activityStatus':_0x4e848c,'statusClass':_0x4b6e5a});}),_0x468eaa;}function populateEmployeeActivityFilter(_0x10905a){const _0xecd52f=_0x90c6a6,_0x3bddb5=document[_0xecd52f(0x1ad)]('employeeActivityFilter');if(!_0x3bddb5){console[_0xecd52f(0x381)]('employeeActivityFilter\x20element\x20not\x20found!');return;}_0x3bddb5[_0xecd52f(0x3d9)]=_0xecd52f(0x2fa),_0x10905a[_0xecd52f(0x267)](_0x57afca=>{const _0x3f7cf2=_0xecd52f,_0x5281ce=document['createElement'](_0x3f7cf2(0x156));_0x5281ce[_0x3f7cf2(0x3fe)]=_0x57afca['id'],_0x5281ce[_0x3f7cf2(0x3ea)]=_0x57afca['name'],_0x3bddb5[_0x3f7cf2(0x351)](_0x5281ce);});}function renderActivityHistoryTable(){const _0x3ac64d=_0x90c6a6,_0x5ba2a2=document[_0x3ac64d(0x1ad)](_0x3ac64d(0x2fd));if(!_0x5ba2a2){console[_0x3ac64d(0x381)](_0x3ac64d(0x3b0));return;}if(!window[_0x3ac64d(0x177)]){console[_0x3ac64d(0x381)]('No\x20activity\x20history\x20data\x20available!');return;}const _0x2b2978=document[_0x3ac64d(0x1ad)](_0x3ac64d(0x328))?.[_0x3ac64d(0x3fe)]||'',_0x1693e2=document[_0x3ac64d(0x1ad)](_0x3ac64d(0x233))?.['value']||'';let _0x4f30a9=window['activityHistoryData'];_0x2b2978&&(_0x4f30a9=_0x4f30a9['filter'](_0x389393=>_0x389393[_0x3ac64d(0x219)]['id']===_0x2b2978));_0x1693e2&&(_0x4f30a9=_0x4f30a9[_0x3ac64d(0x3e1)](_0x4663e9=>_0x4663e9[_0x3ac64d(0x165)]===_0x1693e2));if(_0x4f30a9[_0x3ac64d(0x276)]===0x0){_0x5ba2a2[_0x3ac64d(0x3d9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>Không\x20có\x20dữ\x20liệu</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Không\x20tìm\x20thấy\x20lịch\x20sử\x20hoạt\x20động\x20phù\x20hợp</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x5ba2a2[_0x3ac64d(0x3d9)]=_0x4f30a9[_0x3ac64d(0x1d4)](_0x417d78=>{const _0x4589e3=_0x3ac64d,_0x4f3f1e=_0x417d78[_0x4589e3(0x24e)]!==null?_0x417d78[_0x4589e3(0x24e)]+_0x4589e3(0x21a):'Chưa\x20hoàn\x20thành\x20task\x20nào',_0x365cc2=_0x417d78[_0x4589e3(0x24e)]!==null?_0x417d78['inactivityDays']<=0x7?'success':_0x417d78[_0x4589e3(0x24e)]<=0xf?_0x4589e3(0x23d):_0x4589e3(0x3e7):_0x4589e3(0x3f0),_0x5c9964=_0x417d78[_0x4589e3(0x325)]?new Date(_0x417d78[_0x4589e3(0x325)])[_0x4589e3(0x1fb)](_0x4589e3(0x38f)):'Chưa\x20có',_0x2cb7f3=_0x417d78[_0x4589e3(0x165)]==='warning'?_0x4589e3(0x13d):_0x417d78[_0x4589e3(0x165)]===_0x4589e3(0x3a3)?_0x4589e3(0x2d1):_0x417d78['activityStatus']===_0x4589e3(0x3d6)?_0x4589e3(0x19f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22activity-history-row\x20'+_0x2cb7f3+_0x4589e3(0x2e1)+_0x417d78[_0x4589e3(0x219)][_0x4589e3(0x1e8)][_0x4589e3(0x236)](0x0)[_0x4589e3(0x31e)]()+_0x4589e3(0x1bd)+_0x417d78['employee']['name']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22employee-email\x22>'+_0x417d78[_0x4589e3(0x219)][_0x4589e3(0x2c3)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22role-badge\x22>'+_0x417d78[_0x4589e3(0x219)]['role']+_0x4589e3(0x384)+_0x417d78[_0x4589e3(0x2b2)]+_0x4589e3(0x393)+_0x417d78['lastTaskName']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22date-info\x20'+(_0x417d78[_0x4589e3(0x1d5)]?_0x4589e3(0x394):_0x4589e3(0x40e))+_0x4589e3(0x393)+(_0x417d78['lastClaimDate']?new Date(_0x417d78['lastClaimDate'])['toLocaleDateString'](_0x4589e3(0x38f)):_0x4589e3(0x2ad))+_0x4589e3(0x170)+(_0x5c9964!=='Chưa\x20có'?_0x4589e3(0x394):_0x4589e3(0x40e))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c9964+_0x4589e3(0x294)+_0x365cc2+'\x22>'+_0x4f3f1e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22'+_0x417d78['statusClass']+'\x22>'+(_0x417d78[_0x4589e3(0x165)]===_0x4589e3(0x3d6)?_0x4589e3(0x3a4):_0x417d78['activityStatus']===_0x4589e3(0x23d)?_0x4589e3(0x172):'Không\x20hoạt\x20động')+_0x4589e3(0x2a2)+_0x417d78[_0x4589e3(0x219)]['id']+'\x27)\x22\x20title=\x22Xem\x20chi\x20tiết\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x417d78[_0x4589e3(0x165)]===_0x4589e3(0x23d)||_0x417d78[_0x4589e3(0x165)]===_0x4589e3(0x3a3)?'<button\x20class=\x22btn-action-reminder\x22\x20onclick=\x22sendReminder(\x27'+_0x417d78['employee']['id']+_0x4589e3(0x399):'')+_0x4589e3(0x1e2);})['join']('');}function refreshActivityHistory(){const _0x16e161=_0x90c6a6;loadActivityHistoryData(),showNotification('Đã\x20làm\x20mới\x20dữ\x20liệu\x20lịch\x20sử\x20hoạt\x20động',_0x16e161(0x14f));}function viewEmployeeDetails(_0x2931ba){const _0x4e777f=_0x90c6a6,_0x5ef264=window[_0x4e777f(0x177)]?.['find'](_0x29078e=>_0x29078e[_0x4e777f(0x219)]['id']===_0x2931ba)?.['employee'];if(!_0x5ef264){showNotification(_0x4e777f(0x436),_0x4e777f(0x381));return;}const _0x569d73=_0x4e777f(0x1c9)+_0x5ef264[_0x4e777f(0x1e8)]+_0x4e777f(0x11d)+_0x5ef264['email']+_0x4e777f(0x260)+_0x5ef264[_0x4e777f(0x278)]+'</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td><strong>Ngày\x20tham\x20gia:</strong></td><td>'+new Date(_0x5ef264[_0x4e777f(0x173)])[_0x4e777f(0x1fb)](_0x4e777f(0x38f))+_0x4e777f(0x1f3)+_0x2931ba+_0x4e777f(0x38b);document[_0x4e777f(0x331)][_0x4e777f(0x18a)](_0x4e777f(0x37f),_0x569d73);const _0x50b764=new bootstrap['Modal'](document['getElementById'](_0x4e777f(0x39a)));_0x50b764['show'](),loadEmployeeStats(_0x2931ba),loadEmployeeTimeline(_0x2931ba),document[_0x4e777f(0x1ad)](_0x4e777f(0x39a))[_0x4e777f(0x102)]('hidden.bs.modal',function(){const _0x489310=_0x4e777f;this[_0x489310(0x1e3)]();});}async function loadEmployeeStats(_0x30ab84){const _0xa74996=_0x90c6a6;try{const {data:_0x4ebb1a,error:_0x1a8d44}=await supabase[_0xa74996(0x19c)](_0xa74996(0x365))[_0xa74996(0x23f)]('*')['eq'](_0xa74996(0x184),_0x30ab84)['single']();if(_0x1a8d44)throw _0x1a8d44;const _0x2c5c1e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20bg-primary\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>'+(_0x4ebb1a[_0xa74996(0x2a6)]||0x0)+_0xa74996(0x3b9)+(_0x4ebb1a[_0xa74996(0x220)]||0x0)+_0xa74996(0x2e5)+(_0x4ebb1a[_0xa74996(0x405)]?.[_0xa74996(0x391)]()||0x0)+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Tổng\x20ký\x20tự</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document[_0xa74996(0x1ad)](_0xa74996(0x1c8))[_0xa74996(0x3d9)]=_0x2c5c1e;}catch(_0x45620c){console[_0xa74996(0x381)](_0xa74996(0x36a),_0x45620c),document[_0xa74996(0x1ad)](_0xa74996(0x1c8))[_0xa74996(0x3d9)]=_0xa74996(0x253);}}async function loadEmployeeTimeline(_0x5c1f93,_0x4bdf55=0x1){const _0x1f5b17=_0x90c6a6;try{const _0x38c51b=0xa,_0x30a4e9=(_0x4bdf55-0x1)*_0x38c51b,{data:_0x2b1611,error:_0x26de87}=await supabase['from']('employee_activity_history')[_0x1f5b17(0x23f)]('*')['eq'](_0x1f5b17(0x184),_0x5c1f93)['order'](_0x1f5b17(0x41f),{'ascending':![]})[_0x1f5b17(0x305)](_0x30a4e9,_0x30a4e9+_0x38c51b-0x1);if(_0x26de87)throw _0x26de87;if(_0x4bdf55===0x1){const _0x3a40e5=_0x2b1611['length']>0x0?_0x2b1611[_0x1f5b17(0x1d4)](_0xf487de=>_0x1f5b17(0x3ad)+_0xf487de[_0x1f5b17(0x310)]+_0x1f5b17(0x272)+(_0xf487de[_0x1f5b17(0x41f)]?new Date(_0xf487de[_0x1f5b17(0x41f)])[_0x1f5b17(0x1fb)]('vi-VN'):_0x1f5b17(0x1c7))+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-'+(_0xf487de[_0x1f5b17(0x441)]===_0x1f5b17(0x17d)?_0x1f5b17(0x14f):_0xf487de[_0x1f5b17(0x441)]===_0x1f5b17(0x273)?_0x1f5b17(0x23d):'secondary')+'\x22>'+_0xf487de[_0x1f5b17(0x441)]+_0x1f5b17(0x426)+(_0xf487de[_0x1f5b17(0x318)]?_0x1f5b17(0x1d6)+_0xf487de[_0x1f5b17(0x318)]+_0x1f5b17(0x218):'')+_0x1f5b17(0x3b4)+(_0xf487de[_0x1f5b17(0x363)]?_0x1f5b17(0x31b)+_0xf487de[_0x1f5b17(0x363)]['toFixed'](0x1)+_0x1f5b17(0x3cc):'')+_0x1f5b17(0x367))['join'](''):'<p\x20class=\x22text-muted\x20text-center\x22>Chưa\x20có\x20hoạt\x20động\x20nào</p>';document[_0x1f5b17(0x1ad)](_0x1f5b17(0x308))[_0x1f5b17(0x3d9)]=_0x3a40e5;}else{const _0x9c0935=_0x2b1611[_0x1f5b17(0x1d4)](_0x26210f=>_0x1f5b17(0x3ad)+_0x26210f['task_name']+_0x1f5b17(0x272)+(_0x26210f[_0x1f5b17(0x41f)]?new Date(_0x26210f['completed_at'])[_0x1f5b17(0x1fb)]('vi-VN'):_0x1f5b17(0x1c7))+_0x1f5b17(0x146)+(_0x26210f['task_status']==='completed'?_0x1f5b17(0x14f):_0x26210f['task_status']===_0x1f5b17(0x273)?_0x1f5b17(0x23d):_0x1f5b17(0x22e))+'\x22>'+_0x26210f[_0x1f5b17(0x441)]+_0x1f5b17(0x426)+(_0x26210f['project_name']?'<span\x20class=\x22ms-2\x22>Dự\x20án:\x20'+_0x26210f[_0x1f5b17(0x318)]+'</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26210f['hours_to_complete']?_0x1f5b17(0x31b)+_0x26210f[_0x1f5b17(0x363)][_0x1f5b17(0x433)](0x1)+_0x1f5b17(0x3cc):'')+_0x1f5b17(0x367))[_0x1f5b17(0x3cf)]('');document[_0x1f5b17(0x1ad)]('activityTimeline')['insertAdjacentHTML'](_0x1f5b17(0x37f),_0x9c0935);}const _0x1da2eb=document[_0x1f5b17(0x1ad)]('loadMoreBtn');_0x2b1611[_0x1f5b17(0x276)]===_0x38c51b?(_0x1da2eb['style'][_0x1f5b17(0x3c8)]=_0x1f5b17(0x28a),_0x1da2eb['onclick']=()=>loadEmployeeTimeline(_0x5c1f93,_0x4bdf55+0x1)):_0x1da2eb[_0x1f5b17(0x107)][_0x1f5b17(0x3c8)]=_0x1f5b17(0x11c);}catch(_0x249852){console[_0x1f5b17(0x381)](_0x1f5b17(0x2ab),_0x249852),document[_0x1f5b17(0x1ad)](_0x1f5b17(0x308))[_0x1f5b17(0x3d9)]='<p\x20class=\x22text-muted\x20text-center\x22>Không\x20thể\x20tải\x20lịch\x20sử\x20hoạt\x20động</p>';}}function sendReminder(_0x4663b0){const _0x558d8a=_0x90c6a6;showNotification(_0x558d8a(0x319),'info');}function downloadAsTextFile(_0x26925a,_0x1fde73){const _0x253cd6=_0x90c6a6,_0xaec407=new Blob([_0x26925a],{'type':_0x253cd6(0x282)}),_0x4ca00a=URL['createObjectURL'](_0xaec407),_0x5ce725=document['createElement']('a');_0x5ce725[_0x253cd6(0x1e5)]=_0x4ca00a,_0x5ce725[_0x253cd6(0x14d)]=_0x1fde73,document[_0x253cd6(0x331)][_0x253cd6(0x351)](_0x5ce725),_0x5ce725[_0x253cd6(0x315)](),document[_0x253cd6(0x331)][_0x253cd6(0x341)](_0x5ce725),URL[_0x253cd6(0x242)](_0x4ca00a);}function showProjectReportModal(_0x295beb){const _0x2d68cc=_0x90c6a6;if(!currentUser||!hasManagerOrBossPermissions(currentUser)){showNotification(_0x2d68cc(0x209),'error');return;}const _0x24d09d=document[_0x2d68cc(0x1ad)]('projectReportModal');if(!_0x24d09d){showNotification(_0x2d68cc(0x152),_0x2d68cc(0x381));return;}const _0x49e930=projects[_0x2d68cc(0x419)](_0x122c8d=>_0x122c8d['id']===_0x295beb);_0x49e930&&(document['getElementById'](_0x2d68cc(0x239))[_0x2d68cc(0x3ea)]=_0x49e930[_0x2d68cc(0x1e8)]);if(typeof bootstrap!==_0x2d68cc(0x3ac)&&typeof bootstrap[_0x2d68cc(0x34c)]!=='undefined')try{const _0xf3f2ab=new bootstrap[(_0x2d68cc(0x34c))](_0x24d09d,{'backdrop':!![],'keyboard':!![],'focus':!![]});_0xf3f2ab[_0x2d68cc(0x385)](),setTimeout(()=>{const _0x22a9c4=_0x2d68cc;let _0x252d1e=document[_0x22a9c4(0x2a4)](_0x22a9c4(0x3a2));!_0x252d1e&&(_0x252d1e=document[_0x22a9c4(0x195)](_0x22a9c4(0x3f4)),_0x252d1e[_0x22a9c4(0x3ab)]=_0x22a9c4(0x34e),_0x252d1e[_0x22a9c4(0x107)]['position']='fixed',_0x252d1e[_0x22a9c4(0x107)][_0x22a9c4(0x10b)]='0',_0x252d1e['style'][_0x22a9c4(0x19d)]='0',_0x252d1e[_0x22a9c4(0x107)]['width']=_0x22a9c4(0x11b),_0x252d1e[_0x22a9c4(0x107)][_0x22a9c4(0x15e)]=_0x22a9c4(0x11b),_0x252d1e[_0x22a9c4(0x107)][_0x22a9c4(0x37b)]=_0x22a9c4(0x201),_0x252d1e[_0x22a9c4(0x107)]['zIndex']='1050',document[_0x22a9c4(0x331)][_0x22a9c4(0x351)](_0x252d1e)),_0x24d09d[_0x22a9c4(0x107)][_0x22a9c4(0x2ee)]=_0x22a9c4(0x1da);},0x64);}catch(_0x2b144a){console[_0x2d68cc(0x381)](_0x2d68cc(0x387),_0x2b144a),_0x24d09d[_0x2d68cc(0x107)][_0x2d68cc(0x3c8)]='block',_0x24d09d[_0x2d68cc(0x107)][_0x2d68cc(0x2f3)]=_0x2d68cc(0x3d1),_0x24d09d[_0x2d68cc(0x107)][_0x2d68cc(0x2ee)]=_0x2d68cc(0x3e4);}else _0x24d09d[_0x2d68cc(0x107)][_0x2d68cc(0x3c8)]='block',_0x24d09d[_0x2d68cc(0x107)]['visibility']='visible',_0x24d09d[_0x2d68cc(0x107)][_0x2d68cc(0x2ee)]=_0x2d68cc(0x3e4);loadProjectReportData(_0x295beb);}function showDownloadModal(_0xd71ee6){const _0x133ac8=_0x90c6a6;if(!currentUser||!hasManagerOrBossPermissions(currentUser)){showNotification('Chỉ\x20quản\x20lý\x20và\x20boss\x20mới\x20có\x20thể\x20tải\x20file',_0x133ac8(0x381));return;}const _0x167bca=document[_0x133ac8(0x1ad)](_0x133ac8(0x368));if(!_0x167bca){showNotification('Lỗi:\x20Không\x20tìm\x20thấy\x20modal\x20tải\x20file',_0x133ac8(0x381));return;}const _0x166e4a=projects[_0x133ac8(0x419)](_0xe9a505=>_0xe9a505['id']===_0xd71ee6);_0x166e4a&&(document['getElementById'](_0x133ac8(0x42a))[_0x133ac8(0x3ea)]=_0x166e4a['name']);if(typeof bootstrap!==_0x133ac8(0x3ac)&&typeof bootstrap[_0x133ac8(0x34c)]!=='undefined')try{const _0x4089b8=new bootstrap[(_0x133ac8(0x34c))](_0x167bca,{'backdrop':!![],'keyboard':!![],'focus':!![]});_0x4089b8[_0x133ac8(0x385)](),setTimeout(()=>{const _0x42b825=_0x133ac8;let _0xbadec3=document[_0x42b825(0x2a4)](_0x42b825(0x3a2));!_0xbadec3&&(_0xbadec3=document[_0x42b825(0x195)](_0x42b825(0x3f4)),_0xbadec3[_0x42b825(0x3ab)]=_0x42b825(0x34e),_0xbadec3[_0x42b825(0x107)]['position']=_0x42b825(0x41d),_0xbadec3[_0x42b825(0x107)][_0x42b825(0x10b)]='0',_0xbadec3['style'][_0x42b825(0x19d)]='0',_0xbadec3['style'][_0x42b825(0x18f)]=_0x42b825(0x11b),_0xbadec3[_0x42b825(0x107)][_0x42b825(0x15e)]='100%',_0xbadec3[_0x42b825(0x107)][_0x42b825(0x37b)]=_0x42b825(0x201),_0xbadec3[_0x42b825(0x107)]['zIndex']=_0x42b825(0x269),document[_0x42b825(0x331)][_0x42b825(0x351)](_0xbadec3)),_0x167bca[_0x42b825(0x107)][_0x42b825(0x2ee)]='1055';},0x64);}catch(_0x5b6dc5){console[_0x133ac8(0x381)]('Modal\x20error:',_0x5b6dc5),_0x167bca[_0x133ac8(0x107)]['display']='block',_0x167bca[_0x133ac8(0x107)]['visibility']='visible',_0x167bca[_0x133ac8(0x107)][_0x133ac8(0x2ee)]=_0x133ac8(0x3e4);}else _0x167bca[_0x133ac8(0x107)][_0x133ac8(0x3c8)]='block',_0x167bca[_0x133ac8(0x107)][_0x133ac8(0x2f3)]='visible',_0x167bca[_0x133ac8(0x107)][_0x133ac8(0x2ee)]=_0x133ac8(0x3e4);loadBetaFilesList(_0xd71ee6);}async function loadProjectReportData(_0x17613f){const _0x38df0f=_0x90c6a6;try{const _0x119627=tasks[_0x38df0f(0x3e1)](_0x3af9ca=>_0x3af9ca[_0x38df0f(0x283)]===_0x17613f),_0x1496bc={};_0x119627[_0x38df0f(0x267)](_0x50314e=>{const _0x297223=_0x38df0f;if(_0x50314e['assignee_id']){const _0x5d4cda=window[_0x297223(0x3a5)][_0x297223(0x419)](_0x5ecc8b=>_0x5ecc8b['id']===_0x50314e[_0x297223(0x2bd)]);if(_0x5d4cda){!_0x1496bc[_0x5d4cda['id']]&&(_0x1496bc[_0x5d4cda['id']]={'employee':_0x5d4cda,'taskCount':0x0,'rvChars':0x0,'betaChars':0x0,'rvMoney':0x0,'betaMoney':0x0,'totalMoney':0x0});const _0x4ef385=_0x1496bc[_0x5d4cda['id']];_0x4ef385[_0x297223(0x3e6)]++;if(_0x50314e[_0x297223(0x2f9)]==='rv')_0x4ef385['rvChars']+=parseInt(_0x50314e['rv_chars']||0x0),_0x4ef385['rvMoney']+=parseFloat(_0x50314e[_0x297223(0x1b0)]||0x0)*(parseInt(_0x50314e[_0x297223(0x39f)]||0x0)/0x3e8);else _0x50314e[_0x297223(0x2f9)]==='beta'&&(_0x4ef385['betaChars']+=parseInt(_0x50314e[_0x297223(0x22c)]||0x0),_0x4ef385[_0x297223(0x1c3)]+=parseFloat(_0x50314e[_0x297223(0x297)]||0x0)*(parseInt(_0x50314e[_0x297223(0x22c)]||0x0)/0x3e8));_0x4ef385['totalMoney']=_0x4ef385[_0x297223(0x15f)]+_0x4ef385[_0x297223(0x1c3)];}}}),currentReportData=_0x1496bc;const _0x2b45b4=_0x119627[_0x38df0f(0x276)],_0x4bebc1=_0x119627[_0x38df0f(0x176)]((_0x1b771e,_0x18e8aa)=>_0x1b771e+(_0x18e8aa[_0x38df0f(0x39f)]||0x0),0x0),_0x1babfb=_0x119627[_0x38df0f(0x176)]((_0x51bf15,_0x4d6928)=>_0x51bf15+(_0x4d6928['beta_chars']||0x0),0x0),_0x522b21=Object['values'](_0x1496bc)[_0x38df0f(0x176)]((_0x67e5f1,_0x208e2b)=>_0x67e5f1+_0x208e2b[_0x38df0f(0x353)],0x0);document[_0x38df0f(0x1ad)](_0x38df0f(0x1fa))['textContent']=_0x2b45b4,document[_0x38df0f(0x1ad)]('totalRVChars')[_0x38df0f(0x3ea)]=_0x4bebc1[_0x38df0f(0x391)](),document[_0x38df0f(0x1ad)](_0x38df0f(0x1d2))[_0x38df0f(0x3ea)]=_0x1babfb['toLocaleString'](),document[_0x38df0f(0x1ad)](_0x38df0f(0x353))['textContent']=_0x522b21['toLocaleString']()+'\x20VNĐ',displayReportData(_0x1496bc);const _0x2589c6=document['getElementById'](_0x38df0f(0x2db));_0x2589c6&&(_0x2589c6['innerHTML']=_0x38df0f(0x2fa),Object[_0x38df0f(0x279)](_0x1496bc)['forEach'](_0x251419=>{const _0x24b55b=_0x38df0f,_0x21c0e4=document[_0x24b55b(0x195)]('option');_0x21c0e4['value']=_0x251419[_0x24b55b(0x219)]['id'],_0x21c0e4['textContent']=_0x251419[_0x24b55b(0x219)]['name'],_0x2589c6['appendChild'](_0x21c0e4);}));}catch(_0x171fdc){console[_0x38df0f(0x381)](_0x38df0f(0x1ab),_0x171fdc),showNotification(_0x38df0f(0x193),'error');}}async function loadBetaFilesList(_0x6cddde){const _0x5ebfc2=_0x90c6a6;try{const _0x57924b=tasks['filter'](_0xc8f5b2=>_0xc8f5b2[_0x5ebfc2(0x283)]===_0x6cddde),_0xc5ec4d=document[_0x5ebfc2(0x1ad)](_0x5ebfc2(0x223));_0xc5ec4d[_0x5ebfc2(0x3d9)]='',_0x57924b[_0x5ebfc2(0x267)](_0xf4a206=>{const _0x4ca6cb=_0x5ebfc2,_0x358ebc=document[_0x4ca6cb(0x195)]('tr'),_0x44c54f=window[_0x4ca6cb(0x3a5)][_0x4ca6cb(0x419)](_0x43b284=>_0x43b284['id']===_0xf4a206['assignee_id']),_0x47e735=getTaskStatusBadge(_0xf4a206['status']);_0x358ebc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20class=\x22beta-file-checkbox\x22\x20value=\x22'+_0xf4a206['id']+'\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xf4a206[_0x4ca6cb(0x1e8)]+_0x4ca6cb(0x2bc)+(_0x44c54f?_0x44c54f[_0x4ca6cb(0x1e8)]:_0x4ca6cb(0x3db))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x47e735+_0x4ca6cb(0x2bc)+formatDateTime(_0xf4a206['updated_at'])+_0x4ca6cb(0x116),_0xc5ec4d[_0x4ca6cb(0x351)](_0x358ebc);});const _0x4c24a6=document[_0x5ebfc2(0x1ad)]('selectAllBetaFiles');_0x4c24a6&&(_0x4c24a6[_0x5ebfc2(0x237)]=function(){const _0x2e46fd=_0x5ebfc2,_0x28cca0=document['querySelectorAll']('.beta-file-checkbox');_0x28cca0[_0x2e46fd(0x267)](_0xa5e44a=>_0xa5e44a[_0x2e46fd(0x192)]=this['checked']);});}catch(_0x5834bc){console[_0x5ebfc2(0x381)](_0x5ebfc2(0x288),_0x5834bc),showNotification(_0x5ebfc2(0x2dd),_0x5ebfc2(0x381));}}function getTaskStatusBadge(_0x3de1a2){const _0x1fee89=_0x90c6a6,_0x262970={'pending':_0x1fee89(0x3ce),'in-progress':_0x1fee89(0x3bc),'completed':'<span\x20class=\x22badge\x20bg-success\x22>Hoàn\x20thành</span>','overdue':_0x1fee89(0x333)};return _0x262970[_0x3de1a2]||_0x1fee89(0x186);}function showRateMembersModal(){const _0x265e4a=_0x90c6a6,_0x4b39af=new bootstrap['Modal'](document['getElementById']('rateMembersModal'));_0x4b39af[_0x265e4a(0x385)](),updateRateModalButtons(),loadEmployeeRates(),loadProjectRates(),loadBulkRateOptions();}async function loadEmployeeRates(){const _0x1467b9=_0x90c6a6;try{let _0x2bb579=supabase[_0x1467b9(0x19c)](_0x1467b9(0x37d))[_0x1467b9(0x23f)](_0x1467b9(0x3f3));currentUser&&currentUser[_0x1467b9(0x278)]===_0x1467b9(0x219)&&(_0x2bb579=_0x2bb579['eq'](_0x1467b9(0x184),currentUser['id']));const {data:_0x2c4a25,error:_0x2d63d7}=await _0x2bb579[_0x1467b9(0x326)]('id');if(_0x2d63d7)throw _0x2d63d7;const _0x314136=(_0x2c4a25||[])[_0x1467b9(0x3b8)]((_0xe41bec,_0x3e787d)=>_0xe41bec['employees'][_0x1467b9(0x1e8)][_0x1467b9(0x339)](_0x3e787d[_0x1467b9(0x20d)][_0x1467b9(0x1e8)]));renderEmployeeRatesTable(_0x314136);}catch(_0x134f29){console[_0x1467b9(0x381)](_0x1467b9(0x382),_0x134f29),showNotification(_0x1467b9(0x1ee),'error');}}function renderEmployeeRatesTable(_0x5e983a){const _0x4cf1e5=_0x90c6a6,_0x4bf6af=document['getElementById'](_0x4cf1e5(0x1ae));_0x4bf6af[_0x4cf1e5(0x3d9)]='';if(_0x5e983a[_0x4cf1e5(0x276)]===0x0){_0x4bf6af[_0x4cf1e5(0x3d9)]='<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20text-muted\x22>Chưa\x20có\x20rate\x20nào\x20được\x20thiết\x20lập</td></tr>';return;}_0x5e983a[_0x4cf1e5(0x267)](_0x341303=>{const _0x292a58=_0x4cf1e5,_0x16a85f=document['createElement']('tr'),_0xf4cf0c=hasManagerOrBossPermissions(currentUser);_0x16a85f[_0x292a58(0x3d9)]=_0x292a58(0x2cb)+_0x341303['employees']['name']+_0x292a58(0x198)+_0x341303[_0x292a58(0x20d)][_0x292a58(0x2c3)]+_0x292a58(0x330)+_0x341303[_0x292a58(0x3e3)][_0x292a58(0x391)]()+_0x292a58(0x313)+_0x341303[_0x292a58(0x297)][_0x292a58(0x391)]()+_0x292a58(0x313)+formatDateTime(_0x341303[_0x292a58(0x127)])+_0x292a58(0x3a6)+(_0xf4cf0c?_0x292a58(0x11e)+_0x341303['id']+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-danger\x22\x20onclick=\x22deleteEmployeeRate(\x27'+_0x341303['id']+_0x292a58(0x33d):'')+_0x292a58(0x323),_0x4bf6af[_0x292a58(0x351)](_0x16a85f);});}async function loadProjectRates(){const _0xbaac3c=_0x90c6a6;try{const {data:_0x596351,error:_0x566e15}=await supabase[_0xbaac3c(0x19c)]('project_rates')[_0xbaac3c(0x23f)](_0xbaac3c(0x428))[_0xbaac3c(0x326)]('id');if(_0x566e15)throw _0x566e15;const _0x247059=(_0x596351||[])['sort']((_0x1b13b7,_0x182bbf)=>_0x1b13b7[_0xbaac3c(0x2fc)][_0xbaac3c(0x1e8)]['localeCompare'](_0x182bbf[_0xbaac3c(0x2fc)][_0xbaac3c(0x1e8)]));renderProjectRatesTable(_0x247059);}catch(_0x3bfd92){console[_0xbaac3c(0x381)](_0xbaac3c(0x438),_0x3bfd92),showNotification(_0xbaac3c(0x1dc),_0xbaac3c(0x381));}}function renderProjectRatesTable(_0x201c33){const _0x53807c=_0x90c6a6,_0xddf1ba=document['getElementById'](_0x53807c(0x356));_0xddf1ba[_0x53807c(0x3d9)]='';if(_0x201c33[_0x53807c(0x276)]===0x0){_0xddf1ba[_0x53807c(0x3d9)]=_0x53807c(0x26c);return;}_0x201c33[_0x53807c(0x267)](_0x1a64be=>{const _0x1f442b=_0x53807c,_0x355486=document[_0x1f442b(0x195)]('tr'),_0x57acac=hasManagerOrBossPermissions(currentUser);_0x355486['innerHTML']=_0x1f442b(0x2cb)+_0x1a64be[_0x1f442b(0x2fc)][_0x1f442b(0x1e8)]+_0x1f442b(0x198)+_0x1a64be[_0x1f442b(0x2fc)][_0x1f442b(0x329)]+_0x1f442b(0x330)+_0x1a64be[_0x1f442b(0x3e3)][_0x1f442b(0x391)]()+'\x20VNĐ</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1a64be['beta_rate']['toLocaleString']()+_0x1f442b(0x313)+formatDateTime(_0x1a64be['updated_at'])+_0x1f442b(0x3a6)+(_0x57acac?_0x1f442b(0x1fc)+_0x1a64be['id']+_0x1f442b(0x357)+_0x1a64be['id']+_0x1f442b(0x33d):'')+_0x1f442b(0x323),_0xddf1ba[_0x1f442b(0x351)](_0x355486);});}async function loadBulkRateOptions(){const _0x40b7f5=_0x90c6a6;try{if(!hasManagerOrBossPermissions(currentUser))return;const {data:_0x2545ee,error:_0x1770c8}=await supabase[_0x40b7f5(0x19c)](_0x40b7f5(0x20d))[_0x40b7f5(0x23f)](_0x40b7f5(0x420))[_0x40b7f5(0x326)](_0x40b7f5(0x1e8));if(_0x1770c8)throw _0x1770c8;const {data:_0x4bd1ed,error:_0x36b453}=await supabase[_0x40b7f5(0x19c)](_0x40b7f5(0x2fc))['select']('id,\x20name,\x20status')[_0x40b7f5(0x326)](_0x40b7f5(0x1e8));if(_0x36b453)throw _0x36b453;const _0x1fa6e8=document[_0x40b7f5(0x1ad)](_0x40b7f5(0x3f8));_0x1fa6e8[_0x40b7f5(0x3d9)]='',_0x2545ee[_0x40b7f5(0x267)](_0x242ad3=>{const _0x1377db=_0x40b7f5,_0x453dcc=document[_0x1377db(0x195)](_0x1377db(0x156));_0x453dcc[_0x1377db(0x3fe)]=_0x242ad3['id'],_0x453dcc[_0x1377db(0x3ea)]=_0x242ad3['name']+'\x20('+_0x242ad3[_0x1377db(0x2c3)]+')',_0x1fa6e8['appendChild'](_0x453dcc);});const _0x3d2afb=document[_0x40b7f5(0x1ad)](_0x40b7f5(0x15b));_0x3d2afb[_0x40b7f5(0x3d9)]='',_0x4bd1ed['forEach'](_0x31ed63=>{const _0x5f25f4=_0x40b7f5,_0x36f597=document['createElement'](_0x5f25f4(0x156));_0x36f597[_0x5f25f4(0x3fe)]=_0x31ed63['id'],_0x36f597[_0x5f25f4(0x3ea)]=_0x31ed63['name']+'\x20('+_0x31ed63[_0x5f25f4(0x329)]+')',_0x3d2afb[_0x5f25f4(0x351)](_0x36f597);});}catch(_0x5894a3){console[_0x40b7f5(0x381)]('Error\x20loading\x20bulk\x20rate\x20options:',_0x5894a3),showNotification(_0x40b7f5(0x1e9),_0x40b7f5(0x381));}}function addNewEmployeeRate(){const _0x1febae=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x1febae(0x2f4),_0x1febae(0x381));return;}document[_0x1febae(0x1ad)](_0x1febae(0x263))[_0x1febae(0x3fe)]='',document[_0x1febae(0x1ad)](_0x1febae(0x145))['textContent']=_0x1febae(0x375),populateEmployeeRateSelect();const _0x5dd3bc=new bootstrap[(_0x1febae(0x34c))](document[_0x1febae(0x1ad)]('employeeRateModal'));_0x5dd3bc[_0x1febae(0x385)]();}async function checkEmployeeRateExists(_0x46962b){const _0x519b7a=_0x90c6a6;try{const {data:_0x1a3ea6,error:_0x5382f1}=await supabase[_0x519b7a(0x19c)](_0x519b7a(0x37d))[_0x519b7a(0x23f)](_0x519b7a(0x1b4))['eq'](_0x519b7a(0x184),_0x46962b)[_0x519b7a(0x1b2)]();if(_0x5382f1&&_0x5382f1[_0x519b7a(0x291)]!==_0x519b7a(0x113))throw _0x5382f1;return _0x1a3ea6||null;}catch(_0x2faed0){return console[_0x519b7a(0x381)]('Error\x20checking\x20employee\x20rate:',_0x2faed0),null;}}async function checkProjectRateExists(_0x34c070){const _0x25f351=_0x90c6a6;try{const {data:_0x4ca57c,error:_0x3071e6}=await supabase[_0x25f351(0x19c)](_0x25f351(0xfa))['select'](_0x25f351(0x1b4))['eq'](_0x25f351(0x283),_0x34c070)['single']();if(_0x3071e6&&_0x3071e6['code']!=='PGRST116')throw _0x3071e6;return _0x4ca57c||null;}catch(_0x28f02e){return console['error'](_0x25f351(0x1e1),_0x28f02e),null;}}async function populateEmployeeRateSelect(){const _0x19dbc1=_0x90c6a6;try{if(!hasManagerOrBossPermissions(currentUser))return;const {data:_0x33e8d8,error:_0x3d7048}=await supabase[_0x19dbc1(0x19c)](_0x19dbc1(0x20d))[_0x19dbc1(0x23f)]('id,\x20name,\x20email')['order']('name');if(_0x3d7048)throw _0x3d7048;const _0x205e25=document[_0x19dbc1(0x1ad)](_0x19dbc1(0x3d2));_0x205e25['innerHTML']=_0x19dbc1(0x443),_0x33e8d8[_0x19dbc1(0x267)](_0x399c7e=>{const _0x59a648=_0x19dbc1,_0x3a0305=document[_0x59a648(0x195)](_0x59a648(0x156));_0x3a0305['value']=_0x399c7e['id'],_0x3a0305[_0x59a648(0x3ea)]=_0x399c7e[_0x59a648(0x1e8)]+'\x20('+_0x399c7e[_0x59a648(0x2c3)]+')',_0x205e25[_0x59a648(0x351)](_0x3a0305);});}catch(_0x3317c9){console['error'](_0x19dbc1(0x33b),_0x3317c9),showNotification(_0x19dbc1(0x413),_0x19dbc1(0x381));}}async function saveEmployeeRate(){const _0x813627=_0x90c6a6;try{const _0x5f1945=document[_0x813627(0x1ad)](_0x813627(0x3d2))[_0x813627(0x3fe)],_0x4be0fb=parseFloat(document[_0x813627(0x1ad)]('employeeRateRVRate')[_0x813627(0x3fe)]),_0x17d644=parseFloat(document[_0x813627(0x1ad)](_0x813627(0x212))[_0x813627(0x3fe)]),_0x17fc34=document[_0x813627(0x1ad)]('employeeRateId')[_0x813627(0x3fe)];if(!_0x5f1945||isNaN(_0x4be0fb)||isNaN(_0x17d644)){showNotification('Vui\x20lòng\x20điền\x20đầy\x20đủ\x20thông\x20tin',_0x813627(0x381));return;}let _0x50b409;if(_0x17fc34)_0x50b409=await supabase[_0x813627(0x19c)]('employee_rates')[_0x813627(0x230)]({'rv_rate':_0x4be0fb,'beta_rate':_0x17d644,'updated_at':new Date()['toISOString']()})['eq']('id',_0x17fc34);else{const _0x492f51=await checkEmployeeRateExists(_0x5f1945);_0x492f51?_0x50b409=await supabase[_0x813627(0x19c)]('employee_rates')['update']({'rv_rate':_0x4be0fb,'beta_rate':_0x17d644,'updated_at':new Date()[_0x813627(0x217)]()})['eq']('id',_0x492f51['id']):_0x50b409=await supabase[_0x813627(0x19c)](_0x813627(0x37d))[_0x813627(0x199)]({'employee_id':_0x5f1945,'rv_rate':_0x4be0fb,'beta_rate':_0x17d644});}if(_0x50b409[_0x813627(0x381)])throw _0x50b409['error'];showNotification(_0x813627(0x12d),_0x813627(0x14f));const _0x10e159=bootstrap[_0x813627(0x34c)][_0x813627(0x314)](document['getElementById'](_0x813627(0x359)));_0x10e159[_0x813627(0x105)](),loadEmployeeRates(),loadBulkRateOptions();}catch(_0x1f21b4){console['error'](_0x813627(0x442),_0x1f21b4);let _0x1ba8a5=_0x813627(0x3e8);if(_0x1f21b4[_0x813627(0x291)]==='23505')_0x1ba8a5=_0x813627(0x38d);else _0x1f21b4['message']&&(_0x1ba8a5=_0x813627(0x362)+_0x1f21b4[_0x813627(0x2c1)]);showNotification(_0x1ba8a5,'error');}}async function editEmployeeRate(_0x36650f){const _0x7880ce=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x7880ce(0x3de),'error');return;}try{const {data:_0x2f1bbd,error:_0x4ffa3f}=await supabase[_0x7880ce(0x19c)](_0x7880ce(0x37d))['select'](_0x7880ce(0x16c))['eq']('id',_0x36650f)[_0x7880ce(0x1b2)]();if(_0x4ffa3f)throw _0x4ffa3f;document[_0x7880ce(0x1ad)](_0x7880ce(0x263))[_0x7880ce(0x3fe)]=_0x2f1bbd['id'],document[_0x7880ce(0x1ad)](_0x7880ce(0x145))[_0x7880ce(0x3ea)]='Sửa\x20Rate\x20Nhân\x20viên',document[_0x7880ce(0x1ad)](_0x7880ce(0x175))[_0x7880ce(0x3fe)]=_0x2f1bbd['rv_rate'],document[_0x7880ce(0x1ad)](_0x7880ce(0x212))[_0x7880ce(0x3fe)]=_0x2f1bbd['beta_rate'],await populateEmployeeRateSelect(),document['getElementById']('employeeRateEmployeeSelect')[_0x7880ce(0x3fe)]=_0x2f1bbd[_0x7880ce(0x184)];const _0x293396=new bootstrap[(_0x7880ce(0x34c))](document[_0x7880ce(0x1ad)](_0x7880ce(0x359)));_0x293396[_0x7880ce(0x385)]();}catch(_0x34146c){console['error'](_0x7880ce(0x1ec),_0x34146c),showNotification('Lỗi\x20khi\x20tải\x20thông\x20tin\x20rate',_0x7880ce(0x381));}}async function deleteEmployeeRate(_0x494b0c){const _0x9f759c=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x9f759c(0x25c),_0x9f759c(0x381));return;}if(!confirm('Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20rate\x20này?'))return;try{const {error:_0x587272}=await supabase[_0x9f759c(0x19c)](_0x9f759c(0x37d))['delete']()['eq']('id',_0x494b0c);if(_0x587272)throw _0x587272;showNotification(_0x9f759c(0x42e),'success'),loadEmployeeRates(),loadBulkRateOptions();}catch(_0x598ccd){console[_0x9f759c(0x381)](_0x9f759c(0x299),_0x598ccd),showNotification(_0x9f759c(0x2be),_0x9f759c(0x381));}}function addNewProjectRate(){const _0x2f7b18=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x2f7b18(0x2f4),_0x2f7b18(0x381));return;}document[_0x2f7b18(0x1ad)]('projectRateId')[_0x2f7b18(0x3fe)]='',document[_0x2f7b18(0x1ad)](_0x2f7b18(0x41a))[_0x2f7b18(0x3ea)]=_0x2f7b18(0x16e),populateProjectRateSelect();const _0x4278c0=new bootstrap[(_0x2f7b18(0x34c))](document[_0x2f7b18(0x1ad)]('projectRateModal'));_0x4278c0['show']();}async function populateProjectRateSelect(){const _0x1da04b=_0x90c6a6;try{if(!hasManagerOrBossPermissions(currentUser))return;const {data:_0x9c6028,error:_0x38f56e}=await supabase['from'](_0x1da04b(0x2fc))['select'](_0x1da04b(0x33e))['order'](_0x1da04b(0x1e8));if(_0x38f56e)throw _0x38f56e;const _0x2ffdd4=document['getElementById']('projectRateProjectSelect');_0x2ffdd4['innerHTML']='<option\x20value=\x22\x22>Chọn\x20dự\x20án...</option>',_0x9c6028[_0x1da04b(0x267)](_0x7aca75=>{const _0x4e1462=_0x1da04b,_0x150a67=document[_0x4e1462(0x195)](_0x4e1462(0x156));_0x150a67[_0x4e1462(0x3fe)]=_0x7aca75['id'],_0x150a67[_0x4e1462(0x3ea)]=_0x7aca75[_0x4e1462(0x1e8)]+'\x20('+_0x7aca75[_0x4e1462(0x329)]+')',_0x2ffdd4[_0x4e1462(0x351)](_0x150a67);});}catch(_0x8a51db){console[_0x1da04b(0x381)]('Error\x20populating\x20project\x20select:',_0x8a51db),showNotification(_0x1da04b(0x182),_0x1da04b(0x381));}}async function saveProjectRate(){const _0x15d1ce=_0x90c6a6;try{const _0x1df9d1=document[_0x15d1ce(0x1ad)](_0x15d1ce(0x427))[_0x15d1ce(0x3fe)],_0xbcb499=parseFloat(document[_0x15d1ce(0x1ad)]('projectRateRVRate')[_0x15d1ce(0x3fe)]),_0xaa910e=parseFloat(document['getElementById'](_0x15d1ce(0x1c1))[_0x15d1ce(0x3fe)]),_0x2e2bda=document[_0x15d1ce(0x1ad)](_0x15d1ce(0x3f5))['value'];if(!_0x1df9d1||isNaN(_0xbcb499)||isNaN(_0xaa910e)){showNotification(_0x15d1ce(0x30a),_0x15d1ce(0x381));return;}let _0x313d8e;if(_0x2e2bda)_0x313d8e=await supabase[_0x15d1ce(0x19c)](_0x15d1ce(0xfa))[_0x15d1ce(0x230)]({'rv_rate':_0xbcb499,'beta_rate':_0xaa910e,'updated_at':new Date()['toISOString']()})['eq']('id',_0x2e2bda);else{const _0x4faebc=await checkProjectRateExists(_0x1df9d1);_0x4faebc?_0x313d8e=await supabase[_0x15d1ce(0x19c)]('project_rates')[_0x15d1ce(0x230)]({'rv_rate':_0xbcb499,'beta_rate':_0xaa910e,'updated_at':new Date()['toISOString']()})['eq']('id',_0x4faebc['id']):_0x313d8e=await supabase[_0x15d1ce(0x19c)]('project_rates')['insert']({'project_id':_0x1df9d1,'rv_rate':_0xbcb499,'beta_rate':_0xaa910e});}if(_0x313d8e[_0x15d1ce(0x381)])throw _0x313d8e[_0x15d1ce(0x381)];showNotification(_0x15d1ce(0x12d),_0x15d1ce(0x14f));const _0x3dc7d2=bootstrap[_0x15d1ce(0x34c)]['getInstance'](document[_0x15d1ce(0x1ad)]('projectRateModal'));_0x3dc7d2['hide'](),loadProjectRates(),loadBulkRateOptions();}catch(_0x4bb78b){console['error']('Error\x20saving\x20project\x20rate:',_0x4bb78b);let _0x289153='Lỗi\x20khi\x20lưu\x20rate';if(_0x4bb78b[_0x15d1ce(0x291)]==='23505')_0x289153=_0x15d1ce(0x35a);else _0x4bb78b[_0x15d1ce(0x2c1)]&&(_0x289153=_0x15d1ce(0x362)+_0x4bb78b[_0x15d1ce(0x2c1)]);showNotification(_0x289153,_0x15d1ce(0x381));}}async function editProjectRate(_0x3d7bfe){const _0x12aa5b=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x12aa5b(0x3de),_0x12aa5b(0x381));return;}try{const {data:_0x555c51,error:_0x4241d6}=await supabase[_0x12aa5b(0x19c)](_0x12aa5b(0xfa))[_0x12aa5b(0x23f)](_0x12aa5b(0x428))['eq']('id',_0x3d7bfe)[_0x12aa5b(0x1b2)]();if(_0x4241d6)throw _0x4241d6;document['getElementById'](_0x12aa5b(0x3f5))[_0x12aa5b(0x3fe)]=_0x555c51['id'],document[_0x12aa5b(0x1ad)](_0x12aa5b(0x41a))[_0x12aa5b(0x3ea)]=_0x12aa5b(0x383),document[_0x12aa5b(0x1ad)](_0x12aa5b(0x155))[_0x12aa5b(0x3fe)]=_0x555c51[_0x12aa5b(0x3e3)],document[_0x12aa5b(0x1ad)](_0x12aa5b(0x1c1))[_0x12aa5b(0x3fe)]=_0x555c51[_0x12aa5b(0x297)],await populateProjectRateSelect(),document[_0x12aa5b(0x1ad)]('projectRateProjectSelect')['value']=_0x555c51[_0x12aa5b(0x283)];const _0x46b81b=new bootstrap['Modal'](document[_0x12aa5b(0x1ad)](_0x12aa5b(0x200)));_0x46b81b['show']();}catch(_0x17afb2){console['error'](_0x12aa5b(0x2a0),_0x17afb2),showNotification(_0x12aa5b(0x2d9),_0x12aa5b(0x381));}}async function deleteProjectRate(_0x1ed432){const _0x3849be=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x3849be(0x25c),_0x3849be(0x381));return;}if(!confirm('Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20rate\x20này?'))return;try{const {error:_0x301b56}=await supabase[_0x3849be(0x19c)](_0x3849be(0xfa))['delete']()['eq']('id',_0x1ed432);if(_0x301b56)throw _0x301b56;showNotification(_0x3849be(0x42e),'success'),loadProjectRates(),loadBulkRateOptions();}catch(_0x7276ee){console[_0x3849be(0x381)](_0x3849be(0x15a),_0x7276ee),showNotification(_0x3849be(0x2be),_0x3849be(0x381));}}function _0x3f71(_0x48e756,_0x502a81){const _0x5e190d=_0x5e19();return _0x3f71=function(_0x3f71b0,_0x5169cd){_0x3f71b0=_0x3f71b0-0xf3;let _0x27f4f7=_0x5e190d[_0x3f71b0];return _0x27f4f7;},_0x3f71(_0x48e756,_0x502a81);}async function applyBulkEmployeeRates(){const _0x48ad70=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x48ad70(0x2e3),_0x48ad70(0x381));return;}try{const _0x11620a=Array[_0x48ad70(0x19c)](document[_0x48ad70(0x1ad)](_0x48ad70(0x3f8))[_0x48ad70(0x25b)])[_0x48ad70(0x1d4)](_0x5e4168=>_0x5e4168[_0x48ad70(0x3fe)]),_0xcd0719=parseFloat(document['getElementById']('bulkEmployeeRVRate')['value']),_0x874e48=parseFloat(document[_0x48ad70(0x1ad)]('bulkEmployeeBetaRate')[_0x48ad70(0x3fe)]);if(_0x11620a[_0x48ad70(0x276)]===0x0||isNaN(_0xcd0719)||isNaN(_0x874e48)){showNotification(_0x48ad70(0x232),_0x48ad70(0x381));return;}const _0x272881=_0x11620a[_0x48ad70(0x1d4)](_0x58bc1c=>({'employee_id':_0x58bc1c,'rv_rate':_0xcd0719,'beta_rate':_0x874e48})),{error:_0x4e0bee}=await supabase['from'](_0x48ad70(0x37d))[_0x48ad70(0x1cd)](_0x272881,{'onConflict':_0x48ad70(0x184)});if(_0x4e0bee)throw _0x4e0bee;showNotification(_0x48ad70(0x115)+_0x11620a[_0x48ad70(0x276)]+'\x20nhân\x20viên',_0x48ad70(0x14f)),document[_0x48ad70(0x1ad)](_0x48ad70(0x268))[_0x48ad70(0x3fe)]='',document[_0x48ad70(0x1ad)](_0x48ad70(0x15c))['value']='',document[_0x48ad70(0x1ad)](_0x48ad70(0x3f8))[_0x48ad70(0x3e9)]=-0x1,loadEmployeeRates();}catch(_0x3b4fed){console[_0x48ad70(0x381)](_0x48ad70(0xf6),_0x3b4fed),showNotification(_0x48ad70(0x29b),_0x48ad70(0x381));}}async function applyBulkProjectRates(){const _0x3de322=_0x90c6a6;if(!hasManagerOrBossPermissions(currentUser)){showNotification(_0x3de322(0x2e3),'error');return;}try{const _0x37e418=Array[_0x3de322(0x19c)](document[_0x3de322(0x1ad)](_0x3de322(0x15b))[_0x3de322(0x25b)])[_0x3de322(0x1d4)](_0x45385b=>_0x45385b[_0x3de322(0x3fe)]),_0x60f99f=parseFloat(document[_0x3de322(0x1ad)]('bulkProjectRVRate')[_0x3de322(0x3fe)]),_0x17f271=parseFloat(document[_0x3de322(0x1ad)](_0x3de322(0x3d0))[_0x3de322(0x3fe)]);if(_0x37e418['length']===0x0||isNaN(_0x60f99f)||isNaN(_0x17f271)){showNotification(_0x3de322(0x320),_0x3de322(0x381));return;}const _0x25a501=_0x37e418[_0x3de322(0x1d4)](_0x2934ff=>({'project_id':_0x2934ff,'rv_rate':_0x60f99f,'beta_rate':_0x17f271})),{error:_0x4793ad}=await supabase[_0x3de322(0x19c)](_0x3de322(0xfa))[_0x3de322(0x1cd)](_0x25a501,{'onConflict':'project_id'});if(_0x4793ad)throw _0x4793ad;showNotification(_0x3de322(0x115)+_0x37e418[_0x3de322(0x276)]+_0x3de322(0x369),_0x3de322(0x14f)),document[_0x3de322(0x1ad)](_0x3de322(0x42d))[_0x3de322(0x3fe)]='',document[_0x3de322(0x1ad)]('bulkProjectBetaRate')[_0x3de322(0x3fe)]='',document[_0x3de322(0x1ad)](_0x3de322(0x15b))[_0x3de322(0x3e9)]=-0x1,loadProjectRates();}catch(_0x190e9a){console[_0x3de322(0x381)](_0x3de322(0x20e),_0x190e9a),showNotification(_0x3de322(0x29b),'error');}}async function getTaskRate(_0x5899ec,_0x1d400d,_0x4f74a9){const _0x12c765=_0x90c6a6;try{const {data:_0x2ce1f0,error:_0x3e716f}=await supabase['from']('employee_project_rates')[_0x12c765(0x23f)](_0x12c765(0x124))['eq']('employee_id',_0x5899ec)['eq'](_0x12c765(0x283),_0x1d400d)['single']();_0x3e716f&&_0x3e716f['code']!==_0x12c765(0x113)&&console[_0x12c765(0x381)]('Error\x20checking\x20project\x20rate\x20setting:',_0x3e716f);if(_0x2ce1f0&&_0x2ce1f0[_0x12c765(0x243)]){const {data:_0x471804,error:_0xd42ab5}=await supabase[_0x12c765(0x19c)](_0x12c765(0xfa))[_0x12c765(0x23f)](_0x12c765(0x3b6))['eq'](_0x12c765(0x283),_0x1d400d)[_0x12c765(0x1b2)]();if(!_0xd42ab5&&_0x471804)return _0x4f74a9==='rv'?_0x471804[_0x12c765(0x3e3)]:_0x471804[_0x12c765(0x297)];}if(_0x2ce1f0&&!_0x2ce1f0[_0x12c765(0x243)])return _0x4f74a9==='rv'?_0x2ce1f0['rv_rate']:_0x2ce1f0[_0x12c765(0x297)];const {data:_0x54fd6f,error:_0x4337db}=await supabase['from'](_0x12c765(0x37d))[_0x12c765(0x23f)]('rv_rate,\x20beta_rate')['eq'](_0x12c765(0x184),_0x5899ec)[_0x12c765(0x1b2)]();if(!_0x4337db&&_0x54fd6f)return _0x4f74a9==='rv'?_0x54fd6f['rv_rate']:_0x54fd6f['beta_rate'];return 0x0;}catch(_0x128390){return console[_0x12c765(0x381)](_0x12c765(0x1ba),_0x128390),0x0;}}function updateRateMembersButton(){const _0xb4a833=_0x90c6a6,_0x5dcb4d=document[_0xb4a833(0x1ad)](_0xb4a833(0x35b));if(_0x5dcb4d){const _0x37065d=document[_0xb4a833(0x1ad)](_0xb4a833(0x13f)),_0x27d916=_0x37065d&&_0x37065d['style'][_0xb4a833(0x3c8)]!==_0xb4a833(0x11c);currentUser&&_0x27d916?_0x5dcb4d['style']['display']='inline-block':_0x5dcb4d[_0xb4a833(0x107)][_0xb4a833(0x3c8)]=_0xb4a833(0x11c);}}function updateRateModalButtons(){const _0x1d1ee5=_0x90c6a6,_0x1967e2=hasManagerOrBossPermissions(currentUser),_0xf0f607=document[_0x1d1ee5(0x1ad)](_0x1d1ee5(0x2c5));_0xf0f607&&(_0xf0f607['style'][_0x1d1ee5(0x3c8)]=_0x1967e2?'inline-block':_0x1d1ee5(0x11c));const _0x1bfa08=document[_0x1d1ee5(0x1ad)](_0x1d1ee5(0x10d));_0x1bfa08&&(_0x1bfa08[_0x1d1ee5(0x107)][_0x1d1ee5(0x3c8)]=_0x1967e2?'inline-block':_0x1d1ee5(0x11c));const _0xbc97e4=document['getElementById'](_0x1d1ee5(0x2c9));if(_0xbc97e4){if(_0x1967e2)_0xbc97e4[_0x1d1ee5(0x107)][_0x1d1ee5(0x3c8)]=_0x1d1ee5(0x112);else{_0xbc97e4['style'][_0x1d1ee5(0x3c8)]=_0x1d1ee5(0x11c);const _0x177153=document['getElementById'](_0x1d1ee5(0x312));_0x177153&&_0xbc97e4[_0x1d1ee5(0x19e)][_0x1d1ee5(0x3b5)]('active')&&_0x177153[_0x1d1ee5(0x315)]();}}}